<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.8.1"><bpmn:process id="TEMPLATE_INSTANCE_PROCESS_hlk_app_sms_close_d7a72765-a55f-4ffb-ada8-0ce652304a67" name="SMS-оповещения. Отключение клиента" isExecutable="true"><bpmn:documentation /><bpmn:startEvent id="StartEvent_1"><bpmn:outgoing>SequenceFlow_0or7jn6</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id="EndEvent_0djl7a3"><bpmn:incoming>SequenceFlow_1kwrx8o</bpmn:incoming></bpmn:endEvent><bpmn:userTask id="Task_0micukk" name="Заполнение заявки на отключение SMS услуги" camunda:formKey="FILL" camunda:candidateGroups="cb_directordp, cb_clientmanager, cb_backoffice , jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="hlk_client_app" label="Клиент" type="string" /><camunda:formField id="hlk_reason_close" label="Причина отключения" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0z4k2fn</bpmn:incoming><bpmn:incoming>SequenceFlow_0i5xnfx</bpmn:incoming><bpmn:outgoing>SequenceFlow_0a1wo2a</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="SequenceFlow_0or7jn6" sourceRef="StartEvent_1" targetRef="taskStatus_creation" /><bpmn:sequenceFlow id="SequenceFlow_0a1wo2a" sourceRef="Task_0micukk" targetRef="ServiceTask_0mv5mtb" /><bpmn:serviceTask id="ServiceTask_18devms" name="Установка статуса &#34;Заполнение заявки&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заполнение+заявки</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0bwyp8d</bpmn:incoming><bpmn:incoming>SequenceFlow_0huja8w</bpmn:incoming><bpmn:outgoing>SequenceFlow_0z4k2fn</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0z4k2fn" sourceRef="ServiceTask_18devms" targetRef="Task_0micukk" /><bpmn:serviceTask id="ServiceTask_0q99htm" name="Установка статуса &#34;Зарегистрирована&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+зарегистрирована</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0jchq0q</bpmn:incoming><bpmn:outgoing>SequenceFlow_027horx</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_027horx" sourceRef="ServiceTask_0q99htm" targetRef="UserTask_16hqj3x" /><bpmn:serviceTask id="ServiceTask_13962ax" name="Установка статуса &#34;Исполнена&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0hmj0rz</bpmn:incoming><bpmn:outgoing>SequenceFlow_1gdwqhr</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1gdwqhr" sourceRef="ServiceTask_13962ax" targetRef="ServiceTask_03blio5" /><bpmn:sequenceFlow id="SequenceFlow_0bwyp8d" sourceRef="UserTask_16hqj3x" targetRef="ServiceTask_18devms"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'retry'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_16ybaca" sourceRef="UserTask_16hqj3x" targetRef="ServiceTask_0o9i7px"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'cancel'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:userTask id="UserTask_16hqj3x" name="Подтверждение заявки добавление SMS услуги" camunda:candidateGroups="cb_headmiddleofice, cb_managermiddleoffice, cb_backoffice , jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;confirm&#34;,&#34;label&#34;:&#34;Подтвердить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="{&#34;id&#34;:&#34;retry&#34;,&#34;label&#34;:&#34;Повторное заполнение&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="{&#34;id&#34;: &#34;cancel&#34;, &#34;label&#34;: &#34;Отказать в подтверждении&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [ {&#34;name&#34;: &#34;hlk_reason_close&#34;, &#34;label&#34;: &#34;Причина отказа&#34;, &#34;type&#34;: &#34;string&#34;}  ]}" type="string" /><camunda:formField id="{&#34;id&#34;:&#34;arhiv&#34;,&#34;label&#34;:&#34;Архивировать&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_027horx</bpmn:incoming><bpmn:outgoing>SequenceFlow_16ybaca</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0bwyp8d</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0vt3e4g</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1719swc</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_1x5cn3m" name="Получение данных по договору"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
    "find": "book",
    "filter": {
        "templatePrimaryId": "5e2ea8e551915100088d013a",
        "attributes.hlk_client_FL.primaryId": "${hlk_client_app}",
        "activityStatus": "ACTIVE"
    },
    "projection": {
        "attributes.hlk_need_sms_confirm": 1,
        "attributes.hlk_sms_auth_phone": 1,
        "_id": 1
    }
}</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="sms_active"><camunda:script scriptFormat="javascript">try{
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_need_sms_confirm;
} catch(e) {
false;
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="sms_number"><camunda:script scriptFormat="javascript">try{
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_sms_auth_phone;
} catch(e) {
"";
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="contract_id"><camunda:script scriptFormat="javascript">try{
JSON.parse(response).cursor.firstBatch[0]._id;
} catch(e) {
"";
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_01ycytw</bpmn:incoming><bpmn:outgoing>SequenceFlow_14euv6x</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_14euv6x" sourceRef="ServiceTask_1x5cn3m" targetRef="Gateway_0gdhp0j" /><bpmn:exclusiveGateway id="Gateway_0gdhp0j"><bpmn:incoming>SequenceFlow_14euv6x</bpmn:incoming><bpmn:outgoing>SequenceFlow_06tf44m</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0jchq0q</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0mv5mtb" name="Получение поля &#34;Клиент&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0a1wo2a</bpmn:incoming><bpmn:outgoing>SequenceFlow_1f3shw6</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_18c9j99" name="Установка статуса &#34;Заявка отменена: Договор не найден&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+отменена:+Договор+не+найден</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_06tf44m</bpmn:incoming><bpmn:outgoing>SequenceFlow_0i5xnfx</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0i5xnfx" sourceRef="ServiceTask_18c9j99" targetRef="Task_0micukk" /><bpmn:sequenceFlow id="SequenceFlow_06tf44m" sourceRef="Gateway_0gdhp0j" targetRef="ServiceTask_18c9j99"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!found}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0vt3e4g" sourceRef="UserTask_16hqj3x" targetRef="ServiceTask_1mqg0z3"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'confirm'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="ServiceTask_03blio5" name="Обновление договора"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${contract_id}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_need_sms_confirm", false)
.prop("hlk_sms_auth_phone","")
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1gdwqhr</bpmn:incoming><bpmn:outgoing>SequenceFlow_1teh9g9</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1teh9g9" sourceRef="ServiceTask_03blio5" targetRef="ServiceTask_0knmacy" /><bpmn:serviceTask id="ServiceTask_1bxuff1" name="Получение поля &#34;ID заявки&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_app_id</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_app_id">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1ibtdwl</bpmn:incoming><bpmn:outgoing>SequenceFlow_01ycytw</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_01ycytw" sourceRef="ServiceTask_1bxuff1" targetRef="ServiceTask_1x5cn3m" /><bpmn:serviceTask id="ServiceTask_0b2tg5h" name="Достаем primaryId заявки"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1589fpt</bpmn:incoming><bpmn:outgoing>SequenceFlow_0b1i2al</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0b1i2al" sourceRef="ServiceTask_0b2tg5h" targetRef="ServiceTask_1ylueft" /><bpmn:serviceTask id="ServiceTask_1ylueft" name="Записываем в объект"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_app_id?incrementVersion=true&amp;value=${primaryId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0b1i2al</bpmn:incoming><bpmn:outgoing>SequenceFlow_0huja8w</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0huja8w" sourceRef="ServiceTask_1ylueft" targetRef="ServiceTask_18devms" /><bpmn:serviceTask id="ServiceTask_02aiuue" name="Проверка на дубли заявки Подключения SMS"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "book", 	"filter": { 		"templatePrimaryId": "5e5bf730e03dd80007c05255", 		"attributes.hlk_client_app.primaryId": "${hlk_client_app}",  "labelStatus" : "Клиенту уже подключена услуга SMS-подтверждения. Создать заявку на изменение?"}, 	"projection": { 		"_id": 1 	} }</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1f3shw6</bpmn:incoming><bpmn:outgoing>SequenceFlow_1mhud6q</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1mhud6q" sourceRef="ServiceTask_02aiuue" targetRef="ExclusiveGateway_06k3ccs" /><bpmn:sequenceFlow id="SequenceFlow_1f3shw6" sourceRef="ServiceTask_0mv5mtb" targetRef="ServiceTask_02aiuue" /><bpmn:exclusiveGateway id="ExclusiveGateway_06k3ccs" default="SequenceFlow_0uzjdgr"><bpmn:incoming>SequenceFlow_1mhud6q</bpmn:incoming><bpmn:outgoing>SequenceFlow_0uzjdgr</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0ls7zf0</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0uzjdgr" sourceRef="ExclusiveGateway_06k3ccs" targetRef="ServiceTask_0dyauyy" /><bpmn:serviceTask id="ServiceTask_1az9npp" name="Установка статуса &#34;Дублирующая заявка.Подключение&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Невозможно+отключить.+Существует+незавершенная+заявка+на+Подключение+клиента</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ls7zf0</bpmn:incoming><bpmn:outgoing>SequenceFlow_12zy2cr</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0ls7zf0" sourceRef="ExclusiveGateway_06k3ccs" targetRef="ServiceTask_1az9npp"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0jchq0q" sourceRef="Gateway_0gdhp0j" targetRef="ServiceTask_0q99htm" /><bpmn:sequenceFlow id="SequenceFlow_0hmj0rz" sourceRef="ServiceTask_1mqg0z3" targetRef="ServiceTask_13962ax" /><bpmn:callActivity id="ServiceTask_1mqg0z3" name="Генерация приложения 8" calledElement="Annex8Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0vt3e4g</bpmn:incoming><bpmn:outgoing>SequenceFlow_0hmj0rz</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_0dyauyy" name="Проверка на дубли заявки Изменение номера"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "book", 	"filter": { 		"templatePrimaryId": "5e5bf74ee03dd80007c05269", 		"attributes.hlk_client_app.primaryId": "${hlk_client_app}",  "labelStatus" : "Зарегистрирована"}, 	"projection": { 		"_id": 1 	} }</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0uzjdgr</bpmn:incoming><bpmn:outgoing>SequenceFlow_0jrbbmr</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1ohwz5c" default="SequenceFlow_1ibtdwl"><bpmn:incoming>SequenceFlow_0jrbbmr</bpmn:incoming><bpmn:outgoing>SequenceFlow_0fe1q33</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1ibtdwl</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_1kcv4ft" name="Установка статуса &#34;Дублирующая заявка.Изменение&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обрабокта:+Невозможно+отключить.+Существует+незавершенная+заявка+на+изменение+номера+клиента</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0fe1q33</bpmn:incoming><bpmn:outgoing>SequenceFlow_0uphux5</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0jrbbmr" sourceRef="ServiceTask_0dyauyy" targetRef="ExclusiveGateway_1ohwz5c" /><bpmn:sequenceFlow id="SequenceFlow_0fe1q33" sourceRef="ExclusiveGateway_1ohwz5c" targetRef="ServiceTask_1kcv4ft"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1ibtdwl" sourceRef="ExclusiveGateway_1ohwz5c" targetRef="ServiceTask_1bxuff1" /><bpmn:serviceTask id="ServiceTask_12xr83p" name="Проставление в ФЛ статуса подключения к SMS"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/individual/${referenceId1}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_need_sms_confirm", false)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0pkohjv</bpmn:incoming><bpmn:outgoing>SequenceFlow_1n9x8we</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1n9x8we" sourceRef="ServiceTask_12xr83p" targetRef="ServiceTask_09lzlkj" /><bpmn:serviceTask id="ServiceTask_0hmknzi" name="Получаем инстанс айди выбранного клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getRefId/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="referenceId1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1rbjyqi</bpmn:incoming><bpmn:outgoing>SequenceFlow_0pkohjv</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0pkohjv" sourceRef="ServiceTask_0hmknzi" targetRef="ServiceTask_12xr83p" /><bpmn:serviceTask id="ServiceTask_0knmacy" name="Повышаем версию договора"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${contract_id}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1teh9g9</bpmn:incoming><bpmn:outgoing>SequenceFlow_03i4dah</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_03i4dah" sourceRef="ServiceTask_0knmacy" targetRef="ScriptTask_1acuzo4" /><bpmn:serviceTask id="ServiceTask_0o9i7px" name="Установка статуса &#34;Отказано в подтверждении&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Отказано+в+подтверждении</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_16ybaca</bpmn:incoming><bpmn:outgoing>SequenceFlow_0o53u81</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_017qwqd" name="Записываем в объект причину отказа"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_app_reason_close?incrementVersion=false&amp;value=${hlk_reason_close.replace(" ","+")}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1806rxi</bpmn:incoming><bpmn:outgoing>SequenceFlow_15pa7fa</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0o53u81" sourceRef="ServiceTask_0o9i7px" targetRef="Activity_0l973gm" /><bpmn:userTask id="UserTask_1l7h5xc" name="Кнопка &#34;Архивировать&#34;" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;retry&#34;,&#34;label&#34;:&#34;Архивировать&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_12zy2cr</bpmn:incoming><bpmn:incoming>SequenceFlow_0uphux5</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gx0pli</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_1matg7o" name="Архивация"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/archive</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0gx0pli</bpmn:incoming><bpmn:incoming>SequenceFlow_1719swc</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dsr7s1</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0t2zjep" name="Установка статуса &#34;Архив&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Архив</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0kbjngs</bpmn:incoming><bpmn:outgoing>SequenceFlow_19xl31q</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0gf2yoq"><bpmn:incoming>SequenceFlow_19xl31q</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="SequenceFlow_0gx0pli" sourceRef="UserTask_1l7h5xc" targetRef="ServiceTask_1matg7o" /><bpmn:sequenceFlow id="SequenceFlow_1dsr7s1" sourceRef="ServiceTask_1matg7o" targetRef="IntermediateCatchEvent_1n767bx" /><bpmn:sequenceFlow id="SequenceFlow_19xl31q" sourceRef="ServiceTask_0t2zjep" targetRef="EndEvent_0gf2yoq" /><bpmn:sequenceFlow id="SequenceFlow_12zy2cr" sourceRef="ServiceTask_1az9npp" targetRef="UserTask_1l7h5xc" /><bpmn:sequenceFlow id="SequenceFlow_0uphux5" sourceRef="ServiceTask_1kcv4ft" targetRef="UserTask_1l7h5xc" /><bpmn:sequenceFlow id="SequenceFlow_1719swc" sourceRef="UserTask_16hqj3x" targetRef="ServiceTask_1matg7o"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'arhiv'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:userTask id="UserTask_0tobug6" name="Кнопка &#34;Архивировать&#34;" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;retry&#34;,&#34;label&#34;:&#34;Архивировать&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_15pa7fa</bpmn:incoming><bpmn:outgoing>SequenceFlow_1yvdlmp</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_035rmov" name="Архивация"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/archive</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1yvdlmp</bpmn:incoming><bpmn:outgoing>SequenceFlow_0vanqti</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0km0luw" name="Установка статуса &#34;Архив&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Архив</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1flcbn8</bpmn:incoming><bpmn:outgoing>SequenceFlow_10omhco</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0p3bckn"><bpmn:incoming>SequenceFlow_10omhco</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="SequenceFlow_1yvdlmp" sourceRef="UserTask_0tobug6" targetRef="ServiceTask_035rmov" /><bpmn:sequenceFlow id="SequenceFlow_0vanqti" sourceRef="ServiceTask_035rmov" targetRef="IntermediateCatchEvent_1clm5b8" /><bpmn:sequenceFlow id="SequenceFlow_10omhco" sourceRef="ServiceTask_0km0luw" targetRef="EndEvent_0p3bckn" /><bpmn:sequenceFlow id="SequenceFlow_15pa7fa" sourceRef="ServiceTask_017qwqd" targetRef="UserTask_0tobug6" /><bpmn:intermediateCatchEvent id="IntermediateCatchEvent_1n767bx"><bpmn:incoming>SequenceFlow_1dsr7s1</bpmn:incoming><bpmn:outgoing>SequenceFlow_0kbjngs</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_14i5wpy"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT5S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="SequenceFlow_0kbjngs" sourceRef="IntermediateCatchEvent_1n767bx" targetRef="ServiceTask_0t2zjep" /><bpmn:intermediateCatchEvent id="IntermediateCatchEvent_1clm5b8"><bpmn:incoming>SequenceFlow_0vanqti</bpmn:incoming><bpmn:outgoing>SequenceFlow_1flcbn8</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_0wf4prd"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT5S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="SequenceFlow_1flcbn8" sourceRef="IntermediateCatchEvent_1clm5b8" targetRef="ServiceTask_0km0luw" /><bpmn:serviceTask id="taskStatus_creation" name="Установка статуса &#34;Создание заявки&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Создание+заявки</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0or7jn6</bpmn:incoming><bpmn:outgoing>SequenceFlow_1589fpt</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1589fpt" sourceRef="taskStatus_creation" targetRef="ServiceTask_0b2tg5h" /><bpmn:serviceTask id="ServiceTask_189aaqu" name="Сброс в ФЛ признака отправки в фокус и терминал"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${contract_id}/setAttributes?incrementVersion=false</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("export_terminal", false)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0j97wqf</bpmn:incoming><bpmn:outgoing>SequenceFlow_1rbjyqi</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1rbjyqi" sourceRef="ServiceTask_189aaqu" targetRef="ServiceTask_0hmknzi" /><bpmn:scriptTask id="ScriptTask_1acuzo4" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_03i4dah</bpmn:incoming><bpmn:outgoing>SequenceFlow_0j97wqf</bpmn:outgoing><bpmn:script>function sleep(ms) {
ms += new Date().getTime();
while (new Date() &lt; ms){}
} 

sleep(5000)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_0j97wqf" sourceRef="ScriptTask_1acuzo4" targetRef="ServiceTask_189aaqu" /><bpmn:serviceTask id="ServiceTask_09lzlkj" name="Сброс в ФЛ признака отправки в фокус и терминал"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/individual/${referenceId1}/setAttributes?incrementVersion=false</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("export_terminal", false)
.prop("export_focus", false)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1n9x8we</bpmn:incoming><bpmn:outgoing>SequenceFlow_1kwrx8o</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1kwrx8o" sourceRef="ServiceTask_09lzlkj" targetRef="EndEvent_0djl7a3" /><bpmn:scriptTask id="Activity_0l973gm" name="Декодируем url для отправки причины отклонения" scriptFormat="groovy" camunda:resultVariable="hlk_reason_close"><bpmn:incoming>SequenceFlow_0o53u81</bpmn:incoming><bpmn:outgoing>Flow_1806rxi</bpmn:outgoing><bpmn:script>import groovy.*

def hlk_reason_close = execution.getVariable("hlk_reason_close")

hlk_reason_return = java.net.URLEncoder.encode(hlk_reason_close, "UTF-8")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_1806rxi" sourceRef="Activity_0l973gm" targetRef="ServiceTask_017qwqd" /></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TEMPLATE_INSTANCE_PROCESS_hlk_app_sms_close_d7a72765-a55f-4ffb-ada8-0ce652304a67"><bpmndi:BPMNEdge id="Flow_1806rxi_di" bpmnElement="Flow_1806rxi"><di:waypoint x="2115" y="750" /><di:waypoint x="2115" y="870" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1kwrx8o_di" bpmnElement="SequenceFlow_1kwrx8o"><di:waypoint x="3510" y="478" /><di:waypoint x="3572" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0j97wqf_di" bpmnElement="SequenceFlow_0j97wqf"><di:waypoint x="2900" y="478" /><di:waypoint x="2990" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1rbjyqi_di" bpmnElement="SequenceFlow_1rbjyqi"><di:waypoint x="3090" y="478" /><di:waypoint x="3133" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1589fpt_di" bpmnElement="SequenceFlow_1589fpt"><di:waypoint x="345" y="478" /><di:waypoint x="416" y="478" /><bpmndi:BPMNLabel><dc:Bounds x="180.5" y="457" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1flcbn8_di" bpmnElement="SequenceFlow_1flcbn8"><di:waypoint x="2388" y="1020" /><di:waypoint x="2420" y="1020" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0kbjngs_di" bpmnElement="SequenceFlow_0kbjngs"><di:waypoint x="1725" y="196" /><di:waypoint x="1753" y="196" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_15pa7fa_di" bpmnElement="SequenceFlow_15pa7fa"><di:waypoint x="2117" y="950" /><di:waypoint x="2117" y="965" /><di:waypoint x="2116" y="965" /><di:waypoint x="2116" y="980" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_10omhco_di" bpmnElement="SequenceFlow_10omhco"><di:waypoint x="2520" y="1020" /><di:waypoint x="2566" y="1020" /><di:waypoint x="2566" y="1030" /><di:waypoint x="2612" y="1030" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0vanqti_di" bpmnElement="SequenceFlow_0vanqti"><di:waypoint x="2320" y="1020" /><di:waypoint x="2352" y="1020" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1yvdlmp_di" bpmnElement="SequenceFlow_1yvdlmp"><di:waypoint x="2165" y="1020" /><di:waypoint x="2220" y="1020" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1719swc_di" bpmnElement="SequenceFlow_1719swc"><di:waypoint x="2076" y="437" /><di:waypoint x="2076" y="325" /><di:waypoint x="1618" y="325" /><di:waypoint x="1618" y="236" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0uphux5_di" bpmnElement="SequenceFlow_0uphux5"><di:waypoint x="1398" y="316" /><di:waypoint x="1398" y="276" /><di:waypoint x="1484" y="276" /><di:waypoint x="1484" y="236" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12zy2cr_di" bpmnElement="SequenceFlow_12zy2cr"><di:waypoint x="1185" y="316" /><di:waypoint x="1185" y="276" /><di:waypoint x="1484" y="276" /><di:waypoint x="1484" y="236" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_19xl31q_di" bpmnElement="SequenceFlow_19xl31q"><di:waypoint x="1853" y="196" /><di:waypoint x="1891" y="196" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dsr7s1_di" bpmnElement="SequenceFlow_1dsr7s1"><di:waypoint x="1668" y="196" /><di:waypoint x="1689" y="196" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gx0pli_di" bpmnElement="SequenceFlow_0gx0pli"><di:waypoint x="1534" y="196" /><di:waypoint x="1568" y="196" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0o53u81_di" bpmnElement="SequenceFlow_0o53u81"><di:waypoint x="2117" y="630" /><di:waypoint x="2117" y="650" /><di:waypoint x="2110" y="650" /><di:waypoint x="2110" y="670" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_03i4dah_di" bpmnElement="SequenceFlow_03i4dah"><di:waypoint x="2710" y="478" /><di:waypoint x="2800" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0pkohjv_di" bpmnElement="SequenceFlow_0pkohjv"><di:waypoint x="3233" y="478" /><di:waypoint x="3265" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1n9x8we_di" bpmnElement="SequenceFlow_1n9x8we"><di:waypoint x="3365" y="478" /><di:waypoint x="3410" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ibtdwl_di" bpmnElement="SequenceFlow_1ibtdwl"><di:waypoint x="1423" y="478" /><di:waypoint x="1488" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0fe1q33_di" bpmnElement="SequenceFlow_0fe1q33"><di:waypoint x="1398" y="453" /><di:waypoint x="1398" y="396" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0jrbbmr_di" bpmnElement="SequenceFlow_0jrbbmr"><di:waypoint x="1345" y="478" /><di:waypoint x="1373" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0hmj0rz_di" bpmnElement="SequenceFlow_0hmj0rz"><di:waypoint x="2296" y="478" /><di:waypoint x="2342" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0jchq0q_di" bpmnElement="SequenceFlow_0jchq0q"><di:waypoint x="1795" y="478" /><di:waypoint x="1919" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ls7zf0_di" bpmnElement="SequenceFlow_0ls7zf0"><di:waypoint x="1185" y="453" /><di:waypoint x="1185" y="396" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0uzjdgr_di" bpmnElement="SequenceFlow_0uzjdgr"><di:waypoint x="1210" y="478" /><di:waypoint x="1245" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1f3shw6_di" bpmnElement="SequenceFlow_1f3shw6"><di:waypoint x="1004" y="478" /><di:waypoint x="1032" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1mhud6q_di" bpmnElement="SequenceFlow_1mhud6q"><di:waypoint x="1132" y="478" /><di:waypoint x="1160" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0huja8w_di" bpmnElement="SequenceFlow_0huja8w"><di:waypoint x="637" y="478" /><di:waypoint x="657" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0b1i2al_di" bpmnElement="SequenceFlow_0b1i2al"><di:waypoint x="516" y="478" /><di:waypoint x="537" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_01ycytw_di" bpmnElement="SequenceFlow_01ycytw"><di:waypoint x="1588" y="478" /><di:waypoint x="1615" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1teh9g9_di" bpmnElement="SequenceFlow_1teh9g9"><di:waypoint x="2580" y="478" /><di:waypoint x="2610" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0vt3e4g_di" bpmnElement="SequenceFlow_0vt3e4g"><di:waypoint x="2158" y="478" /><di:waypoint x="2196" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_06tf44m_di" bpmnElement="SequenceFlow_06tf44m"><di:waypoint x="1770" y="503" /><di:waypoint x="1770" y="597" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0i5xnfx_di" bpmnElement="SequenceFlow_0i5xnfx"><di:waypoint x="1720" y="637" /><di:waypoint x="827" y="637" /><di:waypoint x="827" y="518" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_14euv6x_di" bpmnElement="SequenceFlow_14euv6x"><di:waypoint x="1715" y="478" /><di:waypoint x="1745" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16ybaca_di" bpmnElement="SequenceFlow_16ybaca"><di:waypoint x="2108" y="518" /><di:waypoint x="2108" y="534" /><di:waypoint x="2117" y="534" /><di:waypoint x="2117" y="550" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0bwyp8d_di" bpmnElement="SequenceFlow_0bwyp8d"><di:waypoint x="2108" y="438" /><di:waypoint x="2108" y="81" /><di:waypoint x="707" y="81" /><di:waypoint x="707" y="438" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1gdwqhr_di" bpmnElement="SequenceFlow_1gdwqhr"><di:waypoint x="2442" y="478" /><di:waypoint x="2480" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_027horx_di" bpmnElement="SequenceFlow_027horx"><di:waypoint x="2019" y="478" /><di:waypoint x="2058" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0z4k2fn_di" bpmnElement="SequenceFlow_0z4k2fn"><di:waypoint x="757" y="478" /><di:waypoint x="777" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0a1wo2a_di" bpmnElement="SequenceFlow_0a1wo2a"><di:waypoint x="877" y="478" /><di:waypoint x="904" y="478" /><bpmndi:BPMNLabel><dc:Bounds x="454" y="99" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0or7jn6_di" bpmnElement="SequenceFlow_0or7jn6"><di:waypoint x="191" y="478" /><di:waypoint x="245" y="478" /><bpmndi:BPMNLabel><dc:Bounds x="-27" y="457" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds x="155" y="460" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="-72" y="496" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0djl7a3_di" bpmnElement="EndEvent_0djl7a3"><dc:Bounds x="3572" y="460" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="1064" y="142" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1quc7do_di" bpmnElement="Task_0micukk" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="777" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_18devms_di" bpmnElement="ServiceTask_18devms"><dc:Bounds x="657" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0q99htm_di" bpmnElement="ServiceTask_0q99htm"><dc:Bounds x="1919" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_13962ax_di" bpmnElement="ServiceTask_13962ax"><dc:Bounds x="2342" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_16hqj3x_di" bpmnElement="UserTask_16hqj3x" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="2058" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1x5cn3m_di" bpmnElement="ServiceTask_1x5cn3m"><dc:Bounds x="1615" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0imodwe_di" bpmnElement="Gateway_0gdhp0j" isMarkerVisible="true"><dc:Bounds x="1745" y="453" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0mv5mtb_di" bpmnElement="ServiceTask_0mv5mtb"><dc:Bounds x="904" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_18c9j99_di" bpmnElement="ServiceTask_18c9j99"><dc:Bounds x="1720" y="597" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_03blio5_di" bpmnElement="ServiceTask_03blio5"><dc:Bounds x="2480" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1bxuff1_di" bpmnElement="ServiceTask_1bxuff1"><dc:Bounds x="1488" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0b2tg5h_di" bpmnElement="ServiceTask_0b2tg5h"><dc:Bounds x="416" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ylueft_di" bpmnElement="ServiceTask_1ylueft"><dc:Bounds x="537" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_02aiuue_di" bpmnElement="ServiceTask_02aiuue"><dc:Bounds x="1032" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_06k3ccs_di" bpmnElement="ExclusiveGateway_06k3ccs" isMarkerVisible="true"><dc:Bounds x="1160" y="453" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1az9npp_di" bpmnElement="ServiceTask_1az9npp"><dc:Bounds x="1135" y="316" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1f9nnsh_di" bpmnElement="ServiceTask_1mqg0z3"><dc:Bounds x="2196" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0dyauyy_di" bpmnElement="ServiceTask_0dyauyy"><dc:Bounds x="1245" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1ohwz5c_di" bpmnElement="ExclusiveGateway_1ohwz5c" isMarkerVisible="true"><dc:Bounds x="1373" y="453" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1kcv4ft_di" bpmnElement="ServiceTask_1kcv4ft"><dc:Bounds x="1348" y="316" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_12xr83p_di" bpmnElement="ServiceTask_12xr83p"><dc:Bounds x="3265" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0hmknzi_di" bpmnElement="ServiceTask_0hmknzi"><dc:Bounds x="3133" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0knmacy_di" bpmnElement="ServiceTask_0knmacy"><dc:Bounds x="2610" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0o9i7px_di" bpmnElement="ServiceTask_0o9i7px"><dc:Bounds x="2067" y="550" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_017qwqd_di" bpmnElement="ServiceTask_017qwqd"><dc:Bounds x="2065" y="870" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1l7h5xc_di" bpmnElement="UserTask_1l7h5xc" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1434" y="156" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1matg7o_di" bpmnElement="ServiceTask_1matg7o"><dc:Bounds x="1568" y="156" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0t2zjep_di" bpmnElement="ServiceTask_0t2zjep"><dc:Bounds x="1753" y="156" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0gf2yoq_di" bpmnElement="EndEvent_0gf2yoq"><dc:Bounds x="1891" y="178" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_0tobug6_di" bpmnElement="UserTask_0tobug6" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="2065" y="980" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_035rmov_di" bpmnElement="ServiceTask_035rmov"><dc:Bounds x="2220" y="980" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0km0luw_di" bpmnElement="ServiceTask_0km0luw"><dc:Bounds x="2420" y="980" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0p3bckn_di" bpmnElement="EndEvent_0p3bckn"><dc:Bounds x="2612" y="1012" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="IntermediateCatchEvent_1n767bx_di" bpmnElement="IntermediateCatchEvent_1n767bx"><dc:Bounds x="1689" y="178" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="IntermediateCatchEvent_1clm5b8_di" bpmnElement="IntermediateCatchEvent_1clm5b8"><dc:Bounds x="2352" y="1002" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_03oe4ww_di" bpmnElement="taskStatus_creation"><dc:Bounds x="245" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_189aaqu_di" bpmnElement="ServiceTask_189aaqu"><dc:Bounds x="2990" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1acuzo4_di" bpmnElement="ScriptTask_1acuzo4"><dc:Bounds x="2800" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_09lzlkj_di" bpmnElement="ServiceTask_09lzlkj"><dc:Bounds x="3410" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0l973gm_di" bpmnElement="Activity_0l973gm"><dc:Bounds x="2067" y="670" width="100" height="80" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
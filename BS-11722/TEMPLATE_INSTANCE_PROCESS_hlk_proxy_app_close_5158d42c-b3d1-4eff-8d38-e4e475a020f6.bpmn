<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.4.1"><bpmn:process id="TEMPLATE_INSTANCE_PROCESS_hlk_proxy_app_close_5158d42c-b3d1-4eff-8d38-e4e475a020f6" name="Заявки на отзыв доверенности" isExecutable="true"><bpmn:documentation /><bpmn:startEvent id="StartEvent_1"><bpmn:outgoing>SequenceFlow_0or7jn6</bpmn:outgoing></bpmn:startEvent><bpmn:userTask id="Task_0micukk" name="Указать причину отзыва доверенности" camunda:formKey="FILL" camunda:assignee="${initiator}" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="hlk_app_reason_close" label="Причина отзыва" type="string" /><camunda:formField id="hlk_client_app" label="Клиент" type="string" /><camunda:formField id="hlk_proxy_Confidant" label="Доверенное лицо" type="string" /><camunda:formField id="hlk_proxy_KIND" label="Вид доверенности" type="string" /><camunda:formField id="hlk_proxy_id" label="ID доверенности" type="string" /><camunda:formField id="hlk_exist_dov" label="Существующая доверенность" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0kl02zn</bpmn:incoming><bpmn:outgoing>SequenceFlow_0883ht9</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="SequenceFlow_0or7jn6" sourceRef="StartEvent_1" targetRef="TaskStatus_Creation" /><bpmn:serviceTask id="ServiceTask_05jysm3" name="Достаем primaryId заявки"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1kttr6e</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ejpfyh</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0be2rxd" name="Записываем primaryId в объект"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_app_id?incrementVersion=true&amp;value=${primaryId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1ejpfyh</bpmn:incoming><bpmn:outgoing>SequenceFlow_10j4b30</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1ejpfyh" sourceRef="ServiceTask_05jysm3" targetRef="ServiceTask_0be2rxd" /><bpmn:serviceTask id="ServiceTask_0w9ftgc" name="Установка статуса &#34;Заполнение заявки&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Заполнение+заявки</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_10j4b30</bpmn:incoming><bpmn:incoming>SequenceFlow_09p1ea5</bpmn:incoming><bpmn:outgoing>SequenceFlow_0kl02zn</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_15rowzo" default="SequenceFlow_04uw5tg"><bpmn:incoming>SequenceFlow_1cbzhr2</bpmn:incoming><bpmn:outgoing>SequenceFlow_04uw5tg</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0c0pc84</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_04uw5tg" sourceRef="ExclusiveGateway_15rowzo" targetRef="ServiceTask_0lzf8qe" /><bpmn:serviceTask id="ServiceTask_0a44ey0" name="Установка статуса &#34;Отклонена&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+ Заявка+отклонена+(дубль+заявки)</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0c0pc84</bpmn:incoming><bpmn:outgoing>SequenceFlow_1k4xs1u</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0c0pc84" sourceRef="ExclusiveGateway_15rowzo" targetRef="ServiceTask_0a44ey0"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="ServiceTask_0lzf8qe" name="Установка статуса &#34;Зарегистрирована&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+зарегистрирована</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_04uw5tg</bpmn:incoming><bpmn:outgoing>SequenceFlow_1sfoe46</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0yrkd4k"><bpmn:incoming>SequenceFlow_0zgwz30</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_0d3t6l8" name="Установка статуса &#34;Исполнена&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0c7hj18</bpmn:incoming><bpmn:incoming>SequenceFlow_03xahfw</bpmn:incoming><bpmn:incoming>SequenceFlow_1lb82kj</bpmn:incoming><bpmn:incoming>SequenceFlow_05yqr9e</bpmn:incoming><bpmn:incoming>SequenceFlow_116z3ev</bpmn:incoming><bpmn:outgoing>SequenceFlow_1khbfqj</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1f2kjax" name="Повышение версии"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1khbfqj</bpmn:incoming><bpmn:outgoing>SequenceFlow_0mvn7i0</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_11c3n00" default="SequenceFlow_05yqr9e"><bpmn:incoming>SequenceFlow_13vyc6p</bpmn:incoming><bpmn:outgoing>SequenceFlow_05yqr9e</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0ni9yz1</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:userTask id="UserTask_1apgc4m" name="Подтверждение заявки на отзыв доверенности" camunda:assignee="${initiator}"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;confirm&#34;,&#34;label&#34;:&#34;Подтвердить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="{&#34;id&#34;:&#34;retry&#34;,&#34;label&#34;:&#34;Повторное заполнение причины отмены&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="{&#34;id&#34;: &#34;cancel&#34;, &#34;label&#34;: &#34;Отказать в подтверждении&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [ {&#34;name&#34;: &#34;hlk_reason_close&#34;, &#34;label&#34;: &#34;Причина отказа&#34;, &#34;type&#34;: &#34;string&#34;}  ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1sfoe46</bpmn:incoming><bpmn:incoming>SequenceFlow_1b0fymw</bpmn:incoming><bpmn:incoming>SequenceFlow_0d2kieq</bpmn:incoming><bpmn:outgoing>SequenceFlow_0d0smyy</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1mtw6eo</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1hcblk6</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_1vq5pv2" name="Изменение статуса доверенности на &#34;Отозвана&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/archivate?id=${hlk_exist_dov}&amp;archivateDate=${dateTime().toString("yyyy-MM-dd")}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0mvn7i0</bpmn:incoming><bpmn:outgoing>SequenceFlow_1mt15rl</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0j5qtlg" default="SequenceFlow_0c7hj18"><bpmn:incoming>SequenceFlow_0abw5kj</bpmn:incoming><bpmn:outgoing>SequenceFlow_0c7hj18</bpmn:outgoing><bpmn:outgoing>SequenceFlow_03qdhx4</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1p3lw60</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_05j3o57" name="Проверка доверенности права второй подписи по клиенту"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "book", 	"filter": { 		"templatePrimaryId": "5dca67c5e189c4000750f60d", 		"attributes.hlk_client_app.primaryId": "${hlk_client_app}", 		"attributes.hlk_proxy_KIND": "Право второй подписи", 		"activityStatus": "ACTIVE" 	}, 	"projection": { 		"_id": 1 	} }</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_03qdhx4</bpmn:incoming><bpmn:outgoing>SequenceFlow_13vyc6p</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_05yqr9e" sourceRef="ExclusiveGateway_11c3n00" targetRef="ServiceTask_0d3t6l8" /><bpmn:sequenceFlow id="SequenceFlow_0ni9yz1" sourceRef="ExclusiveGateway_11c3n00" targetRef="ServiceTask_0jx77w3"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0c7hj18" sourceRef="ExclusiveGateway_0j5qtlg" targetRef="ServiceTask_0d3t6l8" /><bpmn:sequenceFlow id="SequenceFlow_1khbfqj" sourceRef="ServiceTask_0d3t6l8" targetRef="ServiceTask_1f2kjax" /><bpmn:sequenceFlow id="SequenceFlow_0mvn7i0" sourceRef="ServiceTask_1f2kjax" targetRef="ServiceTask_1vq5pv2" /><bpmn:sequenceFlow id="SequenceFlow_13vyc6p" sourceRef="ServiceTask_05j3o57" targetRef="ExclusiveGateway_11c3n00" /><bpmn:sequenceFlow id="SequenceFlow_0d0smyy" sourceRef="UserTask_1apgc4m" targetRef="ServiceTask_0yhmfze"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'cancel'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1mtw6eo" sourceRef="UserTask_1apgc4m" targetRef="ServiceTask_0ljuhur"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == "confirm"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_03qdhx4" sourceRef="ExclusiveGateway_0j5qtlg" targetRef="ServiceTask_05j3o57"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${hlk_proxy_KIND == "Право первой подписи"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1sfoe46" sourceRef="ServiceTask_0lzf8qe" targetRef="UserTask_1apgc4m" /><bpmn:endEvent id="EndEvent_1qnqsku"><bpmn:incoming>SequenceFlow_1k4xs1u</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="SequenceFlow_1k4xs1u" sourceRef="ServiceTask_0a44ey0" targetRef="EndEvent_1qnqsku" /><bpmn:serviceTask id="ServiceTask_076rr2j" name="Проверка на дубли заявки"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "book", 	"filter": { 		"templatePrimaryId": "5e5bf4c9e03dd80007c051c7", 		"attributes.hlk_client_app.primaryId": "${hlk_client_app}", 		"attributes.hlk_proxy_BASE": "${hlk_proxy_BASE}", "attributes.hlk_proxy_KIND": "${hlk_proxy_KIND}", "labelStatus" : "Зарегистрирована"}, 	"projection": { 		"_id": 1 	} }</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1eerfcq</bpmn:incoming><bpmn:outgoing>SequenceFlow_1cbzhr2</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1cbzhr2" sourceRef="ServiceTask_076rr2j" targetRef="ExclusiveGateway_15rowzo" /><bpmn:serviceTask id="ServiceTask_0yfjc8y" name="Получение поля &#34;Клиент&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0883ht9</bpmn:incoming><bpmn:outgoing>SequenceFlow_0evn667</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0qlvaq0" name="Получение поля &#34;Основание&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_proxy_BASE</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_proxy_BASE">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0evn667</bpmn:incoming><bpmn:outgoing>SequenceFlow_1o8nbpd</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0jx77w3" name="Проверка доверенности права второй подписи по доверенному лицу"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
    "find": "book",
    "filter": {
        "templatePrimaryId": "5dca67c5e189c4000750f60d",
        "attributes.hlk_proxy_Confidant.primaryId": {
            "$ne": "${hlk_proxy_Confidant}"
        },
        "attributes.hlk_proxy_KIND": "Право второй подписи","attributes.hlk_client_app.primaryId": "${hlk_client_app}",
        "activityStatus": "ACTIVE"
    },
    "projection": {
        "_id": 1
    }
}</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ni9yz1</bpmn:incoming><bpmn:outgoing>SequenceFlow_14rdpu3</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_14rdpu3" sourceRef="ServiceTask_0jx77w3" targetRef="ExclusiveGateway_0c8pgc6" /><bpmn:serviceTask id="ServiceTask_0xo3bve" name="Установка статуса &#34;Отсутствует право второй подписи по доверенному лицу&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Отсутствует+право+второй+подписи+по+доверенному+лицу</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1ath248</bpmn:incoming><bpmn:outgoing>SequenceFlow_1b0fymw</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0c8pgc6" default="SequenceFlow_1ath248"><bpmn:incoming>SequenceFlow_14rdpu3</bpmn:incoming><bpmn:outgoing>SequenceFlow_03xahfw</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1ath248</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_03xahfw" sourceRef="ExclusiveGateway_0c8pgc6" targetRef="ServiceTask_0d3t6l8"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1ath248" sourceRef="ExclusiveGateway_0c8pgc6" targetRef="ServiceTask_0xo3bve" /><bpmn:sequenceFlow id="SequenceFlow_1b0fymw" sourceRef="ServiceTask_0xo3bve" targetRef="UserTask_1apgc4m" /><bpmn:sequenceFlow id="SequenceFlow_1hcblk6" sourceRef="UserTask_1apgc4m" targetRef="ServiceTask_0fjcets"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'retry'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0883ht9" sourceRef="Task_0micukk" targetRef="ServiceTask_0yfjc8y" /><bpmn:sequenceFlow id="SequenceFlow_0evn667" sourceRef="ServiceTask_0yfjc8y" targetRef="ServiceTask_0qlvaq0" /><bpmn:sequenceFlow id="SequenceFlow_1o8nbpd" sourceRef="ServiceTask_0qlvaq0" targetRef="ServiceTask_0p3dk7n" /><bpmn:serviceTask id="ServiceTask_0p3dk7n" name="Получение поля &#34;Вид доверенности&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_proxy_KIND</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_proxy_KIND">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1o8nbpd</bpmn:incoming><bpmn:outgoing>SequenceFlow_0z8bi11</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0z8bi11" sourceRef="ServiceTask_0p3dk7n" targetRef="ServiceTask_0zn3fib" /><bpmn:serviceTask id="ServiceTask_0zn3fib" name="Получение поля &#34;ID доверенности&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getRefId/hlk_exist_dov</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_exist_dov">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0z8bi11</bpmn:incoming><bpmn:outgoing>SequenceFlow_1qmuji8</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1qmuji8" sourceRef="ServiceTask_0zn3fib" targetRef="ServiceTask_0agbxi1" /><bpmn:serviceTask id="ServiceTask_0agbxi1" name="Получение данных исходной доверенности"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/mapAttributes?sourceId=${hlk_exist_dov}&amp;sourceType=BOOK</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{"hlk_proxy_DateRegistration":"hlk_proxy_DateRegistration",
"hlk_proxy_END_DATE":"hlk_proxy_END_DATE",
"hlk_comment":"hlk_comment",
"hlk_proxy_SIGNING_DATE":"hlk_proxy_SIGNING_DATE"}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1qmuji8</bpmn:incoming><bpmn:outgoing>SequenceFlow_1eerfcq</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1eerfcq" sourceRef="ServiceTask_0agbxi1" targetRef="ServiceTask_076rr2j" /><bpmn:sequenceFlow id="SequenceFlow_10j4b30" sourceRef="ServiceTask_0be2rxd" targetRef="ServiceTask_0w9ftgc" /><bpmn:sequenceFlow id="SequenceFlow_0kl02zn" sourceRef="ServiceTask_0w9ftgc" targetRef="Task_0micukk" /><bpmn:serviceTask id="ServiceTask_0fjcets" name="Установка статуса &#34;Повторное заполнение&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Повторное+заполнение</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1hcblk6</bpmn:incoming><bpmn:outgoing>SequenceFlow_09p1ea5</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_09p1ea5" sourceRef="ServiceTask_0fjcets" targetRef="ServiceTask_0w9ftgc" /><bpmn:serviceTask id="ServiceTask_0x0xraw" name="Изменение статуса  = Отозвана"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${hlk_exist_dov}?label=Отозвана</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0qn9yr8</bpmn:incoming><bpmn:incoming>SequenceFlow_0di7dfx</bpmn:incoming><bpmn:outgoing>SequenceFlow_1shdmir</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1shdmir" sourceRef="ServiceTask_0x0xraw" targetRef="ServiceTask_0r3xfnz" /><bpmn:sequenceFlow id="SequenceFlow_1mt15rl" sourceRef="ServiceTask_1vq5pv2" targetRef="ServiceTask_13sgs3w" /><bpmn:serviceTask id="ServiceTask_13sgs3w" name="Получение поля &#34;ID доверенности&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getRefId/hlk_exist_dov</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_exist_dov">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1mt15rl</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ritvpv</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0ritvpv" sourceRef="ServiceTask_13sgs3w" targetRef="ServiceTask_0lcqkf0" /><bpmn:serviceTask id="ServiceTask_0yhmfze" name="Установка статуса &#34;Отказано в подтверждении&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Отказано+в+подтверждении</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0d0smyy</bpmn:incoming><bpmn:outgoing>SequenceFlow_1iex2ck</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1rgc59y" name="Записываем в объект причину отказа"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_cancelation_reason?incrementVersion=false&amp;value=${hlk_reason_close.replace(" ","+")}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1iex2ck</bpmn:incoming><bpmn:outgoing>SequenceFlow_061hyxb</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="UserTask_1scvbum" name="Кнопка &#34;Архивировать&#34;" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;retry&#34;,&#34;label&#34;:&#34;Архивировать&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_061hyxb</bpmn:incoming><bpmn:outgoing>SequenceFlow_19pqiv5</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_17dl2qh" name="Архивация"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/archive</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_19pqiv5</bpmn:incoming><bpmn:outgoing>SequenceFlow_11rkedh</bpmn:outgoing></bpmn:serviceTask><bpmn:intermediateCatchEvent id="IntermediateCatchEvent_1n2ug40"><bpmn:incoming>SequenceFlow_11rkedh</bpmn:incoming><bpmn:outgoing>SequenceFlow_00m7ep1</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_1lzjcgc"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT5S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:serviceTask id="ServiceTask_0e96fza" name="Установка статуса &#34;Архив&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Архив</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_00m7ep1</bpmn:incoming><bpmn:outgoing>SequenceFlow_0krxoan</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0ydkeef"><bpmn:incoming>SequenceFlow_0krxoan</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="SequenceFlow_1iex2ck" sourceRef="ServiceTask_0yhmfze" targetRef="ServiceTask_1rgc59y" /><bpmn:sequenceFlow id="SequenceFlow_061hyxb" sourceRef="ServiceTask_1rgc59y" targetRef="UserTask_1scvbum" /><bpmn:sequenceFlow id="SequenceFlow_19pqiv5" sourceRef="UserTask_1scvbum" targetRef="ServiceTask_17dl2qh" /><bpmn:sequenceFlow id="SequenceFlow_11rkedh" sourceRef="ServiceTask_17dl2qh" targetRef="IntermediateCatchEvent_1n2ug40" /><bpmn:sequenceFlow id="SequenceFlow_00m7ep1" sourceRef="IntermediateCatchEvent_1n2ug40" targetRef="ServiceTask_0e96fza" /><bpmn:sequenceFlow id="SequenceFlow_0krxoan" sourceRef="ServiceTask_0e96fza" targetRef="EndEvent_0ydkeef" /><bpmn:serviceTask id="ServiceTask_12e9o70" name="Проверка доверенности права второй подписи ЭЦП по клиенту"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "book", 	"filter": { 		"templatePrimaryId": "5dca67c5e189c4000750f60d", 		"attributes.hlk_client_app.primaryId": "${hlk_client_app}", 		"attributes.hlk_proxy_KIND": "Право второй подписи с ЭЦП", 		"activityStatus": "ACTIVE" 	}, 	"projection": { 		"_id": 1 	} }</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1p3lw60</bpmn:incoming><bpmn:outgoing>SequenceFlow_0zss39p</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0b3osmz" name="Проверка доверенности права второй подписи по доверенному лицу"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
    "find": "book",
    "filter": {
        "templatePrimaryId": "5dca67c5e189c4000750f60d",
        "attributes.hlk_proxy_Confidant.primaryId": {
            "$ne": "${hlk_proxy_Confidant}"
        },
        "attributes.hlk_proxy_KIND": "Право второй подписи с ЭЦП","attributes.hlk_client_app.primaryId": "${hlk_client_app}",
        "activityStatus": "ACTIVE"
    },
    "projection": {
        "_id": 1
    }
}</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1q4qqmy</bpmn:incoming><bpmn:outgoing>SequenceFlow_0qv3y4n</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0cuqtcf" name="Установка статуса &#34;Отсутствует право второй подписи по доверенному лицу&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Отсутствует+право+второй+подписи+по+доверенному+лицу+ЭЦП</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1k4q14k</bpmn:incoming><bpmn:outgoing>SequenceFlow_0d2kieq</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0m4t7tt" default="SequenceFlow_1k4q14k"><bpmn:incoming>SequenceFlow_0qv3y4n</bpmn:incoming><bpmn:outgoing>SequenceFlow_1k4q14k</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1lb82kj</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0qv3y4n" sourceRef="ServiceTask_0b3osmz" targetRef="ExclusiveGateway_0m4t7tt" /><bpmn:sequenceFlow id="SequenceFlow_1k4q14k" sourceRef="ExclusiveGateway_0m4t7tt" targetRef="ServiceTask_0cuqtcf" /><bpmn:sequenceFlow id="SequenceFlow_1p3lw60" sourceRef="ExclusiveGateway_0j5qtlg" targetRef="ServiceTask_12e9o70"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${hlk_proxy_KIND == "Право первой подписи с ЭЦП/СМС"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="ExclusiveGateway_1ixc4z4" default="SequenceFlow_116z3ev"><bpmn:incoming>SequenceFlow_0zss39p</bpmn:incoming><bpmn:outgoing>SequenceFlow_116z3ev</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1q4qqmy</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0zss39p" sourceRef="ServiceTask_12e9o70" targetRef="ExclusiveGateway_1ixc4z4" /><bpmn:sequenceFlow id="SequenceFlow_116z3ev" sourceRef="ExclusiveGateway_1ixc4z4" targetRef="ServiceTask_0d3t6l8" /><bpmn:sequenceFlow id="SequenceFlow_1q4qqmy" sourceRef="ExclusiveGateway_1ixc4z4" targetRef="ServiceTask_0b3osmz"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1lb82kj" sourceRef="ExclusiveGateway_0m4t7tt" targetRef="ServiceTask_0d3t6l8"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0d2kieq" sourceRef="ServiceTask_0cuqtcf" targetRef="UserTask_1apgc4m" /><bpmn:serviceTask id="ServiceTask_1976j6p" name="Получение поля &#34;Логин&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/login_s?getDictValue=true</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="login">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0wyikr7</bpmn:incoming><bpmn:outgoing>SequenceFlow_02nkqxk</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_02nkqxk" sourceRef="ServiceTask_1976j6p" targetRef="ServiceTask_0zhuvil" /><bpmn:serviceTask id="ServiceTask_0zhuvil" name="Отзываем учетку"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/users/deactivate/${login}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_02nkqxk</bpmn:incoming><bpmn:outgoing>SequenceFlow_0zgwz30</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0zgwz30" sourceRef="ServiceTask_0zhuvil" targetRef="EndEvent_0yrkd4k" /><bpmn:serviceTask id="ServiceTask_0lcqkf0" name="Проверка существующих доверенностей у доверенного лица"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "book", 	
"filter": { 		
"templatePrimaryId": "5dca67c5e189c4000750f60d", 		"attributes.hlk_client_app.primaryId": "${hlk_proxy_Confidant}", 			
"labelStatus": "Действительна" 	
             }, 	
"projection": { "_id": 1}
 }</camunda:inputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ritvpv</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ub4w2a</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1ub4w2a" sourceRef="ServiceTask_0lcqkf0" targetRef="ExclusiveGateway_0olhb2k" /><bpmn:exclusiveGateway id="ExclusiveGateway_0olhb2k" default="SequenceFlow_05dmje3"><bpmn:incoming>SequenceFlow_1ub4w2a</bpmn:incoming><bpmn:outgoing>SequenceFlow_0qn9yr8</bpmn:outgoing><bpmn:outgoing>SequenceFlow_05dmje3</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0qn9yr8" sourceRef="ExclusiveGateway_0olhb2k" targetRef="ServiceTask_0x0xraw"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_05dmje3" sourceRef="ExclusiveGateway_0olhb2k" targetRef="ServiceTask_11ixqr3" /><bpmn:serviceTask id="ServiceTask_0rk1jkn" name="Обновление доверенное лицо"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${appId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{"hlk_confidant": false}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1qvxwqy</bpmn:incoming></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1yyghl6" name="Определяем тип клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"primaryId": "${hlk_proxy_Confidant}"
	},
	"projection": {
		"_id": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="appId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0]._id</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:outgoing>SequenceFlow_1qvxwqy</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1qvxwqy" sourceRef="ServiceTask_1yyghl6" targetRef="ServiceTask_0rk1jkn" /><bpmn:serviceTask id="ServiceTask_0ljuhur" name="Получение поля &#34;Доверенное лицо&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_proxy_Confidant</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_proxy_Confidant">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1mtw6eo</bpmn:incoming><bpmn:outgoing>SequenceFlow_0abw5kj</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0abw5kj" sourceRef="ServiceTask_0ljuhur" targetRef="ExclusiveGateway_0j5qtlg" /><bpmn:serviceTask id="ServiceTask_11ixqr3" name="Получаем инстанс айди доверенного лица"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getRefId/hlk_proxy_Confidant</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="referenceId1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_05dmje3</bpmn:incoming><bpmn:outgoing>SequenceFlow_1pgr0ya</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0fk2j2u" name="Проставление в ФЛ статуса доверенное лицо"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/individual/${referenceId1}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{"hlk_confidant": false}</camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1pgr0ya</bpmn:incoming><bpmn:outgoing>SequenceFlow_0di7dfx</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1pgr0ya" sourceRef="ServiceTask_11ixqr3" targetRef="ServiceTask_0fk2j2u" /><bpmn:sequenceFlow id="SequenceFlow_0di7dfx" sourceRef="ServiceTask_0fk2j2u" targetRef="ServiceTask_0x0xraw" /><bpmn:serviceTask id="TaskStatus_Creation" name="Статус заявки: Обработка: Создание"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Создание+заявки</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0or7jn6</bpmn:incoming><bpmn:outgoing>SequenceFlow_1kttr6e</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1kttr6e" sourceRef="TaskStatus_Creation" targetRef="ServiceTask_05jysm3" /><bpmn:serviceTask id="ServiceTask_01cohia" name="Повышение версии доверенности"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${hlk_exist_dov}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0qts7f2</bpmn:incoming><bpmn:outgoing>SequenceFlow_0iiussw</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0iiussw" sourceRef="ServiceTask_01cohia" targetRef="ScriptTask_0x4uskb" /><bpmn:serviceTask id="ServiceTask_0r3xfnz" name="Архивация"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${hlk_exist_dov}/archive</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1shdmir</bpmn:incoming><bpmn:outgoing>SequenceFlow_0qts7f2</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0qts7f2" sourceRef="ServiceTask_0r3xfnz" targetRef="ServiceTask_01cohia" /><bpmn:serviceTask id="ServiceTask_0scsx0a" name="Сброс в ФЛ признака отправки в фокус и терминал"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${hlk_exist_dov}/setAttributes?incrementVersion=false</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("export_terminal", false)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0skuqqj</bpmn:incoming><bpmn:outgoing>SequenceFlow_0wyikr7</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0wyikr7" sourceRef="ServiceTask_0scsx0a" targetRef="ServiceTask_1976j6p" /><bpmn:scriptTask id="ScriptTask_0x4uskb" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_0iiussw</bpmn:incoming><bpmn:outgoing>SequenceFlow_0skuqqj</bpmn:outgoing><bpmn:script>function sleep(ms) {
ms += new Date().getTime();
while (new Date() &lt; ms){}
} 

sleep(5000)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_0skuqqj" sourceRef="ScriptTask_0x4uskb" targetRef="ServiceTask_0scsx0a" /></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TEMPLATE_INSTANCE_PROCESS_hlk_proxy_app_close_5158d42c-b3d1-4eff-8d38-e4e475a020f6"><bpmndi:BPMNEdge id="SequenceFlow_0skuqqj_di" bpmnElement="SequenceFlow_0skuqqj"><di:waypoint x="3790" y="439" /><di:waypoint x="3920" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0wyikr7_di" bpmnElement="SequenceFlow_0wyikr7"><di:waypoint x="4020" y="439" /><di:waypoint x="4083" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0qts7f2_di" bpmnElement="SequenceFlow_0qts7f2"><di:waypoint x="3460" y="439" /><di:waypoint x="3510" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0iiussw_di" bpmnElement="SequenceFlow_0iiussw"><di:waypoint x="3610" y="439" /><di:waypoint x="3690" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1kttr6e_di" bpmnElement="SequenceFlow_1kttr6e"><di:waypoint x="321" y="439" /><di:waypoint x="349" y="439" /><bpmndi:BPMNLabel><dc:Bounds x="217" y="418" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0di7dfx_di" bpmnElement="SequenceFlow_0di7dfx"><di:waypoint x="3267" y="542" /><di:waypoint x="3267" y="480" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1pgr0ya_di" bpmnElement="SequenceFlow_1pgr0ya"><di:waypoint x="3183" y="582" /><di:waypoint x="3217" y="582" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0abw5kj_di" bpmnElement="SequenceFlow_0abw5kj"><di:waypoint x="1811" y="439" /><di:waypoint x="1832" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1qvxwqy_di" bpmnElement="SequenceFlow_1qvxwqy"><di:waypoint x="3029" y="854" /><di:waypoint x="3071" y="854" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_05dmje3_di" bpmnElement="SequenceFlow_05dmje3"><di:waypoint x="3133" y="465" /><di:waypoint x="3133" y="542" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0qn9yr8_di" bpmnElement="SequenceFlow_0qn9yr8"><di:waypoint x="3158" y="440" /><di:waypoint x="3217" y="440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ub4w2a_di" bpmnElement="SequenceFlow_1ub4w2a"><di:waypoint x="3067" y="439" /><di:waypoint x="3088" y="439" /><di:waypoint x="3088" y="440" /><di:waypoint x="3108" y="440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0zgwz30_di" bpmnElement="SequenceFlow_0zgwz30"><di:waypoint x="4313" y="439" /><di:waypoint x="4347" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02nkqxk_di" bpmnElement="SequenceFlow_02nkqxk"><di:waypoint x="4183" y="439" /><di:waypoint x="4198" y="439" /><di:waypoint x="4198" y="438" /><di:waypoint x="4213" y="438" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0d2kieq_di" bpmnElement="SequenceFlow_0d2kieq"><di:waypoint x="2357" y="87" /><di:waypoint x="2357" y="50" /><di:waypoint x="1646" y="50" /><di:waypoint x="1646" y="399" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lb82kj_di" bpmnElement="SequenceFlow_1lb82kj"><di:waypoint x="2397" y="258.59375" /><di:waypoint x="2490" y="258.59375" /><di:waypoint x="2490" y="398.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1q4qqmy_di" bpmnElement="SequenceFlow_1q4qqmy"><di:waypoint x="2087" y="259" /><di:waypoint x="2224" y="259" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_116z3ev_di" bpmnElement="SequenceFlow_116z3ev"><di:waypoint x="2062" y="284" /><di:waypoint x="2062" y="319" /><di:waypoint x="2490" y="319" /><di:waypoint x="2490" y="399" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0zss39p_di" bpmnElement="SequenceFlow_0zss39p"><di:waypoint x="2016" y="258.59375" /><di:waypoint x="2037" y="258.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1p3lw60_di" bpmnElement="SequenceFlow_1p3lw60"><di:waypoint x="1857" y="413.59375" /><di:waypoint x="1857" y="258.59375" /><di:waypoint x="1916" y="258.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1k4q14k_di" bpmnElement="SequenceFlow_1k4q14k"><di:waypoint x="2372" y="233.59375" /><di:waypoint x="2372" y="166.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0qv3y4n_di" bpmnElement="SequenceFlow_0qv3y4n"><di:waypoint x="2324" y="258.59375" /><di:waypoint x="2347" y="258.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0krxoan_di" bpmnElement="SequenceFlow_0krxoan"><di:waypoint x="2149" y="853.59375" /><di:waypoint x="2202" y="853.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_00m7ep1_di" bpmnElement="SequenceFlow_00m7ep1"><di:waypoint x="2009" y="853.59375" /><di:waypoint x="2049" y="853.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_11rkedh_di" bpmnElement="SequenceFlow_11rkedh"><di:waypoint x="1945" y="853.59375" /><di:waypoint x="1973" y="853.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_19pqiv5_di" bpmnElement="SequenceFlow_19pqiv5"><di:waypoint x="1811" y="853.59375" /><di:waypoint x="1845" y="853.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_061hyxb_di" bpmnElement="SequenceFlow_061hyxb"><di:waypoint x="1679" y="853.59375" /><di:waypoint x="1711" y="853.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1iex2ck_di" bpmnElement="SequenceFlow_1iex2ck"><di:waypoint x="1629" y="777.59375" /><di:waypoint x="1629" y="813.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ritvpv_di" bpmnElement="SequenceFlow_0ritvpv"><di:waypoint x="2925" y="439" /><di:waypoint x="2967" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1mt15rl_di" bpmnElement="SequenceFlow_1mt15rl"><di:waypoint x="2798" y="439" /><di:waypoint x="2825" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1shdmir_di" bpmnElement="SequenceFlow_1shdmir"><di:waypoint x="3317" y="440" /><di:waypoint x="3360" y="440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_09p1ea5_di" bpmnElement="SequenceFlow_09p1ea5"><di:waypoint x="1066" y="290.59375" /><di:waypoint x="675" y="290.59375" /><di:waypoint x="675" y="398.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0kl02zn_di" bpmnElement="SequenceFlow_0kl02zn"><di:waypoint x="725" y="438.59375" /><di:waypoint x="753" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_10j4b30_di" bpmnElement="SequenceFlow_10j4b30"><di:waypoint x="584" y="438.59375" /><di:waypoint x="625" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1eerfcq_di" bpmnElement="SequenceFlow_1eerfcq"><di:waypoint x="1166" y="581.59375" /><di:waypoint x="1283" y="581.59375" /><di:waypoint x="1283" y="477.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1qmuji8_di" bpmnElement="SequenceFlow_1qmuji8"><di:waypoint x="1116" y="477.59375" /><di:waypoint x="1116" y="541.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0z8bi11_di" bpmnElement="SequenceFlow_0z8bi11"><di:waypoint x="1009" y="437.59375" /><di:waypoint x="1066" y="437.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1o8nbpd_di" bpmnElement="SequenceFlow_1o8nbpd"><di:waypoint x="959" y="541.59375" /><di:waypoint x="959" y="477.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0evn667_di" bpmnElement="SequenceFlow_0evn667"><di:waypoint x="853" y="581.59375" /><di:waypoint x="909" y="581.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0883ht9_di" bpmnElement="SequenceFlow_0883ht9"><di:waypoint x="803" y="478.59375" /><di:waypoint x="803" y="541.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1hcblk6_di" bpmnElement="SequenceFlow_1hcblk6"><di:waypoint x="1628" y="398.59375" /><di:waypoint x="1629" y="290.59375" /><di:waypoint x="1166" y="290.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1b0fymw_di" bpmnElement="SequenceFlow_1b0fymw"><di:waypoint x="2224" y="625.59375" /><di:waypoint x="1644" y="625.59375" /><di:waypoint x="1644" y="478.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ath248_di" bpmnElement="SequenceFlow_1ath248"><di:waypoint x="2372" y="463.59375" /><di:waypoint x="2372" y="625.59375" /><di:waypoint x="2324" y="625.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_03xahfw_di" bpmnElement="SequenceFlow_03xahfw"><di:waypoint x="2397" y="438.59375" /><di:waypoint x="2440" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_14rdpu3_di" bpmnElement="SequenceFlow_14rdpu3"><di:waypoint x="2324" y="438.59375" /><di:waypoint x="2347" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1cbzhr2_di" bpmnElement="SequenceFlow_1cbzhr2"><di:waypoint x="1333" y="437.59375" /><di:waypoint x="1358" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1k4xs1u_di" bpmnElement="SequenceFlow_1k4xs1u"><di:waypoint x="1383" y="665.59375" /><di:waypoint x="1383" y="719.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1sfoe46_di" bpmnElement="SequenceFlow_1sfoe46"><di:waypoint x="1540" y="438.59375" /><di:waypoint x="1575" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_03qdhx4_di" bpmnElement="SequenceFlow_03qdhx4"><di:waypoint x="1882" y="438.59375" /><di:waypoint x="1916" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1mtw6eo_di" bpmnElement="SequenceFlow_1mtw6eo"><di:waypoint x="1675" y="439" /><di:waypoint x="1711" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0d0smyy_di" bpmnElement="SequenceFlow_0d0smyy"><di:waypoint x="1625" y="478.59375" /><di:waypoint x="1625" y="697.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_13vyc6p_di" bpmnElement="SequenceFlow_13vyc6p"><di:waypoint x="2016" y="438.59375" /><di:waypoint x="2037" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0mvn7i0_di" bpmnElement="SequenceFlow_0mvn7i0"><di:waypoint x="2668" y="438.59375" /><di:waypoint x="2698" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1khbfqj_di" bpmnElement="SequenceFlow_1khbfqj"><di:waypoint x="2540" y="438.59375" /><di:waypoint x="2568" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0c7hj18_di" bpmnElement="SequenceFlow_0c7hj18"><di:waypoint x="1875" y="431.59375" /><di:waypoint x="1875" y="350.59375" /><di:waypoint x="2490" y="350.59375" /><di:waypoint x="2490" y="398.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ni9yz1_di" bpmnElement="SequenceFlow_0ni9yz1"><di:waypoint x="2087" y="439" /><di:waypoint x="2224" y="439" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_05yqr9e_di" bpmnElement="SequenceFlow_05yqr9e"><di:waypoint x="2062" y="464" /><di:waypoint x="2062" y="536" /><di:waypoint x="2477" y="536" /><di:waypoint x="2477" y="479" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0c0pc84_di" bpmnElement="SequenceFlow_0c0pc84"><di:waypoint x="1383" y="463.59375" /><di:waypoint x="1383" y="585.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_04uw5tg_di" bpmnElement="SequenceFlow_04uw5tg"><di:waypoint x="1408" y="438.59375" /><di:waypoint x="1440" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ejpfyh_di" bpmnElement="SequenceFlow_1ejpfyh"><di:waypoint x="449" y="438.59375" /><di:waypoint x="484" y="438.59375" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0or7jn6_di" bpmnElement="SequenceFlow_0or7jn6"><di:waypoint x="192" y="439" /><di:waypoint x="221" y="439" /><bpmndi:BPMNLabel><dc:Bounds x="43.5" y="418" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds x="156" y="421" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="11" y="457" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1quc7do_di" bpmnElement="Task_0micukk" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="753" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_05jysm3_di" bpmnElement="ServiceTask_05jysm3"><dc:Bounds x="349" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0be2rxd_di" bpmnElement="ServiceTask_0be2rxd"><dc:Bounds x="484" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0w9ftgc_di" bpmnElement="ServiceTask_0w9ftgc"><dc:Bounds x="625" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_15rowzo_di" bpmnElement="ExclusiveGateway_15rowzo" isMarkerVisible="true"><dc:Bounds x="1358" y="414" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0a44ey0_di" bpmnElement="ServiceTask_0a44ey0"><dc:Bounds x="1333" y="586" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0lzf8qe_di" bpmnElement="ServiceTask_0lzf8qe"><dc:Bounds x="1440" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0yrkd4k_di" bpmnElement="EndEvent_0yrkd4k"><dc:Bounds x="4347" y="421" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0d3t6l8_di" bpmnElement="ServiceTask_0d3t6l8"><dc:Bounds x="2440" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1f2kjax_di" bpmnElement="ServiceTask_1f2kjax"><dc:Bounds x="2568" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_11c3n00_di" bpmnElement="ExclusiveGateway_11c3n00" isMarkerVisible="true"><dc:Bounds x="2037" y="414" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1apgc4m_di" bpmnElement="UserTask_1apgc4m" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1575" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1vq5pv2_di" bpmnElement="ServiceTask_1vq5pv2"><dc:Bounds x="2698" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0j5qtlg_di" bpmnElement="ExclusiveGateway_0j5qtlg" isMarkerVisible="true"><dc:Bounds x="1832" y="414" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_05j3o57_di" bpmnElement="ServiceTask_05j3o57"><dc:Bounds x="1916" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_1qnqsku_di" bpmnElement="EndEvent_1qnqsku"><dc:Bounds x="1365" y="720" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_076rr2j_di" bpmnElement="ServiceTask_076rr2j"><dc:Bounds x="1233" y="398" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0yfjc8y_di" bpmnElement="ServiceTask_0yfjc8y"><dc:Bounds x="753" y="542" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0qlvaq0_di" bpmnElement="ServiceTask_0qlvaq0"><dc:Bounds x="909" y="542" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0jx77w3_di" bpmnElement="ServiceTask_0jx77w3"><dc:Bounds x="2224" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0xo3bve_di" bpmnElement="ServiceTask_0xo3bve" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="2224" y="586" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0c8pgc6_di" bpmnElement="ExclusiveGateway_0c8pgc6" isMarkerVisible="true"><dc:Bounds x="2347" y="414" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0p3dk7n_di" bpmnElement="ServiceTask_0p3dk7n"><dc:Bounds x="909" y="398" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0zn3fib_di" bpmnElement="ServiceTask_0zn3fib"><dc:Bounds x="1066" y="398" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0agbxi1_di" bpmnElement="ServiceTask_0agbxi1"><dc:Bounds x="1066" y="542" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0fjcets_di" bpmnElement="ServiceTask_0fjcets"><dc:Bounds x="1066" y="251" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0x0xraw_di" bpmnElement="ServiceTask_0x0xraw" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="3217" y="400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_13sgs3w_di" bpmnElement="ServiceTask_13sgs3w"><dc:Bounds x="2825" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0yhmfze_di" bpmnElement="ServiceTask_0yhmfze"><dc:Bounds x="1579" y="698" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1rgc59y_di" bpmnElement="ServiceTask_1rgc59y"><dc:Bounds x="1579" y="814" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1scvbum_di" bpmnElement="UserTask_1scvbum" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1711" y="814" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_17dl2qh_di" bpmnElement="ServiceTask_17dl2qh"><dc:Bounds x="1845" y="814" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="IntermediateCatchEvent_1n2ug40_di" bpmnElement="IntermediateCatchEvent_1n2ug40"><dc:Bounds x="1973" y="836" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0e96fza_di" bpmnElement="ServiceTask_0e96fza"><dc:Bounds x="2049" y="814" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0ydkeef_di" bpmnElement="EndEvent_0ydkeef"><dc:Bounds x="2202" y="836" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_12e9o70_di" bpmnElement="ServiceTask_12e9o70"><dc:Bounds x="1916" y="219" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0b3osmz_di" bpmnElement="ServiceTask_0b3osmz"><dc:Bounds x="2224" y="219" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0cuqtcf_di" bpmnElement="ServiceTask_0cuqtcf" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="2307" y="87" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0m4t7tt_di" bpmnElement="ExclusiveGateway_0m4t7tt" isMarkerVisible="true"><dc:Bounds x="2347" y="234" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1ixc4z4_di" bpmnElement="ExclusiveGateway_1ixc4z4" isMarkerVisible="true"><dc:Bounds x="2037" y="234" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1976j6p_di" bpmnElement="ServiceTask_1976j6p"><dc:Bounds x="4083" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0zhuvil_di" bpmnElement="ServiceTask_0zhuvil" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="4213" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0lcqkf0_di" bpmnElement="ServiceTask_0lcqkf0"><dc:Bounds x="2967" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0olhb2k_di" bpmnElement="ExclusiveGateway_0olhb2k" isMarkerVisible="true"><dc:Bounds x="3108" y="415" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0rk1jkn_di" bpmnElement="ServiceTask_0rk1jkn"><dc:Bounds x="3071" y="814" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1yyghl6_di" bpmnElement="ServiceTask_1yyghl6"><dc:Bounds x="2929" y="814" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ljuhur_di" bpmnElement="ServiceTask_0ljuhur"><dc:Bounds x="1711" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_11ixqr3_di" bpmnElement="ServiceTask_11ixqr3"><dc:Bounds x="3083" y="542" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0fk2j2u_di" bpmnElement="ServiceTask_0fk2j2u"><dc:Bounds x="3217" y="542" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1xjh0ao_di" bpmnElement="TaskStatus_Creation"><dc:Bounds x="221" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_01cohia_di" bpmnElement="ServiceTask_01cohia"><dc:Bounds x="3510" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0r3xfnz_di" bpmnElement="ServiceTask_0r3xfnz"><dc:Bounds x="3360" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0scsx0a_di" bpmnElement="ServiceTask_0scsx0a"><dc:Bounds x="3920" y="399" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0x4uskb_di" bpmnElement="ScriptTask_0x4uskb"><dc:Bounds x="3690" y="399" width="100" height="80" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
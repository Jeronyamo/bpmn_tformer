<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.2.0"><bpmn:process id="TEMPLATE_INSTANCE_PROCESS_hlk_ip_app_change_45c78356-705a-428e-abc5-4af725d112f4" name="Изменение. Реквизитов ИП" isExecutable="true"><bpmn:documentation /><bpmn:userTask id="UserTask_1v8rq7m" name="Блок заполнения, изменение реквизитов" camunda:formKey="FILL" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="hlk_customer" label="Клиент?" type="string" /><camunda:formField id="hlk_counterparty" label="Контрагент?" type="string" /><camunda:formField id="hlk_shareholder" label="Пайщик?" type="string" /><camunda:formField id="hlk_related_person" label="Связанное лицо?" type="string" /><camunda:formField id="hlk_confidant" label="Доверенное лицо?" type="string" /><camunda:formField id="hlk_lastname" label="Фамилия" type="string" /><camunda:formField id="hlk_firstname" label="Имя" type="string" /><camunda:formField id="hlk_patronomic" label="Отчество" type="string" /><camunda:formField id="hlk_gender" label="Пол" type="string" /><camunda:formField id="hlk_residentFL" label="Резидент" type="string" /><camunda:formField id="hlk_economicsector" label="Сектор экономики" type="string" /><camunda:formField id="hlk_country_citizenship" label="Страна гражданства" type="string" /><camunda:formField id="hlk_other_information" label="Прочая информация" type="string" /><camunda:formField id="hlk_Conterparty_Level" label="Уровень учета" type="string" /><camunda:formField id="hlk_isIP" label="Индивидуальный предприниматель" type="string" /><camunda:formField id="hlk_QualInvestor" label="Квалифицированный инвестор" type="string" /><camunda:formField id="hlk_se_id" label="ID Сектора Экономики" type="string" /><camunda:formField id="F_BirthDay" label="Дата Рождения" type="string" /><camunda:formField id="hlk_app_id" label="ID заявки" type="string" /><camunda:formField id="hlk_taxprivileges" label="Налоговые льготы" type="string" /><camunda:formField id="hlk_costtt_center" label="Профит центр*" type="string" /><camunda:formField id="hlk_profit_id" label="ID Профит-центра" type="string" /><camunda:formField id="hlk_iin_bin" label="ИИН/БИН" type="string" /><camunda:formField id="hlk_cp_tariff_plan" label="Тарифный план участника" type="string" /><camunda:formField id="hlk_PlaceOfBirth" label="Место рождения" type="string" /><camunda:formField id="hlk_account_type_holder" label="Вид держателя" type="string" /><camunda:formField id="hlk_RiskLevelAML" label="Уровень риска AML" type="string" /><camunda:formField id="hlk_AMLCommentRiskLevel" label="Комментарий к уровню риска" type="string" /><camunda:formField id="hlk_AMLReviewComment" label="Комментарий по результатам проверки AML" type="string" /><camunda:formField id="hlk_AML_MatchFound" label="Обнаружено совпадение по спискам AML" type="string" /><camunda:formField id="hlk_signfatcaul" label="Признак FATCA" type="string" /><camunda:formField id="hlk_FATCA_participation" label="Участие FATCA" type="string" /><camunda:formField id="hlk_type_organization_fatca" label="Тип организации (FATCA)" type="string" /><camunda:formField id="hlk_date_ipdl" label="Дата определения / изменения признака ИПДЛ" type="string" /><camunda:formField id="hlk_residentusaul" label="Резидент США" type="string" /><camunda:formField id="hlk_comment_ipdl" label="Комментарий к параметру ИПДЛ" type="string" /><camunda:formField id="hlk_OffshoreZone" label="Офшорная зона" type="string" /><camunda:formField id="hlk_SIGN_FATCA_DATE" label="Дата определения / изменения Признак FATCA" type="string" /><camunda:formField id="hlk_ipdlUL" label="ИПДЛ" type="string" /><camunda:formField id="hlk_gintinul" label="Номер участника TIN/SSI" type="string" /><camunda:formField id="hlk_postcode" label="Адрес регистрации: Почтовый индекс" type="string" /><camunda:formField id="hlk_typelocality" label="Адрес регистрации: Вид населенного пункта" type="string" /><camunda:formField id="hlk_street" label="Адрес регистрации: Улица/проспект/мкр" type="string" /><camunda:formField id="hlk_house" label="Адрес регистрации: Номер дома" type="string" /><camunda:formField id="hlk_kato_adress_locality_id" label="ID КАТО Адрес регистрации: Населенный пункт" type="string" /><camunda:formField id="hlk_kato_region_id" label="ID КАТО Адрес регистрации: Область" type="string" /><camunda:formField id="hlk_kato_area_idid" label="ID КАТО Адрес регистрации: Район" type="string" /><camunda:formField id="hlk_RegAdress_Area" label="Адрес регистрации: Область" type="string" /><camunda:formField id="hlk_RegAdress_District" label="Адрес регистрации: Район" type="string" /><camunda:formField id="hlk_regionul" label="Адрес регистрации: Область КАТО" type="string" /><camunda:formField id="hlk_areaa" label="Адрес регистрации: Район КАТО" type="string" /><camunda:formField id="hlk_RegAdress_Locality" label="Адрес регистрации: Населенный Пункт" type="string" /><camunda:formField id="hlk_locality" label="Адрес регистрации: Населенный пункт КАТО" type="string" /><camunda:formField id="hlk_RegAdress_Full" label="Адрес регистрации: Дополнительные данные по адресу" type="string" /><camunda:formField id="hlk_reg_tau_kato_district" label="ID ТАУ КАТО Адрес регистрации: Район" type="string" /><camunda:formField id="hlk_reg_tau_kato_region" label="ID ТАУ КАТО Адрес регистрации: Область" type="string" /><camunda:formField id="hlk_reg_tau_kato_locality" label="ID ТАУ КАТО Адрес регистрации: Населенный пункт" type="string" /><camunda:formField id="hlk_officeflat" label="Адрес регистрации: Номер квартиры/офиса" type="string" /><camunda:formField id="hlk_registrcountry" label="Страна резиденства/регистрации" type="string" /><camunda:formField id="hlk_adressmatch" label="Адрес проживания совпадает с адресом регистрации" type="string" /><camunda:formField id="hlk_postcode_fact" label="Адрес проживания: Почтовый индекс" type="string" /><camunda:formField id="hlk_residence_address_type_settlement_fl" label="Адрес проживания: Вид населенного пункта" type="string" /><camunda:formField id="hlk_residence_address_street_fl" label="Адрес проживания: Улица/проспект/мкр" type="string" /><camunda:formField id="hlk_residence_address_house" label="Адрес проживания: Номер дома" type="string" /><camunda:formField id="hlk_residence_address_flat_fl" label="Адрес проживания: Номер квартиры" type="string" /><camunda:formField id="hlk_kato_residence_region_id" label="ID КАТО Адрес проживания: Область" type="string" /><camunda:formField id="hlk_kato_residence_area_id" label="ID КАТО Адрес проживания: Район" type="string" /><camunda:formField id="hlk_kato_residence_locality_id" label="ID КАТО Адрес проживания: Населенный пункт" type="string" /><camunda:formField id="hlk_region_residence_address_fl" label="Адрес проживания: Область КАТО" type="string" /><camunda:formField id="hlk_address_residence_district_fl" label="Адрес проживания: Район КАТО" type="string" /><camunda:formField id="hlk_address_residence_settlement_fl" label="Адрес проживания: Населенный пункт КАТО" type="string" /><camunda:formField id="hlk_HabAdress_Area" label="Адрес факт/проживания: Область" type="string" /><camunda:formField id="hlk_HabAdress_District" label="Адрес факт/проживания: Район" type="string" /><camunda:formField id="hlk_HabAdress_Locality" label="Адрес факт/проживания: Населенный пункт" type="string" /><camunda:formField id="hlk_HabAdress_Full" label="Адрес факт/проживания: Дополнительные данные по адресу" type="string" /><camunda:formField id="hlk_address_residence_country" label="Адрес проживания: Страна" type="string" /><camunda:formField id="hlk_tau_kato_region" label="ID ТАУ КАТО Адрес проживания/фактический: Область" type="string" /><camunda:formField id="hlk_tau_kato_district" label="ID ТАУ КАТО Адрес проживания/фактический: Район" type="string" /><camunda:formField id="hlk_tau_kato_locality" label="ID ТАУ КАТО Адрес проживания/фактический: Населенный пункт" type="string" /><camunda:formField id="hlk_regnumber" label="Регистрационный номер" type="string" /><camunda:formField id="hlk_regdate" label="Дата регистрации*" type="string" /><camunda:formField id="hlk_serialdocument" label="Серия документа" type="string" /><camunda:formField id="hlk_dateissue" label="Дата выдачи" type="string" /><camunda:formField id="hlk_document_expiration_date" label="Дата истечения срока действия документа" type="string" /><camunda:formField id="hlk_issueddocument" label="Кем выдан документ" type="string" /><camunda:formField id="hlk_typesdoc" label="Вид документа" type="string" /><camunda:formField id="hlk_numberdocument" label="Номер документа" type="string" /><camunda:formField id="hlk_Placeofissue" label="Место выдачи документа" type="string" /><camunda:formField id="hlk_doc_first_date" label="Дата первичной регистрации документа" type="string" /><camunda:formField id="hlk_phone" label="Телефон" type="string" /><camunda:formField id="hlk_NotificationMethod" label="Способ получения уведомления" type="string" /><camunda:formField id="hlk_email" label="E-mail" type="string" /><camunda:formField id="hlk_BankTransferDetails" label="Банковские реквизиты для перевода ДС" type="string" /><camunda:formField id="hlk_detailsforsecurities" label="Реквизиты для перевода ЦБ" type="string" /><camunda:formField id="hlk_ApplicationAccessionAgreement" label="Заявление о присоединении к Договору " type="string" /><camunda:formField id="hlk_OrderOpeningAccount" label="Приказ на открытие лицевого счета для ФЛ/ИП" type="string" /><camunda:formField id="hlk_IdentityDocumentScan" label="Документ, удостоверяющий личность" type="string" /><camunda:formField id="hlk_SignatureSealCard" label="Карточка с образцом подписи/печати" type="string" /><camunda:formField id="hlk_PowerAttorney" label="Доверенность" type="string" /><camunda:formField id="hlk_shorttitle" label="Кратк. наименование " type="string" /><camunda:formField id="hlk_fulltitle" label="Полн. наименование" type="string" /><camunda:formField id="hlk_legalform" label="Организац.-правовая форма" type="string" /><camunda:formField id="hlk_oked" label="ОКЭД" type="string" /><camunda:formField id="hlk_ip_type" label="Вид предпринимательской деятельности ИП" type="string" /><camunda:formField id="hlk_ip_license_number" label="Номер лицензии ИП" type="string" /><camunda:formField id="hlk_ip_issuing_date" label="Дата выдачи лицензии ИП" type="string" /><camunda:formField id="hlk_ip_expiration_date" label="Дата истечения лицензии ИП" type="string" /><camunda:formField id="hlk_mobile_phone" label="Мобильный телефон" type="string" /><camunda:formField id="hlk_AMLStatus" label="Код статуса проверки АМЛ" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1mmiqr2</bpmn:incoming><bpmn:incoming>Flow_1529vwy</bpmn:incoming><bpmn:incoming>Flow_156fdy5</bpmn:incoming><bpmn:incoming>Flow_09un3pl</bpmn:incoming><bpmn:incoming>SequenceFlow_0sfdt4j</bpmn:incoming><bpmn:incoming>SequenceFlow_16ewd4k</bpmn:incoming><bpmn:incoming>SequenceFlow_0971ma8</bpmn:incoming><bpmn:incoming>Flow_0cdo22x</bpmn:incoming><bpmn:incoming>Flow_1qebb3k</bpmn:incoming><bpmn:outgoing>SequenceFlow_0pf3cqa</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_1g1emqr" name="определяем ShortName"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_fulltitle</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="ShortName">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1e8bk6o</bpmn:incoming><bpmn:outgoing>SequenceFlow_1rrahp9</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1bcmsde" name="Записываем в объект"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"ShortName" : "${ShortName}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1rrahp9</bpmn:incoming><bpmn:outgoing>SequenceFlow_05swstq</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1rrahp9" sourceRef="ServiceTask_1g1emqr" targetRef="ServiceTask_1bcmsde" /><bpmn:sequenceFlow id="SequenceFlow_05swstq" sourceRef="ServiceTask_1bcmsde" targetRef="Activity_0ywwo8q" /><bpmn:callActivity id="CallActivity_0dsslbk" name="Подпроцесс проверки" calledElement="ControlSaveIndividual"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0rr35m8</bpmn:incoming><bpmn:outgoing>SequenceFlow_17b3fqw</bpmn:outgoing></bpmn:callActivity><bpmn:sequenceFlow id="SequenceFlow_0pf3cqa" sourceRef="UserTask_1v8rq7m" targetRef="ServiceTask_0ydva7m" /><bpmn:exclusiveGateway id="ExclusiveGateway_1jzmyiq" default="SequenceFlow_1keqxq3"><bpmn:incoming>SequenceFlow_17b3fqw</bpmn:incoming><bpmn:outgoing>SequenceFlow_1keqxq3</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0ktybkz</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_17b3fqw" sourceRef="CallActivity_0dsslbk" targetRef="ExclusiveGateway_1jzmyiq" /><bpmn:sequenceFlow id="SequenceFlow_1keqxq3" sourceRef="ExclusiveGateway_1jzmyiq" targetRef="ServiceTask_1dq41jn" /><bpmn:sequenceFlow id="SequenceFlow_0ktybkz" sourceRef="ExclusiveGateway_1jzmyiq" targetRef="Activity_0axzngy"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Error== '1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:startEvent id="StartEvent_1230s50"><bpmn:outgoing>SequenceFlow_1w9oy38</bpmn:outgoing></bpmn:startEvent><bpmn:userTask id="UserTask_0t4ul2z" name="Блок заполнения, выбор клиента" camunda:formKey="FILL" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="hlk_client_app" label="Клиент" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0fic2pe</bpmn:incoming><bpmn:outgoing>SequenceFlow_0taxpdw</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_1to26wl" name="Получаем инстанс айди выбранного клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getRefId/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="referenceId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1mri8my</bpmn:incoming><bpmn:outgoing>SequenceFlow_18cxb8r</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_01rv42u" name="Вытаскиваем поля из клиента на карточку заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/mapAttributes?sourceId=${referenceId}&amp;sourceType=INDIVIDUAL</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
    "hlk_partner_id" : "hlk_partner_id",
    "hlk_postcode" : "hlk_postcode",
    "hlk_mobile_phone":"hlk_mobile_phone",
    "hlk_SignatureSealCard" : "hlk_SignatureSealCard",
    "hlk_BankTransferDetails" : "hlk_BankTransferDetails",
    "hlk_detailsforsecurities" : "hlk_detailsforsecurities",
    "hlk_signfatcaul" : "hlk_signfatcaul",
    "hlk_reg_tau_kato_region" : "hlk_reg_tau_kato_region",
    "hlk_OffshoreZone" : "hlk_OffshoreZone",
    "hlk_residence_address_type_settlement_fl" : "hlk_residence_address_type_settlement_fl",
    "hlk_typesdoc" : "hlk_typesdoc",
    "hlk_type_organization_fatca" : "hlk_type_organization_fatca",
    "hlk_kato_residence_area_id" : "hlk_kato_residence_area_id",
    "hlk_costtt_center" : "hlk_costtt_center",
    "hlk_address_residence_district_fl" : "hlk_address_residence_district_fl",
    "hlk_fulltitle" : "hlk_fulltitle",
    "hlk_legalform" : "hlk_legalform",
    "hlk_oked" : "hlk_oked",

    "hlk_ip_type" : "hlk_ip_type",

    "hlk_ip_license_number" : "hlk_ip_license_number",

    "hlk_ip_issuing_date" : "hlk_ip_issuing_date",

    "hlk_ip_expiration_date" : "hlk_ip_expiration_date",
    "hlk_residence_address_house" : "hlk_residence_address_house",
    "hlk_regdate" : "hlk_regdate",
    "hlk_doc_first_date" : "hlk_doc_first_date",
    "hlk_dateissue" : "hlk_dateissue",
    "hlk_Conterparty_Level" : "hlk_Conterparty_Level",
    "hlk_OrderOpeningAccount" : "hlk_OrderOpeningAccount",
    "hlk_cp_tariff_plan" : "hlk_cp_tariff_plan",
    "hlk_kato_region_id" : "hlk_kato_region_id",
    "hlk_shareholder" : "hlk_shareholder",
    "hlk_tau_kato_locality" : "hlk_tau_kato_locality",
    "hlk_region_residence_address_fl" : "hlk_region_residence_address_fl",
    "hlk_SIGN_FATCA_DATE" : "hlk_SIGN_FATCA_DATE",
    "hlk_numberdocument" : "hlk_numberdocument",
    "hlk_RiskLevelAML" : "hlk_RiskLevelAML",
    "hlk_postcode_fact" : "hlk_postcode_fact",
    "hlk_residentusaul" : "hlk_residentusaul",
    "F_BirthDay" : "F_BirthDay",
    "hlk_RegAdress_Locality" : "hlk_RegAdress_Locality",
    "hlk_account_type_holder" : "hlk_account_type_holder",
    "hlk_document_expiration_date" : "hlk_document_expiration_date",
    "hlk_street" : "hlk_street",
    "hlk_kato_residence_region_id" : "hlk_kato_residence_region_id",
    "hlk_AMLCommentRiskLevel" : "hlk_AMLCommentRiskLevel",
    "hlk_NotificationMethod" : "hlk_NotificationMethod",
    "hlk_adressmatch" : "hlk_adressmatch",
    "hlk_kato_area_idid" : "hlk_kato_area_idid",
    "hlk_residentFL" : "hlk_residentFL",
    "hlk_address_residence_settlement_fl" : "hlk_address_residence_settlement_fl",
    "hlk_reg_tau_kato_district" : "hlk_reg_tau_kato_district",
    "hlk_phone" : "hlk_phone",
    "hlk_HabAdress_Area" : "hlk_HabAdress_Area",
    "hlk_address_residence_country" : "hlk_address_residence_country",
    "hlk_country_citizenship" : "hlk_country_citizenship",
    "hlk_app_id" : "hlk_app_id",
    "hlk_HabAdress_Full" : "hlk_HabAdress_Full",
    "hlk_se_id" : "hlk_se_id",
    "hlk_AML_MatchFound" : "hlk_AML_MatchFound",
    "hlk_IdentityDocumentScan" : "hlk_IdentityDocumentScan",
    "hlk_counterparty" : "hlk_counterparty",
    "hlk_regionul" : "hlk_regionul",
    "hlk_RegAdress_Full" : "hlk_RegAdress_Full",
    "hlk_profit_id" : "hlk_profit_id",
    "hlk_RegAdress_Area" : "hlk_RegAdress_Area",
    "hlk_residence_address_flat_fl" : "hlk_residence_address_flat_fl",
    "hlk_PowerAttorney" : "hlk_PowerAttorney",
    "hlk_kato_adress_locality_id" : "hlk_kato_adress_locality_id",
    "hlk_issueddocument" : "hlk_issueddocument",
    "hlk_kato_residence_locality_id" : "hlk_kato_residence_locality_id",
    "hlk_taxprivileges" : "hlk_taxprivileges",
    "hlk_date_ipdl" : "hlk_date_ipdl",
    "hlk_email" : "hlk_email",
    "hlk_QualInvestor" : "hlk_QualInvestor",
    "hlk_comment_ipdl" : "hlk_comment_ipdl",
    "hlk_PlaceOfBirth" : "hlk_PlaceOfBirth",
    "hlk_reg_tau_kato_locality" : "hlk_reg_tau_kato_locality",
    "hlk_ApplicationAccessionAgreement" : "hlk_ApplicationAccessionAgreement",
    "hlk_related_person" : "hlk_related_person",
    "hlk_locality" : "hlk_locality",
    "hlk_areaa" : "hlk_areaa",
    "hlk_isIP" : "hlk_isIP",
    "hlk_shorttitle" : "hlk_shorttitle",
    "hlk_residence_address_street_fl" : "hlk_residence_address_street_fl",
    "hlk_RegAdress_District" : "hlk_RegAdress_District",
    "hlk_regnumber" : "hlk_regnumber",
    "hlk_tau_kato_district" : "hlk_tau_kato_district",
    "hlk_gender" : "hlk_gender",
    "hlk_Placeofissue" : "hlk_Placeofissue",
    "hlk_ipdlUL" : "hlk_ipdlUL",
    "hlk_economicsector" : "hlk_economicsector",
    "hlk_patronomic" : "hlk_patronomic",
    "hlk_house" : "hlk_house",
    "hlk_HabAdress_Locality" : "hlk_HabAdress_Locality",
    "hlk_registrcountry" : "hlk_registrcountry",
    "hlk_iin_bin" : "hlk_iin_bin",
    "hlk_AMLReviewComment" : "hlk_AMLReviewComment",
    "hlk_tau_kato_region" : "hlk_tau_kato_region",
    "hlk_FATCA_participation" : "hlk_FATCA_participation",
    "hlk_typelocality" : "hlk_typelocality",
    "hlk_other_information" : "hlk_other_information",
    "hlk_customer" : "hlk_customer",
    "hlk_gintinul" : "hlk_gintinul",
    "hlk_HabAdress_District" : "hlk_HabAdress_District",
    "hlk_serialdocument" : "hlk_serialdocument",
    "hlk_officeflat" : "hlk_officeflat",
    "hlk_confidant" : "hlk_confidant"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_18cxb8r</bpmn:incoming><bpmn:outgoing>SequenceFlow_07kcbr6</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_188orxw" name="Изменяем клиента?"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_customer</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="firstStep">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_177v47z</bpmn:incoming><bpmn:outgoing>SequenceFlow_1hufsd2</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_06ykya3" name="Достаем айди заявки на регистрацию"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_app_id</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="primaryId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_011ddi9</bpmn:incoming><bpmn:outgoing>SequenceFlow_1e8bk6o</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="ScriptTask_1ct60ri" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="regDate"><bpmn:incoming>SequenceFlow_1hufsd2</bpmn:incoming><bpmn:outgoing>SequenceFlow_1r3agj7</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '').substring(0, 10)</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="ServiceTask_0qeqnu1" name="Определяем есть ли у клиента активный счет в цд"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "invoice",
	"filter": {
		"attributes.hlk_account_owner.primaryId": "${hlk_client_app}",
"attributes.hlk_clearing_system.primaryId" : "5e46ac7457645400077899c7",
"activityStatus" : "ACTIVE", 
"actual" : true,
                "attributes.hlk_account_type" : "Ценнобумажный"
	},
	"projection": {
		"attributes.hlk_Account_Number": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="accountNumber"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_Account_Number
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1azs69f</bpmn:incoming><bpmn:outgoing>Flow_1dhb0xn</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_03u9mn8" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1cte2h5</bpmn:incoming><bpmn:outgoing>SequenceFlow_10x5qea</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0tw7ej7" name="определяем primaryId клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1r3agj7</bpmn:incoming><bpmn:outgoing>SequenceFlow_1azs69f</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1jfg9f0" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_account_number_contract?incrementVersion=true&amp;value=${agreementNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_04p37gp</bpmn:incoming><bpmn:outgoing>SequenceFlow_1cte2h5</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_15qkykl" name="Достаем primaryId заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_003tbsc</bpmn:incoming><bpmn:outgoing>SequenceFlow_160bqtq</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1btkqca" name="определяем источник"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_source_doc</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="source">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1tnxlq3</bpmn:incoming><bpmn:outgoing>SequenceFlow_003tbsc</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_08weeoy" name="Устанавливаем признак вернувшейся заявки" camunda:expression="false" camunda:resultVariable="cdRejected"><bpmn:incoming>SequenceFlow_1ep4rxz</bpmn:incoming><bpmn:outgoing>SequenceFlow_1tnxlq3</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1o2o0hj" name="Достаем primaryId заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1s381dx</bpmn:incoming><bpmn:outgoing>SequenceFlow_1uj669f</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_187jfz2" name="Записываем в объект"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_app_id?incrementVersion=true&amp;value=${primaryId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1uj669f</bpmn:incoming><bpmn:outgoing>SequenceFlow_177v47z</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0j80uix" name="Достаем ид клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_partner_id</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="partnerId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_07kcbr6</bpmn:incoming><bpmn:outgoing>SequenceFlow_15e533x</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0ump71i" name="Достаем ид заявки на регистрацию"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_app_id</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="appId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_15e533x</bpmn:incoming><bpmn:outgoing>SequenceFlow_1s381dx</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1w9oy38" sourceRef="StartEvent_1230s50" targetRef="ServiceTask_0wf3pvj" /><bpmn:sequenceFlow id="SequenceFlow_0taxpdw" sourceRef="UserTask_0t4ul2z" targetRef="ServiceTask_00eq9em" /><bpmn:sequenceFlow id="SequenceFlow_18cxb8r" sourceRef="ServiceTask_1to26wl" targetRef="ServiceTask_01rv42u" /><bpmn:sequenceFlow id="SequenceFlow_07kcbr6" sourceRef="ServiceTask_01rv42u" targetRef="ServiceTask_0j80uix" /><bpmn:sequenceFlow id="SequenceFlow_177v47z" sourceRef="ServiceTask_187jfz2" targetRef="ServiceTask_188orxw" /><bpmn:sequenceFlow id="SequenceFlow_1hufsd2" sourceRef="ServiceTask_188orxw" targetRef="ScriptTask_1ct60ri" /><bpmn:sequenceFlow id="SequenceFlow_10x5qea" sourceRef="ServiceTask_03u9mn8" targetRef="ServiceTask_00fjffw" /><bpmn:sequenceFlow id="SequenceFlow_1r3agj7" sourceRef="ScriptTask_1ct60ri" targetRef="ServiceTask_0tw7ej7" /><bpmn:sequenceFlow id="SequenceFlow_1azs69f" sourceRef="ServiceTask_0tw7ej7" targetRef="ServiceTask_0qeqnu1" /><bpmn:sequenceFlow id="SequenceFlow_1cte2h5" sourceRef="ServiceTask_1jfg9f0" targetRef="ServiceTask_03u9mn8" /><bpmn:sequenceFlow id="SequenceFlow_1tnxlq3" sourceRef="ServiceTask_08weeoy" targetRef="ServiceTask_1btkqca" /><bpmn:sequenceFlow id="SequenceFlow_003tbsc" sourceRef="ServiceTask_1btkqca" targetRef="ServiceTask_15qkykl" /><bpmn:sequenceFlow id="SequenceFlow_1s381dx" sourceRef="ServiceTask_0ump71i" targetRef="ServiceTask_1o2o0hj" /><bpmn:sequenceFlow id="SequenceFlow_1uj669f" sourceRef="ServiceTask_1o2o0hj" targetRef="ServiceTask_187jfz2" /><bpmn:sequenceFlow id="SequenceFlow_15e533x" sourceRef="ServiceTask_0j80uix" targetRef="ServiceTask_0ump71i" /><bpmn:sequenceFlow id="SequenceFlow_1e8bk6o" sourceRef="ServiceTask_06ykya3" targetRef="ServiceTask_1g1emqr" /><bpmn:serviceTask id="ServiceTask_0ccvwc7" name="Записываем в объект"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"ShortName" : "${ShortName}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1gggk75</bpmn:incoming><bpmn:outgoing>SequenceFlow_02s58d2</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1onrjnn" name="определяем ShortName"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_fulltitle</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="ShortName">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1w7c8dl</bpmn:incoming><bpmn:outgoing>SequenceFlow_1gggk75</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1gggk75" sourceRef="ServiceTask_1onrjnn" targetRef="ServiceTask_0ccvwc7" /><bpmn:serviceTask id="ServiceTask_0bkf5fu" name="Записываем результат валидации"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/verification/${instanceId}</camunda:inputParameter><camunda:inputParameter name="payload">${validationErrors}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_09g1klc</bpmn:incoming><bpmn:outgoing>SequenceFlow_1o4199x</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1nz8yyr"><bpmn:incoming>SequenceFlow_1o4199x</bpmn:incoming><bpmn:outgoing>SequenceFlow_0942sw7</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0bcamph</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_1dq41jn" name="Получаем аттрибуты"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttributes?systemName=hlk_gintinul&amp;systemName=hlk_signfatcaul&amp;systemName=hlk_residentusaul&amp;systemName=hlk_iin_bin&amp;systemName=hlk_residentFL&amp;systemName=hlk_typesdoc&amp;systemName=hlk_mobile_phone</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="attributes">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1keqxq3</bpmn:incoming><bpmn:outgoing>SequenceFlow_166wwnk</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="ScriptTask_01io85i" name="Проверяем правильность заполнения" scriptFormat="javascript" camunda:resultVariable="validationErrors"><bpmn:incoming>SequenceFlow_166wwnk</bpmn:incoming><bpmn:outgoing>SequenceFlow_09g1klc</bpmn:outgoing><bpmn:script>// первые проверки
var attrs = JSON.parse(attributes);
var errors = {};


// проверки 1
if (!attrs.hlk_gintinul &amp;&amp; attrs.hlk_signfatcaul === 'FATCA' &amp;&amp; attrs.hlk_residentusaul) {
    errors.hlk_gintinul = {
        verified: false,
        decision: 'Параметр является обязательным, если выставлены Признак FATCA и Резидент США'
    };
} else {
    errors.hlk_gintinul = {
        verified: true
    }
}

if (!attrs.hlk_iin_bin &amp;&amp; (attrs.hlk_residentFL || attrs.hlk_typesdoc === 'Вид на жительство иностранца в Республике Казахстан')) {
    errors.hlk_iin_bin = {
        verified: false,
        decision: 'Обязательно к заполнению'
    };
} else {
    errors.hlk_iin_bin = {
        verified: true
    }
}
var mobile_phone_prefix = [700, 701, 702, 703, 704, 705, 706, 707, 708, 709, 747, 750, 751, 760, 761, 762, 763, 764, 771, 775, 776, 777, 778];

//проверки маски телефона

var flag = 0; 
for (var i = 0; i &lt; mobile_phone_prefix.length; i++) {
  if ( mobile_phone_prefix[i] == attrs.hlk_mobile_phone.substring(1,4)) {
	flag=1;
	continue;
  }
} 

if (attrs.hlk_mobile_phone &amp;&amp; attrs.hlk_mobile_phone.length &gt; 1 &amp;&amp; !flag) {
    errors.hlk_mobile_phone = {
        verified: false,
        decision: 'Код мобильного телефона не соответствует справочнику допустимых кодов'
    };
} else {
    errors.hlk_mobile_phone = {
        verified: true
    }
}

JSON.stringify(errors);</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_09g1klc" sourceRef="ScriptTask_01io85i" targetRef="ServiceTask_0bkf5fu" /><bpmn:sequenceFlow id="SequenceFlow_1o4199x" sourceRef="ServiceTask_0bkf5fu" targetRef="ExclusiveGateway_1nz8yyr" /><bpmn:sequenceFlow id="SequenceFlow_166wwnk" sourceRef="ServiceTask_1dq41jn" targetRef="ScriptTask_01io85i" /><bpmn:sequenceFlow id="SequenceFlow_0942sw7" sourceRef="ExclusiveGateway_1nz8yyr" targetRef="CallActivity_00de9v3"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="javascript">var verified =true;
var v = JSON.parse(validationErrors);
for (key in v) {
    verified = verified &amp;&amp; v[key].verified; 
}
verified;</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0bcamph" sourceRef="ExclusiveGateway_1nz8yyr" targetRef="Activity_0axzngy" /><bpmn:callActivity id="CallActivity_0b5kw7c" name="Генерируем форму 15" camunda:asyncBefore="true" calledElement="Form15Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${instanceId}" target="instanceId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1w3zfy8</bpmn:incoming><bpmn:outgoing>SequenceFlow_0eg0w0a</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_0k8d7hr" name="Полуаем email клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_email</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="mail">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0eg0w0a</bpmn:incoming><bpmn:incoming>SequenceFlow_1bn3u29</bpmn:incoming><bpmn:outgoing>SequenceFlow_1erjbhc</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1h4qzf9" default="SequenceFlow_1bn3u29"><bpmn:incoming>SequenceFlow_1wsmi1n</bpmn:incoming><bpmn:outgoing>SequenceFlow_1w3zfy8</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1bn3u29</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_02lwxyf" name="Полуаем атрибуты типов клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_customer</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="step">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_02s58d2</bpmn:incoming><bpmn:outgoing>SequenceFlow_1wsmi1n</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1w3zfy8" sourceRef="ExclusiveGateway_1h4qzf9" targetRef="CallActivity_0b5kw7c"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${step == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0eg0w0a" sourceRef="CallActivity_0b5kw7c" targetRef="ServiceTask_0k8d7hr" /><bpmn:sequenceFlow id="SequenceFlow_1bn3u29" sourceRef="ExclusiveGateway_1h4qzf9" targetRef="ServiceTask_0k8d7hr" /><bpmn:sequenceFlow id="SequenceFlow_1wsmi1n" sourceRef="ServiceTask_02lwxyf" targetRef="ExclusiveGateway_1h4qzf9" /><bpmn:sequenceFlow id="SequenceFlow_02s58d2" sourceRef="ServiceTask_0ccvwc7" targetRef="ServiceTask_02lwxyf" /><bpmn:sequenceFlow id="SequenceFlow_1erjbhc" sourceRef="ServiceTask_0k8d7hr" targetRef="ServiceTask_0c8dx5g" /><bpmn:serviceTask id="ServiceTask_0c8dx5g" name="Полуаем мобильный клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_mobile_phone</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="phone">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1erjbhc</bpmn:incoming><bpmn:outgoing>SequenceFlow_02fz4g9</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="UserTask_1rvyhpd" name="Подтверждение заявки" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Accept&#34;,&#34;label&#34;:&#34;Подтвердить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /><camunda:formField id="{&#34;id&#34;: &#34;Cancel&#34;, &#34;label&#34;: &#34;Отклонить&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_close&#34;, &#34;label&#34;: &#34;Причина отклонения&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0mnef61</bpmn:incoming><bpmn:outgoing>SequenceFlow_0pigds8</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0ry55yy</bpmn:outgoing><bpmn:outgoing>SequenceFlow_11n6fkr</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_1usvyfk" name="Статус заявки &#34;Обработка: Заявка зарегистрирована&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+зарегистрирована</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0pigds8</bpmn:incoming><bpmn:outgoing>SequenceFlow_1aocrxb</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1fuejax" name="Статус заявки отклонена сотрудником СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+отклонена+сотрудником+СП</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1i9lcg8</bpmn:incoming><bpmn:outgoing>SequenceFlow_141h93l</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0gjx7om" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_141h93l</bpmn:incoming><bpmn:outgoing>SequenceFlow_0drx46a</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0kz9tc3"><bpmn:incoming>SequenceFlow_0drx46a</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_18zdgv9" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Возврат заявки на регистрацию клиента на доработку исполнителю")
.prop("text","Заявка" + " " + ezdocObjectUrl + " " +  "возвращена исполнителю на доработку")
.prop("attachments" , [])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_11n6fkr</bpmn:incoming><bpmn:outgoing>SequenceFlow_0mxbmd6</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0rp54s4" name="Статус заявки отклонена сотрудником СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Не+назначен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0wl0voo</bpmn:incoming><bpmn:outgoing>SequenceFlow_1mmiqr2</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0jaqldg" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_cancelation_reason?incrementVersion=true&amp;value=${hlk_reason_close.replace(" ","+")}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1oy6y5w</bpmn:incoming><bpmn:outgoing>SequenceFlow_1i9lcg8</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_01bf5l7" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_remake_reason?incrementVersion=true&amp;value=${hlk_reason_return.replace(" ","+")}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0n9u2ks</bpmn:incoming><bpmn:outgoing>SequenceFlow_0wl0voo</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0pigds8" sourceRef="UserTask_1rvyhpd" targetRef="ServiceTask_1usvyfk"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Accept'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0ry55yy" sourceRef="UserTask_1rvyhpd" targetRef="ScriptTask_0h1ciya"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Cancel'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_11n6fkr" sourceRef="UserTask_1rvyhpd" targetRef="ServiceTask_18zdgv9"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Reject'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1i9lcg8" sourceRef="ServiceTask_0jaqldg" targetRef="ServiceTask_1fuejax" /><bpmn:sequenceFlow id="SequenceFlow_141h93l" sourceRef="ServiceTask_1fuejax" targetRef="ServiceTask_0gjx7om" /><bpmn:sequenceFlow id="SequenceFlow_0drx46a" sourceRef="ServiceTask_0gjx7om" targetRef="EndEvent_0kz9tc3" /><bpmn:sequenceFlow id="SequenceFlow_0mxbmd6" sourceRef="ServiceTask_18zdgv9" targetRef="ScriptTask_0psuyjh" /><bpmn:sequenceFlow id="SequenceFlow_0wl0voo" sourceRef="ServiceTask_01bf5l7" targetRef="ServiceTask_0rp54s4" /><bpmn:sequenceFlow id="SequenceFlow_1mmiqr2" sourceRef="ServiceTask_0rp54s4" targetRef="UserTask_1v8rq7m" /><bpmn:sequenceFlow id="SequenceFlow_02fz4g9" sourceRef="ServiceTask_0c8dx5g" targetRef="ServiceTask_07y1y06" /><bpmn:serviceTask id="ServiceTask_0f7exdu" name="Определяем есть ли у клиента активный счет в цд"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "invoice",
	"filter": {
		"attributes.hlk_account_owner.primaryId": "${hlk_client_app}",
"activityStatus" : "ACTIVE", 
"actual" : true,
"attributes.hlk_account_external" : false,           "attributes.hlk_clearing_system.primaryId" : "5e46ac7457645400077899c7",
                "attributes.hlk_account_type" : "Ценнобумажный"
	},
	"projection": {
		"attributes.hlk_Account_Number": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="accountNumber"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_Account_Number
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0h3bdrl</bpmn:incoming><bpmn:outgoing>SequenceFlow_10l9nx1</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0jn0qce" name="определяем primaryId клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_16ta8bo</bpmn:incoming><bpmn:outgoing>SequenceFlow_1p2k2u6</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1ghlpx0"><bpmn:incoming>SequenceFlow_10l9nx1</bpmn:incoming><bpmn:incoming>Flow_18hu9ui</bpmn:incoming><bpmn:outgoing>SequenceFlow_0cslu6t</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0ubke0x</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0j8cera</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0ffecwb" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0xkorq2</bpmn:incoming><bpmn:outgoing>SequenceFlow_0w9j7s4</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0593pa6"><bpmn:incoming>SequenceFlow_0w9j7s4</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_1wugxpi" name="Статус заявки отклонена, найдено совпадение по спискам амл"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Клиент+не+прошел+проверку+AML</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1d1uce7</bpmn:incoming><bpmn:outgoing>SequenceFlow_0xkorq2</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="UserTask_0nhv511" name="Ручная проверка" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Accept&#34;,&#34;label&#34;:&#34;Подтвердить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="{&#34;id&#34;:&#34;Cancel&#34;,&#34;label&#34;:&#34;Отклонить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0raes09</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ogy6wn</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0aectvq</bpmn:outgoing></bpmn:userTask><bpmn:exclusiveGateway id="ExclusiveGateway_1kcxukp" default="SequenceFlow_0cdmj9c"><bpmn:incoming>SequenceFlow_130i33t</bpmn:incoming><bpmn:outgoing>SequenceFlow_14eklib</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1bpu9oo</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1p7h51x</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0cdmj9c</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0rk0yud</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0iz7ruh" name="Изменяем статус заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=AML.Совпадений+не+найдено</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ogy6wn</bpmn:incoming><bpmn:incoming>Flow_00qbl8i</bpmn:incoming><bpmn:outgoing>SequenceFlow_1sd5tdu</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_007x07m"><bpmn:incoming>Flow_1q2muf0</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ao2gk8</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0qxrpia</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0195miy" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ao2gk8</bpmn:incoming><bpmn:outgoing>SequenceFlow_1be9ylf</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_1u0daxp"><bpmn:incoming>SequenceFlow_1vnvh3c</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_179fas1" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1be9ylf</bpmn:incoming><bpmn:outgoing>SequenceFlow_1vnvh3c</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_022e2bq" name="Изменяем статус заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Системная+ошибка+AML</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_06110tr</bpmn:incoming><bpmn:outgoing>SequenceFlow_0raes09</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1foerw9" name="Изменяем статус заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Выявлено+совпадение.+Ожидайте+решение+Compliance</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1p7h51x</bpmn:incoming><bpmn:outgoing>SequenceFlow_0g9bu5c</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1s4nfqo" name="Ожидаем ответ"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_AMLStatus</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0l62bgk</bpmn:incoming><bpmn:incoming>Flow_0turl4t</bpmn:incoming><bpmn:outgoing>SequenceFlow_130i33t</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0gihzug" name="Создаем заявку на регистрацию счета" camunda:asyncBefore="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "account")
.prop("hlk_Account_Number" , accountNumber)
.prop("hlk_account_type_contract" , "Брокерское обслуживание ФЛ")
.prop("hlk_app_date" , regDate)
.prop("hlk_invoice_subaccount_type" , "Субсчет держателя")
.prop("hlk_account_type_holder" , "Физическое лицо")
.prop("hlk_InContract_ID_Client" , partnerId)
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type","0")
.prop("hlk_autostart" , true)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0gk71vd</bpmn:incoming><bpmn:outgoing>SequenceFlow_1njb2ei</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="ParallelGateway_1v3gid1" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_1hhyhg7</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gk71vd</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1lhk357</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_105obdg" name="Ожидаем сообщения о готовности к старту от подпроцесса" camunda:asyncAfter="true" messageRef="Message_1f6ajpu"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="ez_step">accountCreated</camunda:outputParameter><camunda:outputParameter name="accountProcess">${processKey}</camunda:outputParameter><camunda:outputParameter name="accountId">${instanceId}</camunda:outputParameter><camunda:outputParameter name="accountTemplateId">${templateId}</camunda:outputParameter><camunda:outputParameter name="accountType">${type}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectEditorUrl">${ezdocObjectEditorUrl}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectUrl">${ezdocObjectUrl}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1lhk357</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gxmozi</bpmn:outgoing></bpmn:receiveTask><bpmn:parallelGateway id="ParallelGateway_0t1ztuj"><bpmn:incoming>SequenceFlow_1njb2ei</bpmn:incoming><bpmn:incoming>SequenceFlow_0gxmozi</bpmn:incoming><bpmn:outgoing>SequenceFlow_0huwcrn</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id="ParallelGateway_1ncaemh" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_00udm12</bpmn:incoming><bpmn:outgoing>SequenceFlow_0g2fv0w</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1qam3wp</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_0h9xk1m" name="Ожидаем сообщения о готовности к старту от подпроцесса" camunda:asyncAfter="true" messageRef="Message_1f6ajpu"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="ez_step">agreementCreated</camunda:outputParameter><camunda:outputParameter name="agreementProcess">${processKey}</camunda:outputParameter><camunda:outputParameter name="agreementId">${instanceId}</camunda:outputParameter><camunda:outputParameter name="agreementTemplateId">${templateId}</camunda:outputParameter><camunda:outputParameter name="agreementType">${type}</camunda:outputParameter><camunda:outputParameter name="agreementEzDocObjectEditorUrl">${ezdocObjectEditorUrl}</camunda:outputParameter><camunda:outputParameter name="agreementEzDocObjectUrl">${ezdocObjectUrl}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0g2fv0w</bpmn:incoming><bpmn:outgoing>SequenceFlow_0diqsci</bpmn:outgoing></bpmn:receiveTask><bpmn:parallelGateway id="ParallelGateway_01us4uq"><bpmn:incoming>SequenceFlow_0diqsci</bpmn:incoming><bpmn:incoming>SequenceFlow_1m0l483</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ban0iv</bpmn:outgoing></bpmn:parallelGateway><bpmn:serviceTask id="ServiceTask_0c1fql2" name="Создаем заявку на регистрацию договора" camunda:asyncBefore="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_EDS_Confirmation" , false)
.prop("hlk_executor" , initiator)
.prop("hlk_contract_status" , "Открыт")
.prop("hlk_account_type_contract" , "Брокерское обслуживание ФЛ")
.prop("hlk_source_doc" , "Вручную")
.prop("ObjectType" , "agreement")
.prop("hlk_app_date" , regDate)
.prop("hlk_Contract_Start_Date" , regDate)
.prop("hlk_InContract_ID_Client" , partnerId)
.prop("hlk_client_FL", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type","0")
.prop("hlk_Tariff_Plan" , "Стандартный")
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1qam3wp</bpmn:incoming><bpmn:outgoing>SequenceFlow_1m0l483</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_01x8tan" name="Генерируем номер счета и договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/sequence/next/Account?default=1028103861</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="accountNumber">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0h94n44</bpmn:incoming><bpmn:outgoing>SequenceFlow_0qd2lys</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="ParallelGateway_0doe3eo"><bpmn:incoming>SequenceFlow_0jpyvsh</bpmn:incoming><bpmn:outgoing>SequenceFlow_1f2186a</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1c3d0u7</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id="ParallelGateway_12l13o5"><bpmn:incoming>SequenceFlow_1qzan6v</bpmn:incoming><bpmn:incoming>SequenceFlow_1nqd8kx</bpmn:incoming><bpmn:outgoing>SequenceFlow_06c4fdg</bpmn:outgoing></bpmn:parallelGateway><bpmn:callActivity id="CallActivity_0zkk865" name="Запускаем процесс регистрации счета" calledElement="TEMPLATE_INSTANCE_PROCESS_hlk_securities_account_6e551763-f964-457e-89bc-9a53378b5d7c"><bpmn:extensionElements><camunda:in sourceExpression="${accountId}" target="instanceId" /><camunda:in sourceExpression="${accountTemplateId}" target="templateId" /><camunda:in sourceExpression="${accountType}" target="type" /><camunda:in sourceExpression="${accountEzDocObjectEditorUrl}" target="ezdocObjectEditorUrl" /><camunda:in sourceExpression="${accountEzDocObjectUrl}" target="ezdocObjectUrl" /><camunda:in sourceExpression="${initiator}" target="initiator" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in businessKey="${accountType}_${accountId}" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1f2186a</bpmn:incoming><bpmn:outgoing>SequenceFlow_1qzan6v</bpmn:outgoing></bpmn:callActivity><bpmn:callActivity id="CallActivity_0fsr2ue" name="Запускаем процесс регистрации договора" calledElement="TEMPLATE_INSTANCE_PROCESS_hlk_AppRegContracts_41524162-fa02-47df-9197-2338660d72f4"><bpmn:extensionElements><camunda:in sourceExpression="${agreementId}" target="instanceId" /><camunda:in sourceExpression="${agreementTemplateId}" target="templateId" /><camunda:in sourceExpression="${agreementType}" target="type" /><camunda:in sourceExpression="${agreementEzDocObjectEditorUrl}" target="ezdocObjectEditorUrl" /><camunda:in sourceExpression="${agreementEzDocObjectUrl}" target="ezdocObjectUrl" /><camunda:in sourceExpression="${initiator}" target="initiator" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in businessKey="${agreementType.toLowerCase()}_${agreementId}" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1c3d0u7</bpmn:incoming><bpmn:outgoing>SequenceFlow_1nqd8kx</bpmn:outgoing></bpmn:callActivity><bpmn:callActivity id="CallActivity_16o5wv4" name="Отправляем SWIFT" calledElement="MT501Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1yk13ej</bpmn:incoming><bpmn:outgoing>SequenceFlow_1o5lyl3</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_1ovulyq" name="Получаем референс"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "swiftMessageEntity",
         "filter": { 
		"instanceId": "${accountId}",
		"instanceType": "BOOK"
	},
	"projection": { 
		"refId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="SWIFT_MSG_REF"><camunda:script scriptFormat="JavaScript">try {
JSON.parse(response).cursor.firstBatch[0].refId
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0t516rr</bpmn:incoming><bpmn:outgoing>SequenceFlow_0g3gwsr</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0sonreh" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/SWIFT_MSG_REF?incrementVersion=true&amp;value=${SWIFT_MSG_REF}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0g3gwsr</bpmn:incoming><bpmn:outgoing>SequenceFlow_1i4p0dm</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1f576zg" default="SequenceFlow_0zjjocb"><bpmn:incoming>Flow_0yp103i</bpmn:incoming><bpmn:outgoing>SequenceFlow_0zjjocb</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1mfp6v7</bpmn:outgoing><bpmn:outgoing>Flow_0gmbdzp</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_12siwlc" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0zjjocb</bpmn:incoming><bpmn:outgoing>SequenceFlow_1m3xmdj</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_18n1lla"><bpmn:incoming>SequenceFlow_0ffsn7v</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id="CallActivity_030vbed" name="Генерируем печатные формы" calledElement="AccountOrderGeneration"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_17d0dvc</bpmn:incoming><bpmn:incoming>SequenceFlow_18j19rd</bpmn:incoming><bpmn:outgoing>Flow_103j0nn</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_04vvyjs" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1m3xmdj</bpmn:incoming><bpmn:outgoing>SequenceFlow_0v1bu3s</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_077eaan" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${agreementId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0v1bu3s</bpmn:incoming><bpmn:outgoing>SequenceFlow_1va62rh</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="ScriptTask_046knmy" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="acceptDate"><bpmn:incoming>SequenceFlow_0ibevp2</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ib16hc</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '').substring(0, 10)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_1f3stxe" name="Считаем разницу между датами" scriptFormat="javascript" camunda:resultVariable="difference"><bpmn:incoming>SequenceFlow_0ib16hc</bpmn:incoming><bpmn:outgoing>SequenceFlow_0b2m7qx</bpmn:outgoing><bpmn:script>Math.floor(Math.abs(new Date(acceptDate) - new Date(regDate))/(1000 * 60 * 60 * 24));</bpmn:script></bpmn:scriptTask><bpmn:exclusiveGateway id="ExclusiveGateway_03ntkil" default="SequenceFlow_1a7b41l"><bpmn:incoming>SequenceFlow_0b2m7qx</bpmn:incoming><bpmn:outgoing>SequenceFlow_17d0dvc</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1a7b41l</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0avc6k1" name="Меняем дату регистрации договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${agreementId}/setAttribute/hlk_Contract_Start_Date?incrementVersion=true&amp;value=${acceptDate}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">**</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1a7b41l</bpmn:incoming><bpmn:outgoing>SequenceFlow_18j19rd</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1105tmd" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_account_number_contract?incrementVersion=true&amp;value=${accountNumber.substring(accountNumber.length()-6)}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0qd2lys</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gj2dh2</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0unibnb" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0gj2dh2</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ufelnc</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_028jmwq" name="Меняем статус заявки SWIFT исполнен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1mfp6v7</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ibevp2</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0vajfaf" name="Меняем статус заявки SWIFT отправлен для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1o5lyl3</bpmn:incoming><bpmn:outgoing>SequenceFlow_0pojv0h</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_10v6pts" name="Меняем статус заявки SWIFT отправлен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0pojv0h</bpmn:incoming><bpmn:outgoing>SequenceFlow_0t516rr</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_03tkp04" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ubke0x</bpmn:incoming><bpmn:outgoing>SequenceFlow_16qox74</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_129xz6v" name="Создаем заявку на изменение реквизитов счета" camunda:asyncBefore="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "accountChng")
.prop("hlk_Account_Number" , accountNumber)
.prop("hlk_account_type_contract" , "Брокерское обслуживание ФЛ")
.prop("hlk_app_date" , regDate)
.prop("hlk_invoice_subaccount_type" , "Субсчет держателя")
.prop("hlk_account_type_holder" , "Физическое лицо")
.prop("hlk_InContract_ID_Client" , partnerId)
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type","0")
.prop("hlk_autostart" , true)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0p6lvp6</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ynqo2p</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="ParallelGateway_0tkedi1" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_16qox74</bpmn:incoming><bpmn:outgoing>SequenceFlow_0p6lvp6</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0a4kh8i</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_08hoovy" name="Ожидаем сообщения о готовности к старту от подпроцесса" messageRef="Message_1f6ajpu"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="ez_step">accountCreated</camunda:outputParameter><camunda:outputParameter name="accountProcess">${processKey}</camunda:outputParameter><camunda:outputParameter name="accountId">${instanceId}</camunda:outputParameter><camunda:outputParameter name="accountTemplateId">${templateId}</camunda:outputParameter><camunda:outputParameter name="accountType">${type}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectEditorUrl">${ezdocObjectEditorUrl}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectUrl">${ezdocObjectUrl}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0a4kh8i</bpmn:incoming><bpmn:outgoing>SequenceFlow_0rgnk9b</bpmn:outgoing></bpmn:receiveTask><bpmn:parallelGateway id="ParallelGateway_1q5xb91"><bpmn:incoming>SequenceFlow_1ynqo2p</bpmn:incoming><bpmn:incoming>SequenceFlow_0rgnk9b</bpmn:incoming><bpmn:outgoing>SequenceFlow_1nwdp4m</bpmn:outgoing></bpmn:parallelGateway><bpmn:callActivity id="CallActivity_1k78og7" name="Запускаем процесс регистрации счета" calledElement="TEMPLATE_INSTANCE_PROCESS_hlk_securities_account_6e551763-f964-457e-89bc-9a53378b5d7c"><bpmn:extensionElements><camunda:in sourceExpression="${accountId}" target="instanceId" /><camunda:in sourceExpression="${accountTemplateId}" target="templateId" /><camunda:in sourceExpression="${accountType}" target="type" /><camunda:in sourceExpression="${accountEzDocObjectEditorUrl}" target="ezdocObjectEditorUrl" /><camunda:in sourceExpression="${accountEzDocObjectUrl}" target="ezdocObjectUrl" /><camunda:in sourceExpression="${initiator}" target="initiator" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in businessKey="${accountType}_${accountId}" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_06cl03u</bpmn:incoming><bpmn:outgoing>SequenceFlow_09dz3xn</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_1qqgwfi" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_13jjfea</bpmn:incoming><bpmn:outgoing>SequenceFlow_02ow8zx</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0wr3nc8" name="Достаем ссылку на клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_iin_bin</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="iin">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0gpeqj7</bpmn:incoming><bpmn:outgoing>SequenceFlow_12cundm</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_1x2qk0q" name="Отправляем SWIFT" camunda:asyncAfter="true" calledElement="MT501Generation"><bpmn:extensionElements><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /><camunda:in variables="all" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_11oom7s</bpmn:incoming><bpmn:outgoing>SequenceFlow_1iyic6y</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_157g81z" name="Получаем референс"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "swiftMessageEntity",
         "filter": { 
		"instanceId": "${accountId}",
		"instanceType": "BOOK"
	},
	"projection": { 
		"refId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="SWIFT_MSG_REF"><camunda:script scriptFormat="JavaScript">try {
JSON.parse(response).cursor.firstBatch[0].refId
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ij8wmu</bpmn:incoming><bpmn:outgoing>SequenceFlow_14h6lyg</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0edzwu0" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/SWIFT_MSG_REF?incrementVersion=true&amp;value=${SWIFT_MSG_REF}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_14h6lyg</bpmn:incoming><bpmn:outgoing>SequenceFlow_0wqyj8r</bpmn:outgoing></bpmn:serviceTask><bpmn:receiveTask id="ReceiveTask_0le26ek" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_0boghnk"><bpmn:incoming>Flow_0930844</bpmn:incoming><bpmn:outgoing>Flow_1ljaivu</bpmn:outgoing></bpmn:receiveTask><bpmn:serviceTask id="ServiceTask_1f41crz" name="Сохраняем 539"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/attach/${swiftId}?type=BOOK&amp;instanceId=${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0lid9y4</bpmn:incoming><bpmn:outgoing>Flow_1n4sc8b</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1nxdual" name="Смотрим статус"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_OPERATION_STATUS</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_18975l8</bpmn:incoming><bpmn:incoming>Flow_1ljaivu</bpmn:incoming><bpmn:outgoing>SequenceFlow_0lid9y4</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1ug3flh" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0to30yh</bpmn:incoming><bpmn:incoming>Flow_1bgjnal</bpmn:incoming><bpmn:outgoing>SequenceFlow_1wnydh5</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0onftyb"><bpmn:incoming>SequenceFlow_0t1jj43</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_1oe2c03" name="Меняем статус заявки SWIFT принят"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ib0bvu</bpmn:incoming><bpmn:outgoing>Flow_0704ek1</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_18jsybx" name="Меняем статус заявки SWIFT принят для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0704ek1</bpmn:incoming><bpmn:outgoing>Flow_0930844</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1pzccdd" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1wnydh5</bpmn:incoming><bpmn:outgoing>SequenceFlow_02l4l5m</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0jki94m" name="Меняем статус заявки SWIFT исполнен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0mrds4m</bpmn:incoming><bpmn:outgoing>SequenceFlow_1lks3ir</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_041620r" name="Меняем статус заявки SWIFT отправлен для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1iyic6y</bpmn:incoming><bpmn:outgoing>SequenceFlow_1j9yl12</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0xppbf1" name="Меняем статус заявки SWIFT отправлен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1j9yl12</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ij8wmu</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0a33clu" name="Создаем заявку на регистрацию счета" camunda:asyncBefore="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "account")
.prop("hlk_Account_Number" , accountNumber)
.prop("hlk_account_type_contract" , "Брокерское обслуживание ФЛ")
.prop("hlk_app_date" , regDate)
.prop("hlk_invoice_subaccount_type" , "Субсчет держателя")
.prop("hlk_account_type_holder" , "Физическое лицо")
.prop("hlk_InContract_ID_Client" , partnerId)
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type","0")
.prop("hlk_autostart" , true)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0dgjz7b</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ycdydd</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="ParallelGateway_1ayxx8r" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_1mh3h6s</bpmn:incoming><bpmn:outgoing>SequenceFlow_0dgjz7b</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0xs6gmw</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_01jk451" name="Ожидаем сообщения о готовности к старту от подпроцесса" messageRef="Message_1f6ajpu"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="ez_step">accountCreated</camunda:outputParameter><camunda:outputParameter name="accountProcess">${processKey}</camunda:outputParameter><camunda:outputParameter name="accountId">${instanceId}</camunda:outputParameter><camunda:outputParameter name="accountTemplateId">${templateId}</camunda:outputParameter><camunda:outputParameter name="accountType">${type}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectEditorUrl">${ezdocObjectEditorUrl}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectUrl">${ezdocObjectUrl}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0xs6gmw</bpmn:incoming><bpmn:outgoing>SequenceFlow_07iv6va</bpmn:outgoing></bpmn:receiveTask><bpmn:parallelGateway id="ParallelGateway_09z9ldx"><bpmn:incoming>SequenceFlow_1ycdydd</bpmn:incoming><bpmn:incoming>SequenceFlow_07iv6va</bpmn:incoming><bpmn:outgoing>SequenceFlow_1hcsu9e</bpmn:outgoing></bpmn:parallelGateway><bpmn:callActivity id="CallActivity_0kiycw5" name="Запускаем процесс регистрации счета" calledElement="TEMPLATE_INSTANCE_PROCESS_hlk_securities_account_6e551763-f964-457e-89bc-9a53378b5d7c"><bpmn:extensionElements><camunda:in sourceExpression="${accountId}" target="instanceId" /><camunda:in sourceExpression="${accountTemplateId}" target="templateId" /><camunda:in sourceExpression="${accountType}" target="type" /><camunda:in sourceExpression="${accountEzDocObjectEditorUrl}" target="ezdocObjectEditorUrl" /><camunda:in sourceExpression="${accountEzDocObjectUrl}" target="ezdocObjectUrl" /><camunda:in sourceExpression="${initiator}" target="initiator" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in businessKey="${accountType}_${accountId}" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_05bzce9</bpmn:incoming><bpmn:outgoing>SequenceFlow_0bowxx1</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_06p6c10" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1gzl1jq</bpmn:incoming><bpmn:outgoing>SequenceFlow_1plz5cl</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_13jdxdi" name="Достаем ссылку на клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_iin_bin</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="iin">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_10hkkia</bpmn:incoming><bpmn:outgoing>Flow_0r2d0hi</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_04acqqc" name="Отправляем SWIFT" calledElement="MT501Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0r6vokm</bpmn:incoming><bpmn:outgoing>SequenceFlow_1nrukf5</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_0fm117s" name="Получаем референс"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "swiftMessageEntity",
         "filter": { 
		"instanceId": "${accountId}",
		"instanceType": "BOOK"
	},
	"projection": { 
		"refId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="SWIFT_MSG_REF"><camunda:script scriptFormat="JavaScript">try {
JSON.parse(response).cursor.firstBatch[0].refId
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1rveg4k</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dyxiyo</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0knavke" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/SWIFT_MSG_REF?incrementVersion=true&amp;value=${SWIFT_MSG_REF}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1dyxiyo</bpmn:incoming><bpmn:outgoing>SequenceFlow_0fb8ogm</bpmn:outgoing></bpmn:serviceTask><bpmn:receiveTask id="ReceiveTask_18male7" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_0boghnk"><bpmn:incoming>Flow_0085ktm</bpmn:incoming><bpmn:outgoing>Flow_0v66ulp</bpmn:outgoing></bpmn:receiveTask><bpmn:serviceTask id="ServiceTask_08m5emy" name="Сохраняем 539"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/attach/${swiftId}?type=BOOK&amp;instanceId=${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1qcp8fy</bpmn:incoming><bpmn:outgoing>Flow_1ka7nqx</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0meeu3h" name="Смотрим статус"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_OPERATION_STATUS</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_04izm31</bpmn:incoming><bpmn:incoming>Flow_0v66ulp</bpmn:incoming><bpmn:outgoing>Flow_1xaevqu</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1iunmju" name="Меняем статус заявки на изменение счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+исполнена.+SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0sr7t8h</bpmn:incoming><bpmn:incoming>SequenceFlow_0woa324</bpmn:incoming><bpmn:outgoing>SequenceFlow_1gzl1jq</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1vs94l2" default="Flow_0nsps3i"><bpmn:incoming>Flow_1ka7nqx</bpmn:incoming><bpmn:outgoing>SequenceFlow_0uh6bys</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0jej3oi</bpmn:outgoing><bpmn:outgoing>Flow_0nsps3i</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id="CallActivity_0tgvuh9" name="Генерируем печатные формы" calledElement="AccountOrderGeneration"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>Flow_09bp6cn</bpmn:incoming><bpmn:incoming>Flow_1eo8jsh</bpmn:incoming><bpmn:outgoing>Flow_0407xt8</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_159fqlp" name="Меняем статус заявки SWIFT принят"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0uh6bys</bpmn:incoming><bpmn:outgoing>Flow_14bt3y9</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0w9yax1" name="Меняем статус заявки SWIFT принят для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_14bt3y9</bpmn:incoming><bpmn:outgoing>Flow_0085ktm</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1epzigk" name="Меняем статус заявки SWIFT исполнен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0jej3oi</bpmn:incoming><bpmn:outgoing>Flow_0fwrb8l</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1m9qvn9" name="Меняем статус заявки SWIFT отправлен для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1nrukf5</bpmn:incoming><bpmn:outgoing>SequenceFlow_1iplsbn</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1ghvzpn" name="Меняем статус заявки SWIFT отправлен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1iplsbn</bpmn:incoming><bpmn:outgoing>SequenceFlow_1rveg4k</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0497mbc" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_11v9opl</bpmn:incoming><bpmn:outgoing>SequenceFlow_0q2rt61</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0sosz0f" name="Генерируем номер счета и договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/sequence/next/Account?default=1028103861</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="accountNumber">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_01m1bnk</bpmn:incoming><bpmn:outgoing>SequenceFlow_11v9opl</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0rjcy4m" name="Определяем тип свифта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_swift_type?incrementVersion=true&amp;value=100</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ycauxm</bpmn:incoming><bpmn:outgoing>SequenceFlow_1yk13ej</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0lqpr0m" name="Определяем тип свифта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_swift_type?incrementVersion=true&amp;value=100</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_102hl25</bpmn:incoming><bpmn:outgoing>SequenceFlow_0r6vokm</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1vy2vhv" name="Определяем тип свифта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_swift_type?incrementVersion=true&amp;value=400</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_13kgz07</bpmn:incoming><bpmn:outgoing>SequenceFlow_11oom7s</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_02oo1t0" name="Меняем статус заявки на изменение счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+исполнена.+SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1lks3ir</bpmn:incoming><bpmn:outgoing>SequenceFlow_13jjfea</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1qwn44t" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Проверка клиента" + " " + ShortName + " " + "в AML")
.prop("text","Внимание! Ошибка при проверке клиента" + " " + ShortName + " " + "по спискам AML. Проверка клиента в АМL не доступна")
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1bpu9oo</bpmn:incoming><bpmn:outgoing>SequenceFlow_06110tr</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1btvz0p" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Проверка клиента" + " " + ShortName + " " + "в AML")
.prop("text","Клиент" + " " + ShortName + " " + "не прошел проверку по спискам AML. Все заявки на имя клиента и операции будут заблокированы.")
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0aectvq</bpmn:incoming><bpmn:incoming>SequenceFlow_0rk0yud</bpmn:incoming><bpmn:outgoing>SequenceFlow_1d1uce7</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0jq9ny3" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Открытие БС " + ShortName)
.prop("text","Внимание! БС № " + accountNumber + " на имя " + ShortName + "успешно открыт в ЦД, Договор № " + agreementNumber + " от " + regDate + "успешно зарегистрирован")
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0yme9g5</bpmn:incoming><bpmn:outgoing>SequenceFlow_0hjx4vz</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0mrpour" name="Отправляем уведомление клиенту"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email",mail)
.prop("subject","Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("text","Уважаемый клиент, настоящим АО «Halyk Finance» информирует об открытии на Ваше имя брокерского счета №" + " " + accountNumber + " " + "в рамках Договора брокерского обслуживания №" + " " + agreementNumber + " " + "от" + " " + regDate + ". Условия Договора и контактные данные доступны на сайте AO «Halyk Finance» https://halykfinance.kz/brokerskoe-obsluzhivanie/?lang=ru")
.prop("attachments", [generated])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0hjx4vz</bpmn:incoming><bpmn:outgoing>SequenceFlow_0q0dy0a</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0h19rze" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Отправка уведомления об открытии БС" + accountNumber + " " + "на имя" + " " + ShortName)
.prop("text","Внимание! Уведомление об открытии БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + " " + "на e-mail:" + mail + " " + "успешно отправлено.")
.prop("attachments", [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_195gupe</bpmn:incoming><bpmn:outgoing>SequenceFlow_0po1hut</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_00u9tvz" default="SequenceFlow_1qj70dm"><bpmn:incoming>SequenceFlow_0q0dy0a</bpmn:incoming><bpmn:outgoing>SequenceFlow_195gupe</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1qj70dm</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_1ixc6if" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Отправка уведомления об открытии БС № " + accountNumber + " " + "на имя ShortName")
.prop("text","Внимание! Ошибка при отправке уведомления об открытии № " + accountNumber + " на имя ShortName на e-mail:mail. Уведомление не отправлено по причине errorCode")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1qj70dm</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ki91xt</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_06zjr5t" name="Создаем запись в журнале почтовых уведомлений"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType", "Notification")
.prop("hlk_email", mail ? mail : S('{"x":null}').prop("x"))
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_mail_theme" , "Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("hlk_mail_status" , "Успешно отправлено")
.prop("hlk_mail_date" , acceptDate)
.prop("hlk_counterparty_type","0")
.prop("hlk_document", S("{}")
.prop("name" , generated)
.prop("reference" , generated)
.prop("_class","egar.ezdoc.model.entity.attribute.FileReference"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0po1hut</bpmn:incoming><bpmn:outgoing>SequenceFlow_0hv8s5a</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1qubd9z" name="Создаем запись в журнале почтовых уведомлений"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "Notification")
.prop("hlk_email" , mail ? mail : S('{"x":null}').prop("x"))
.prop("hlk_client_app" , ShortNameCurrentCtpt)
.prop("hlk_mail_theme" , "Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("hlk_mail_status" , "Ошибка отправки." + " " + errorCode)
.prop("hlk_mail_date" , acceptDate)
.prop("hlk_counterparty_type","0")
.prop("hlk_document", S("{}")
.prop("name" , generated)
.prop("reference" , generated)
.prop("_class","egar.ezdoc.model.entity.attribute.FileReference"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1ki91xt</bpmn:incoming><bpmn:outgoing>SequenceFlow_1lzik3x</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0afg7as" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Открытие БС " + ShortName)
.prop("text","Внимание! БС № " + accountNumber + " на имя " + ShortName + "успешно открыт в ЦД, Договор № " + agreementNumber + " от " + regDate + "успешно зарегистрирован")
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0407xt8</bpmn:incoming><bpmn:outgoing>Flow_1atgnjj</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0uini6o" name="Отправляем уведомление клиенту"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email",mail)
.prop("subject","Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("text","Уважаемый клиент, настоящим АО «Halyk Finance» информирует об открытии на Ваше имя брокерского счета №" + " " + accountNumber + " " + "в рамках Договора брокерского обслуживания №" + " " + agreementNumber + " " + "от" + " " + regDate + ". Условия Договора и контактные данные доступны на сайте AO «Halyk Finance» https://halykfinance.kz/brokerskoe-obsluzhivanie/?lang=ru")
.prop("attachments", [generated])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1atgnjj</bpmn:incoming><bpmn:outgoing>SequenceFlow_0slwway</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1hty6rx" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Отправка уведомления об открытии БС" + accountNumber + " " + "на имя" + " " + ShortName)
.prop("text","Внимание! Уведомление об открытии БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + " " + "на e-mail:" + mail + " " + "успешно отправлено.")
.prop("attachments", [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_18w7o6w</bpmn:incoming><bpmn:outgoing>SequenceFlow_0cxppv9</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0toz2fl" default="SequenceFlow_14w1b7j"><bpmn:incoming>SequenceFlow_0slwway</bpmn:incoming><bpmn:outgoing>SequenceFlow_18w7o6w</bpmn:outgoing><bpmn:outgoing>SequenceFlow_14w1b7j</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0m8xtvd" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Отправка уведомления об открытии БС № " + accountNumber + " " + "на имя ShortName")
.prop("text","Внимание! Ошибка при отправке уведомления об открытии № " + accountNumber + " на имя ShortName на e-mail:" + mail +". Уведомление не отправлено по причине errorCode")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_14w1b7j</bpmn:incoming><bpmn:outgoing>SequenceFlow_1vtg5r8</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_127q0ho" name="Создаем запись в журнале почтовых уведомлений"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType", "Notification")
.prop("hlk_email", mail ? mail : S('{"x":null}').prop("x"))
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_mail_theme" , "Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("hlk_mail_status" , "Успешно отправлено")
.prop("hlk_mail_date" , acceptDate)
.prop("hlk_counterparty_type","0")
.prop("hlk_document", S("{}")
.prop("name" , generated)
.prop("reference" , generated)
.prop("_class","egar.ezdoc.model.entity.attribute.FileReference"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0cxppv9</bpmn:incoming><bpmn:outgoing>SequenceFlow_0sr7t8h</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0fqx1ma" name="Создаем запись в журнале почтовых уведомлений"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "Notification")
.prop("hlk_email" , mail ? mail : S('{"x":null}').prop("x"))
.prop("hlk_client_app" , ShortNameCurrentCtpt)
.prop("hlk_mail_theme" , "Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("hlk_mail_status" , "Ошибка отправки." + " " + errorCode)
.prop("hlk_mail_date" , acceptDate)
.prop("hlk_counterparty_type","0")
.prop("hlk_document", S("{}")
.prop("name" , generated)
.prop("reference" , generated)
.prop("_class","egar.ezdoc.model.entity.attribute.FileReference"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1vtg5r8</bpmn:incoming><bpmn:outgoing>SequenceFlow_0woa324</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="ScriptTask_13974fr" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="acceptDate"><bpmn:incoming>SequenceFlow_1plz5cl</bpmn:incoming><bpmn:outgoing>SequenceFlow_10hkkia</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '')</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_02lgwfl" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="acceptDate"><bpmn:incoming>Flow_0fwrb8l</bpmn:incoming><bpmn:outgoing>Flow_0t13ifg</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '').substring(0, 10)</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="ServiceTask_0041wer" name="Достаем primaryId заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId1"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0a406to</bpmn:incoming><bpmn:incoming>Flow_17tw546</bpmn:incoming><bpmn:incoming>Flow_080u4ii</bpmn:incoming><bpmn:outgoing>SequenceFlow_1483336</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_186hbfa" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Изменение реквизитов БС" + " " + ShortName)
.prop("text","Внимание! Ошибка при изменении реквизитов БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + ".  Изменение реквизитов не исполнено в ЦД по причине, ошибка SWIFT.")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1va62rh</bpmn:incoming><bpmn:outgoing>SequenceFlow_0tcjpsd</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1r6swq5" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Изменение реквизитов БС" + " " + ShortName)
.prop("text","Внимание! Ошибка при изменении реквизитов БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + ".  Изменение реквизитов не исполнено в ЦД по причине, ошибка SWIFT.")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_02l4l5m</bpmn:incoming><bpmn:outgoing>SequenceFlow_10c9fw2</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_00cci2d" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Изменение реквизитов БС ShortName")
.prop("text","Внимание! Изменение реквизитов БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + " " + "успешно исполнено ЦД.")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_02ow8zx</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gpeqj7</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1bj2nmc" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_10c9fw2</bpmn:incoming><bpmn:outgoing>SequenceFlow_135rl0g</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1382nh1" default="SequenceFlow_1sbmhdu"><bpmn:incoming>SequenceFlow_135rl0g</bpmn:incoming><bpmn:outgoing>SequenceFlow_1sbmhdu</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1an08kv</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0628vrr" name="Устанавливаем признак вернувшейся заявки" camunda:expression="true" camunda:resultVariable="cdRejected"><bpmn:incoming>SequenceFlow_1sbmhdu</bpmn:incoming><bpmn:outgoing>SequenceFlow_0sfdt4j</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0pspie2" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1an08kv</bpmn:incoming><bpmn:outgoing>SequenceFlow_0t1jj43</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_007u1gh" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1jgxlvg</bpmn:incoming><bpmn:incoming>Flow_0nsps3i</bpmn:incoming><bpmn:outgoing>SequenceFlow_0itot1l</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0j5s8mi"><bpmn:incoming>SequenceFlow_11jd64i</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_018t14x" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0itot1l</bpmn:incoming><bpmn:outgoing>SequenceFlow_1k4taah</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1uwrmam" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Изменение реквизитов БС" + " " + ShortName)
.prop("text","Внимание! Ошибка при изменении реквизитов БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + ".  Изменение реквизитов не исполнено в ЦД по причине, ошибка SWIFT.")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1k4taah</bpmn:incoming><bpmn:outgoing>SequenceFlow_0frmbtk</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1jv71xq" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0frmbtk</bpmn:incoming><bpmn:outgoing>SequenceFlow_1nj5g9r</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0o68oql" default="SequenceFlow_187ivx3"><bpmn:incoming>SequenceFlow_1nj5g9r</bpmn:incoming><bpmn:outgoing>SequenceFlow_187ivx3</bpmn:outgoing><bpmn:outgoing>SequenceFlow_02vp0hl</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_1ua7ofj" name="Устанавливаем признак вернувшейся заявки" camunda:expression="true" camunda:resultVariable="cdRejected"><bpmn:incoming>SequenceFlow_187ivx3</bpmn:incoming><bpmn:outgoing>SequenceFlow_16ewd4k</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0xf6wph" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_02vp0hl</bpmn:incoming><bpmn:outgoing>SequenceFlow_11jd64i</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1byzu5f" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0tcjpsd</bpmn:incoming><bpmn:outgoing>SequenceFlow_0wmx4s1</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0fmvgqs" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0wmx4s1</bpmn:incoming><bpmn:outgoing>SequenceFlow_19gqalp</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0x28kzl" default="SequenceFlow_144xysp"><bpmn:incoming>SequenceFlow_19gqalp</bpmn:incoming><bpmn:outgoing>SequenceFlow_0aqyzmr</bpmn:outgoing><bpmn:outgoing>SequenceFlow_144xysp</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0nqa0fi" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0aqyzmr</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ffsn7v</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0cc64wc" name="Устанавливаем признак вернувшейся заявки" camunda:expression="true" camunda:resultVariable="cdRejected"><bpmn:incoming>SequenceFlow_144xysp</bpmn:incoming><bpmn:incoming>Flow_170go70</bpmn:incoming><bpmn:outgoing>SequenceFlow_0971ma8</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0g3wmk3" default="SequenceFlow_0n3zlkc"><bpmn:incoming>SequenceFlow_0cslu6t</bpmn:incoming><bpmn:outgoing>SequenceFlow_0n3zlkc</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0hs2jk2</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id="ExclusiveGateway_01fkg5o" default="SequenceFlow_1cuicjo"><bpmn:incoming>SequenceFlow_0j8cera</bpmn:incoming><bpmn:outgoing>SequenceFlow_1cuicjo</bpmn:outgoing><bpmn:outgoing>SequenceFlow_08gw4bf</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id="ExclusiveGateway_05fivye" default="SequenceFlow_1hhyhg7"><bpmn:incoming>SequenceFlow_1ufelnc</bpmn:incoming><bpmn:incoming>SequenceFlow_0hs2jk2</bpmn:incoming><bpmn:incoming>Flow_1aej8b1</bpmn:incoming><bpmn:outgoing>SequenceFlow_1hhyhg7</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id="ExclusiveGateway_0d7ydpb" default="SequenceFlow_1mh3h6s"><bpmn:incoming>SequenceFlow_0q2rt61</bpmn:incoming><bpmn:incoming>SequenceFlow_08gw4bf</bpmn:incoming><bpmn:incoming>Flow_0gdqtl4</bpmn:incoming><bpmn:outgoing>SequenceFlow_1mh3h6s</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="ScriptTask_0rajm3c" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_0huwcrn</bpmn:incoming><bpmn:outgoing>SequenceFlow_00udm12</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_1abfl25" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1ban0iv</bpmn:incoming><bpmn:outgoing>SequenceFlow_0jpyvsh</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_16qcrw7" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_06c4fdg</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ycauxm</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_0wv4vsd" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1hcsu9e</bpmn:incoming><bpmn:outgoing>SequenceFlow_05bzce9</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_0n966p9" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_0bowxx1</bpmn:incoming><bpmn:outgoing>SequenceFlow_102hl25</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_1mhy8xh" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1nwdp4m</bpmn:incoming><bpmn:outgoing>SequenceFlow_06cl03u</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_1jsd2av" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_09dz3xn</bpmn:incoming><bpmn:outgoing>SequenceFlow_13kgz07</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_0jj9m3b" name="Технический блок: Создаем буфер" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1483336</bpmn:incoming><bpmn:outgoing>Flow_1nmyzom</bpmn:outgoing><bpmn:script>execution.setVariable('instanceIdCopy', instanceId);
execution.setVariable('templateIdCopy', templateId)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_1p2k2u6" sourceRef="ServiceTask_0jn0qce" targetRef="Activity_1dedbcb" /><bpmn:sequenceFlow id="SequenceFlow_10l9nx1" sourceRef="ServiceTask_0f7exdu" targetRef="ExclusiveGateway_1ghlpx0" /><bpmn:sequenceFlow id="SequenceFlow_0cslu6t" sourceRef="ExclusiveGateway_1ghlpx0" targetRef="ExclusiveGateway_0g3wmk3"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == "false" &amp;&amp; firstStep == "false"&amp;&amp; contractFound == "false"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0ubke0x" sourceRef="ExclusiveGateway_1ghlpx0" targetRef="ServiceTask_03tkp04"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0j8cera" sourceRef="ExclusiveGateway_1ghlpx0" targetRef="ExclusiveGateway_01fkg5o"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == "false" &amp;&amp; firstStep == "true" &amp;&amp; contractFound == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0xkorq2" sourceRef="ServiceTask_1wugxpi" targetRef="ServiceTask_0ffecwb" /><bpmn:sequenceFlow id="SequenceFlow_0w9j7s4" sourceRef="ServiceTask_0ffecwb" targetRef="EndEvent_0593pa6" /><bpmn:sequenceFlow id="SequenceFlow_1d1uce7" sourceRef="ServiceTask_1btvz0p" targetRef="ServiceTask_1wugxpi" /><bpmn:sequenceFlow id="SequenceFlow_0raes09" sourceRef="ServiceTask_022e2bq" targetRef="UserTask_0nhv511" /><bpmn:sequenceFlow id="SequenceFlow_0ogy6wn" sourceRef="UserTask_0nhv511" targetRef="ServiceTask_0iz7ruh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Accept'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0aectvq" sourceRef="UserTask_0nhv511" targetRef="ServiceTask_1btvz0p"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Cancel'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_130i33t" sourceRef="ServiceTask_1s4nfqo" targetRef="ExclusiveGateway_1kcxukp" /><bpmn:sequenceFlow id="SequenceFlow_14eklib" sourceRef="ExclusiveGateway_1kcxukp" targetRef="Activity_1ha2ojj"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == '0'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1bpu9oo" sourceRef="ExclusiveGateway_1kcxukp" targetRef="ServiceTask_1qwn44t"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == '3'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1p7h51x" sourceRef="ExclusiveGateway_1kcxukp" targetRef="ServiceTask_1foerw9"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == '1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0cdmj9c" sourceRef="ExclusiveGateway_1kcxukp" targetRef="Event_05dv9lv" /><bpmn:sequenceFlow id="SequenceFlow_0rk0yud" sourceRef="ExclusiveGateway_1kcxukp" targetRef="ServiceTask_1btvz0p"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == '2'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0g9bu5c" sourceRef="ServiceTask_1foerw9" targetRef="Event_05dv9lv" /><bpmn:sequenceFlow id="SequenceFlow_0l62bgk" sourceRef="Event_05dv9lv" targetRef="ServiceTask_1s4nfqo" /><bpmn:sequenceFlow id="SequenceFlow_1sd5tdu" sourceRef="ServiceTask_0iz7ruh" targetRef="Activity_1prxrfa" /><bpmn:sequenceFlow id="SequenceFlow_0ao2gk8" sourceRef="ExclusiveGateway_007x07m" targetRef="ServiceTask_0195miy"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${step == "false"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0qxrpia" sourceRef="ExclusiveGateway_007x07m" targetRef="Activity_002fu7l"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${step == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1be9ylf" sourceRef="ServiceTask_0195miy" targetRef="ServiceTask_179fas1" /><bpmn:sequenceFlow id="SequenceFlow_1vnvh3c" sourceRef="ServiceTask_179fas1" targetRef="EndEvent_1u0daxp" /><bpmn:sequenceFlow id="SequenceFlow_06110tr" sourceRef="ServiceTask_1qwn44t" targetRef="ServiceTask_022e2bq" /><bpmn:sequenceFlow id="SequenceFlow_0gk71vd" sourceRef="ParallelGateway_1v3gid1" targetRef="ServiceTask_0gihzug" /><bpmn:sequenceFlow id="SequenceFlow_1njb2ei" sourceRef="ServiceTask_0gihzug" targetRef="ParallelGateway_0t1ztuj" /><bpmn:sequenceFlow id="SequenceFlow_1hhyhg7" sourceRef="ExclusiveGateway_05fivye" targetRef="ParallelGateway_1v3gid1" /><bpmn:sequenceFlow id="SequenceFlow_1lhk357" sourceRef="ParallelGateway_1v3gid1" targetRef="ReceiveTask_105obdg" /><bpmn:sequenceFlow id="SequenceFlow_0gxmozi" sourceRef="ReceiveTask_105obdg" targetRef="ParallelGateway_0t1ztuj" /><bpmn:sequenceFlow id="SequenceFlow_0huwcrn" sourceRef="ParallelGateway_0t1ztuj" targetRef="ScriptTask_0rajm3c" /><bpmn:sequenceFlow id="SequenceFlow_00udm12" sourceRef="ScriptTask_0rajm3c" targetRef="ParallelGateway_1ncaemh" /><bpmn:sequenceFlow id="SequenceFlow_0g2fv0w" sourceRef="ParallelGateway_1ncaemh" targetRef="ReceiveTask_0h9xk1m" /><bpmn:sequenceFlow id="SequenceFlow_1qam3wp" sourceRef="ParallelGateway_1ncaemh" targetRef="ServiceTask_0c1fql2" /><bpmn:sequenceFlow id="SequenceFlow_0diqsci" sourceRef="ReceiveTask_0h9xk1m" targetRef="ParallelGateway_01us4uq" /><bpmn:sequenceFlow id="SequenceFlow_1m0l483" sourceRef="ServiceTask_0c1fql2" targetRef="ParallelGateway_01us4uq" /><bpmn:sequenceFlow id="SequenceFlow_1ban0iv" sourceRef="ParallelGateway_01us4uq" targetRef="ScriptTask_1abfl25" /><bpmn:sequenceFlow id="SequenceFlow_0n3zlkc" sourceRef="ExclusiveGateway_0g3wmk3" targetRef="Gateway_12aqfvb" /><bpmn:sequenceFlow id="SequenceFlow_0qd2lys" sourceRef="ServiceTask_01x8tan" targetRef="ServiceTask_1105tmd" /><bpmn:sequenceFlow id="SequenceFlow_0jpyvsh" sourceRef="ScriptTask_1abfl25" targetRef="ParallelGateway_0doe3eo" /><bpmn:sequenceFlow id="SequenceFlow_1f2186a" sourceRef="ParallelGateway_0doe3eo" targetRef="CallActivity_0zkk865" /><bpmn:sequenceFlow id="SequenceFlow_1c3d0u7" sourceRef="ParallelGateway_0doe3eo" targetRef="CallActivity_0fsr2ue" /><bpmn:sequenceFlow id="SequenceFlow_1qzan6v" sourceRef="CallActivity_0zkk865" targetRef="ParallelGateway_12l13o5" /><bpmn:sequenceFlow id="SequenceFlow_1nqd8kx" sourceRef="CallActivity_0fsr2ue" targetRef="ParallelGateway_12l13o5" /><bpmn:sequenceFlow id="SequenceFlow_06c4fdg" sourceRef="ParallelGateway_12l13o5" targetRef="ScriptTask_16qcrw7" /><bpmn:sequenceFlow id="SequenceFlow_1yk13ej" sourceRef="ServiceTask_0rjcy4m" targetRef="CallActivity_16o5wv4" /><bpmn:sequenceFlow id="SequenceFlow_1o5lyl3" sourceRef="CallActivity_16o5wv4" targetRef="ServiceTask_0vajfaf" /><bpmn:sequenceFlow id="SequenceFlow_0t516rr" sourceRef="ServiceTask_10v6pts" targetRef="ServiceTask_1ovulyq" /><bpmn:sequenceFlow id="SequenceFlow_0g3gwsr" sourceRef="ServiceTask_1ovulyq" targetRef="ServiceTask_0sonreh" /><bpmn:sequenceFlow id="SequenceFlow_1i4p0dm" sourceRef="ServiceTask_0sonreh" targetRef="Activity_13x6w29" /><bpmn:sequenceFlow id="SequenceFlow_0zjjocb" sourceRef="ExclusiveGateway_1f576zg" targetRef="ServiceTask_12siwlc" /><bpmn:sequenceFlow id="SequenceFlow_1mfp6v7" sourceRef="ExclusiveGateway_1f576zg" targetRef="ServiceTask_028jmwq"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "00"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1m3xmdj" sourceRef="ServiceTask_12siwlc" targetRef="ServiceTask_04vvyjs" /><bpmn:sequenceFlow id="SequenceFlow_0ffsn7v" sourceRef="ServiceTask_0nqa0fi" targetRef="EndEvent_18n1lla" /><bpmn:sequenceFlow id="SequenceFlow_17d0dvc" sourceRef="ExclusiveGateway_03ntkil" targetRef="CallActivity_030vbed"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${difference &lt;= 3}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_18j19rd" sourceRef="ServiceTask_0avc6k1" targetRef="CallActivity_030vbed" /><bpmn:sequenceFlow id="SequenceFlow_0v1bu3s" sourceRef="ServiceTask_04vvyjs" targetRef="ServiceTask_077eaan" /><bpmn:sequenceFlow id="SequenceFlow_1va62rh" sourceRef="ServiceTask_077eaan" targetRef="ServiceTask_186hbfa" /><bpmn:sequenceFlow id="SequenceFlow_0ibevp2" sourceRef="ServiceTask_028jmwq" targetRef="ScriptTask_046knmy" /><bpmn:sequenceFlow id="SequenceFlow_0ib16hc" sourceRef="ScriptTask_046knmy" targetRef="ScriptTask_1f3stxe" /><bpmn:sequenceFlow id="SequenceFlow_0b2m7qx" sourceRef="ScriptTask_1f3stxe" targetRef="ExclusiveGateway_03ntkil" /><bpmn:sequenceFlow id="SequenceFlow_1a7b41l" sourceRef="ExclusiveGateway_03ntkil" targetRef="ServiceTask_0avc6k1" /><bpmn:sequenceFlow id="SequenceFlow_0gj2dh2" sourceRef="ServiceTask_1105tmd" targetRef="ServiceTask_0unibnb" /><bpmn:sequenceFlow id="SequenceFlow_1ufelnc" sourceRef="ServiceTask_0unibnb" targetRef="ExclusiveGateway_05fivye" /><bpmn:sequenceFlow id="SequenceFlow_0pojv0h" sourceRef="ServiceTask_0vajfaf" targetRef="ServiceTask_10v6pts" /><bpmn:sequenceFlow id="SequenceFlow_16qox74" sourceRef="ServiceTask_03tkp04" targetRef="ParallelGateway_0tkedi1" /><bpmn:sequenceFlow id="SequenceFlow_0p6lvp6" sourceRef="ParallelGateway_0tkedi1" targetRef="ServiceTask_129xz6v" /><bpmn:sequenceFlow id="SequenceFlow_1ynqo2p" sourceRef="ServiceTask_129xz6v" targetRef="ParallelGateway_1q5xb91" /><bpmn:sequenceFlow id="SequenceFlow_0a4kh8i" sourceRef="ParallelGateway_0tkedi1" targetRef="ReceiveTask_08hoovy" /><bpmn:sequenceFlow id="SequenceFlow_0rgnk9b" sourceRef="ReceiveTask_08hoovy" targetRef="ParallelGateway_1q5xb91" /><bpmn:sequenceFlow id="SequenceFlow_1nwdp4m" sourceRef="ParallelGateway_1q5xb91" targetRef="ScriptTask_1mhy8xh" /><bpmn:sequenceFlow id="SequenceFlow_06cl03u" sourceRef="ScriptTask_1mhy8xh" targetRef="CallActivity_1k78og7" /><bpmn:sequenceFlow id="SequenceFlow_09dz3xn" sourceRef="CallActivity_1k78og7" targetRef="ScriptTask_1jsd2av" /><bpmn:sequenceFlow id="SequenceFlow_12cundm" sourceRef="ServiceTask_0wr3nc8" targetRef="Activity_0cy1t3d" /><bpmn:sequenceFlow id="SequenceFlow_13jjfea" sourceRef="ServiceTask_02oo1t0" targetRef="ServiceTask_1qqgwfi" /><bpmn:sequenceFlow id="SequenceFlow_02ow8zx" sourceRef="ServiceTask_1qqgwfi" targetRef="ServiceTask_00cci2d" /><bpmn:sequenceFlow id="SequenceFlow_0gpeqj7" sourceRef="ServiceTask_00cci2d" targetRef="ServiceTask_0wr3nc8" /><bpmn:sequenceFlow id="SequenceFlow_11oom7s" sourceRef="ServiceTask_1vy2vhv" targetRef="CallActivity_1x2qk0q" /><bpmn:sequenceFlow id="SequenceFlow_1iyic6y" sourceRef="CallActivity_1x2qk0q" targetRef="ServiceTask_041620r" /><bpmn:sequenceFlow id="SequenceFlow_0ij8wmu" sourceRef="ServiceTask_0xppbf1" targetRef="ServiceTask_157g81z" /><bpmn:sequenceFlow id="SequenceFlow_14h6lyg" sourceRef="ServiceTask_157g81z" targetRef="ServiceTask_0edzwu0" /><bpmn:sequenceFlow id="SequenceFlow_0wqyj8r" sourceRef="ServiceTask_0edzwu0" targetRef="Activity_0hvi8pc" /><bpmn:sequenceFlow id="SequenceFlow_0lid9y4" sourceRef="ServiceTask_1nxdual" targetRef="ServiceTask_1f41crz" /><bpmn:sequenceFlow id="SequenceFlow_1wnydh5" sourceRef="ServiceTask_1ug3flh" targetRef="ServiceTask_1pzccdd" /><bpmn:sequenceFlow id="SequenceFlow_0t1jj43" sourceRef="ServiceTask_0pspie2" targetRef="EndEvent_0onftyb" /><bpmn:sequenceFlow id="SequenceFlow_02l4l5m" sourceRef="ServiceTask_1pzccdd" targetRef="ServiceTask_1r6swq5" /><bpmn:sequenceFlow id="SequenceFlow_1lks3ir" sourceRef="ServiceTask_0jki94m" targetRef="ServiceTask_02oo1t0" /><bpmn:sequenceFlow id="SequenceFlow_1j9yl12" sourceRef="ServiceTask_041620r" targetRef="ServiceTask_0xppbf1" /><bpmn:sequenceFlow id="SequenceFlow_0dgjz7b" sourceRef="ParallelGateway_1ayxx8r" targetRef="ServiceTask_0a33clu" /><bpmn:sequenceFlow id="SequenceFlow_1ycdydd" sourceRef="ServiceTask_0a33clu" targetRef="ParallelGateway_09z9ldx" /><bpmn:sequenceFlow id="SequenceFlow_1mh3h6s" sourceRef="ExclusiveGateway_0d7ydpb" targetRef="ParallelGateway_1ayxx8r" /><bpmn:sequenceFlow id="SequenceFlow_0xs6gmw" sourceRef="ParallelGateway_1ayxx8r" targetRef="ReceiveTask_01jk451" /><bpmn:sequenceFlow id="SequenceFlow_07iv6va" sourceRef="ReceiveTask_01jk451" targetRef="ParallelGateway_09z9ldx" /><bpmn:sequenceFlow id="SequenceFlow_1hcsu9e" sourceRef="ParallelGateway_09z9ldx" targetRef="ScriptTask_0wv4vsd" /><bpmn:sequenceFlow id="SequenceFlow_05bzce9" sourceRef="ScriptTask_0wv4vsd" targetRef="CallActivity_0kiycw5" /><bpmn:sequenceFlow id="SequenceFlow_0bowxx1" sourceRef="CallActivity_0kiycw5" targetRef="ScriptTask_0n966p9" /><bpmn:sequenceFlow id="SequenceFlow_1gzl1jq" sourceRef="ServiceTask_1iunmju" targetRef="ServiceTask_06p6c10" /><bpmn:sequenceFlow id="SequenceFlow_1plz5cl" sourceRef="ServiceTask_06p6c10" targetRef="ScriptTask_13974fr" /><bpmn:sequenceFlow id="SequenceFlow_10hkkia" sourceRef="ScriptTask_13974fr" targetRef="ServiceTask_13jdxdi" /><bpmn:sequenceFlow id="SequenceFlow_0r6vokm" sourceRef="ServiceTask_0lqpr0m" targetRef="CallActivity_04acqqc" /><bpmn:sequenceFlow id="SequenceFlow_1nrukf5" sourceRef="CallActivity_04acqqc" targetRef="ServiceTask_1m9qvn9" /><bpmn:sequenceFlow id="SequenceFlow_1rveg4k" sourceRef="ServiceTask_1ghvzpn" targetRef="ServiceTask_0fm117s" /><bpmn:sequenceFlow id="SequenceFlow_1dyxiyo" sourceRef="ServiceTask_0fm117s" targetRef="ServiceTask_0knavke" /><bpmn:sequenceFlow id="SequenceFlow_0fb8ogm" sourceRef="ServiceTask_0knavke" targetRef="Activity_1v8a5d4" /><bpmn:sequenceFlow id="SequenceFlow_0sr7t8h" sourceRef="ServiceTask_127q0ho" targetRef="ServiceTask_1iunmju" /><bpmn:sequenceFlow id="SequenceFlow_0woa324" sourceRef="ServiceTask_0fqx1ma" targetRef="ServiceTask_1iunmju" /><bpmn:sequenceFlow id="SequenceFlow_0uh6bys" sourceRef="ExclusiveGateway_1vs94l2" targetRef="ServiceTask_159fqlp"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "30"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0jej3oi" sourceRef="ExclusiveGateway_1vs94l2" targetRef="ServiceTask_1epzigk"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "00"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1iplsbn" sourceRef="ServiceTask_1m9qvn9" targetRef="ServiceTask_1ghvzpn" /><bpmn:sequenceFlow id="SequenceFlow_11v9opl" sourceRef="ServiceTask_0sosz0f" targetRef="ServiceTask_0497mbc" /><bpmn:sequenceFlow id="SequenceFlow_0q2rt61" sourceRef="ServiceTask_0497mbc" targetRef="ExclusiveGateway_0d7ydpb" /><bpmn:sequenceFlow id="SequenceFlow_1cuicjo" sourceRef="ExclusiveGateway_01fkg5o" targetRef="Gateway_1aac5i6" /><bpmn:sequenceFlow id="SequenceFlow_0ycauxm" sourceRef="ScriptTask_16qcrw7" targetRef="ServiceTask_0rjcy4m" /><bpmn:sequenceFlow id="SequenceFlow_102hl25" sourceRef="ScriptTask_0n966p9" targetRef="ServiceTask_0lqpr0m" /><bpmn:sequenceFlow id="SequenceFlow_13kgz07" sourceRef="ScriptTask_1jsd2av" targetRef="ServiceTask_1vy2vhv" /><bpmn:sequenceFlow id="SequenceFlow_0hjx4vz" sourceRef="ServiceTask_0jq9ny3" targetRef="ServiceTask_0mrpour" /><bpmn:sequenceFlow id="SequenceFlow_0q0dy0a" sourceRef="ServiceTask_0mrpour" targetRef="ExclusiveGateway_00u9tvz" /><bpmn:sequenceFlow id="SequenceFlow_195gupe" sourceRef="ExclusiveGateway_00u9tvz" targetRef="ServiceTask_0h19rze"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${errorCode == ""}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0po1hut" sourceRef="ServiceTask_0h19rze" targetRef="ServiceTask_06zjr5t" /><bpmn:sequenceFlow id="SequenceFlow_1qj70dm" sourceRef="ExclusiveGateway_00u9tvz" targetRef="ServiceTask_1ixc6if" /><bpmn:sequenceFlow id="SequenceFlow_1ki91xt" sourceRef="ServiceTask_1ixc6if" targetRef="ServiceTask_1qubd9z" /><bpmn:sequenceFlow id="SequenceFlow_0slwway" sourceRef="ServiceTask_0uini6o" targetRef="ExclusiveGateway_0toz2fl" /><bpmn:sequenceFlow id="SequenceFlow_18w7o6w" sourceRef="ExclusiveGateway_0toz2fl" targetRef="ServiceTask_1hty6rx"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${errorCode == ""}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0cxppv9" sourceRef="ServiceTask_1hty6rx" targetRef="ServiceTask_127q0ho" /><bpmn:sequenceFlow id="SequenceFlow_14w1b7j" sourceRef="ExclusiveGateway_0toz2fl" targetRef="ServiceTask_0m8xtvd" /><bpmn:sequenceFlow id="SequenceFlow_1vtg5r8" sourceRef="ServiceTask_0m8xtvd" targetRef="ServiceTask_0fqx1ma" /><bpmn:sequenceFlow id="SequenceFlow_1483336" sourceRef="ServiceTask_0041wer" targetRef="ScriptTask_0jj9m3b" /><bpmn:sequenceFlow id="SequenceFlow_0tcjpsd" sourceRef="ServiceTask_186hbfa" targetRef="ServiceTask_1byzu5f" /><bpmn:sequenceFlow id="SequenceFlow_10c9fw2" sourceRef="ServiceTask_1r6swq5" targetRef="ServiceTask_1bj2nmc" /><bpmn:sequenceFlow id="SequenceFlow_135rl0g" sourceRef="ServiceTask_1bj2nmc" targetRef="ExclusiveGateway_1382nh1" /><bpmn:sequenceFlow id="SequenceFlow_1sbmhdu" sourceRef="ExclusiveGateway_1382nh1" targetRef="ServiceTask_0628vrr" /><bpmn:sequenceFlow id="SequenceFlow_1an08kv" sourceRef="ExclusiveGateway_1382nh1" targetRef="ServiceTask_0pspie2"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${source  == "ТАУ модуль"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0itot1l" sourceRef="ServiceTask_007u1gh" targetRef="ServiceTask_018t14x" /><bpmn:sequenceFlow id="SequenceFlow_11jd64i" sourceRef="ServiceTask_0xf6wph" targetRef="EndEvent_0j5s8mi" /><bpmn:sequenceFlow id="SequenceFlow_1k4taah" sourceRef="ServiceTask_018t14x" targetRef="ServiceTask_1uwrmam" /><bpmn:sequenceFlow id="SequenceFlow_0frmbtk" sourceRef="ServiceTask_1uwrmam" targetRef="ServiceTask_1jv71xq" /><bpmn:sequenceFlow id="SequenceFlow_1nj5g9r" sourceRef="ServiceTask_1jv71xq" targetRef="ExclusiveGateway_0o68oql" /><bpmn:sequenceFlow id="SequenceFlow_187ivx3" sourceRef="ExclusiveGateway_0o68oql" targetRef="ServiceTask_1ua7ofj" /><bpmn:sequenceFlow id="SequenceFlow_02vp0hl" sourceRef="ExclusiveGateway_0o68oql" targetRef="ServiceTask_0xf6wph"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${source  == "ТАУ модуль"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0wmx4s1" sourceRef="ServiceTask_1byzu5f" targetRef="ServiceTask_0fmvgqs" /><bpmn:sequenceFlow id="SequenceFlow_19gqalp" sourceRef="ServiceTask_0fmvgqs" targetRef="ExclusiveGateway_0x28kzl" /><bpmn:sequenceFlow id="SequenceFlow_0aqyzmr" sourceRef="ExclusiveGateway_0x28kzl" targetRef="ServiceTask_0nqa0fi"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${source  == "ТАУ модуль"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_144xysp" sourceRef="ExclusiveGateway_0x28kzl" targetRef="ServiceTask_0cc64wc" /><bpmn:sequenceFlow id="SequenceFlow_0hs2jk2" sourceRef="ExclusiveGateway_0g3wmk3" targetRef="ExclusiveGateway_05fivye"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cdRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_08gw4bf" sourceRef="ExclusiveGateway_01fkg5o" targetRef="ExclusiveGateway_0d7ydpb"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cdRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1aocrxb" sourceRef="ServiceTask_1usvyfk" targetRef="Activity_1tj0hgv" /><bpmn:serviceTask id="ServiceTask_1pr0pg7" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_14jzw5d</bpmn:incoming><bpmn:outgoing>SequenceFlow_0xvabwx</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1bcted2" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1taj1ls</bpmn:incoming><bpmn:outgoing>SequenceFlow_15rvyxl</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0hdu948" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_15rvyxl</bpmn:incoming><bpmn:outgoing>SequenceFlow_05opj57</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0q2129e" name="Меняем статус заявки на регистрацию счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+исполнена.+SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0hv8s5a</bpmn:incoming><bpmn:incoming>SequenceFlow_1lzik3x</bpmn:incoming><bpmn:outgoing>SequenceFlow_01zml2l</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0u3g6n7" name="Меняем статус заявки на регистрацию договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${agreementId}?label=Заявка+исполнена.+Договор+зарегистрирован</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_01zml2l</bpmn:incoming><bpmn:outgoing>SequenceFlow_1taj1ls</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1yl3d5z" name="Достаем ссылку на клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/ShortName</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="ShortName">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_01dbe82</bpmn:incoming><bpmn:outgoing>SequenceFlow_12b96wz</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_105jvf2" name="Открываем пакет счетов" calledElement="AccountPoolCreate"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_05opj57</bpmn:incoming><bpmn:outgoing>SequenceFlow_0yun49p</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_1izmazt" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1hvpbnw</bpmn:incoming><bpmn:outgoing>SequenceFlow_1jn0zmy</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_1lqkifi"><bpmn:incoming>SequenceFlow_1jn0zmy</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_0gt3bvj" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/individual/${referenceId}/setAttribute/hlk_asset_account_open?incrementVersion=false&amp;value=true</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0xvabwx</bpmn:incoming><bpmn:outgoing>SequenceFlow_1gfsrxc</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0xvabwx" sourceRef="ServiceTask_1pr0pg7" targetRef="ServiceTask_0gt3bvj" /><bpmn:sequenceFlow id="SequenceFlow_0yun49p" sourceRef="CallActivity_105jvf2" targetRef="Activity_1o9gkeu" /><bpmn:sequenceFlow id="SequenceFlow_01dbe82" sourceRef="Activity_03duskx" targetRef="ServiceTask_1yl3d5z" /><bpmn:sequenceFlow id="SequenceFlow_1taj1ls" sourceRef="ServiceTask_0u3g6n7" targetRef="ServiceTask_1bcted2" /><bpmn:sequenceFlow id="SequenceFlow_15rvyxl" sourceRef="ServiceTask_1bcted2" targetRef="ServiceTask_0hdu948" /><bpmn:sequenceFlow id="SequenceFlow_05opj57" sourceRef="ServiceTask_0hdu948" targetRef="CallActivity_105jvf2" /><bpmn:sequenceFlow id="SequenceFlow_01zml2l" sourceRef="ServiceTask_0q2129e" targetRef="ServiceTask_0u3g6n7" /><bpmn:sequenceFlow id="SequenceFlow_12b96wz" sourceRef="ServiceTask_1yl3d5z" targetRef="Activity_0ps21s1" /><bpmn:sequenceFlow id="SequenceFlow_1jn0zmy" sourceRef="ServiceTask_1izmazt" targetRef="EndEvent_1lqkifi" /><bpmn:sequenceFlow id="SequenceFlow_1gfsrxc" sourceRef="ServiceTask_0gt3bvj" targetRef="Activity_132nwmo" /><bpmn:sequenceFlow id="SequenceFlow_0hv8s5a" sourceRef="ServiceTask_06zjr5t" targetRef="ServiceTask_0q2129e" /><bpmn:sequenceFlow id="SequenceFlow_1lzik3x" sourceRef="ServiceTask_1qubd9z" targetRef="ServiceTask_0q2129e" /><bpmn:serviceTask id="ServiceTask_00eq9em" name="Статус заявки: Обработка: Клиент выбран"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Клиент+выбран</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0taxpdw</bpmn:incoming><bpmn:outgoing>SequenceFlow_1mri8my</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1mri8my" sourceRef="ServiceTask_00eq9em" targetRef="ServiceTask_1to26wl" /><bpmn:serviceTask id="ServiceTask_00fjffw" name="clientPrimaryId =hlk_client_app" camunda:expression="${hlk_client_app}" camunda:resultVariable="clientPrimaryId"><bpmn:incoming>SequenceFlow_10x5qea</bpmn:incoming><bpmn:outgoing>Flow_0ylvvus</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0gwsykl" name="clientType=ИП" camunda:expression="ИП" camunda:resultVariable="clientType"><bpmn:incoming>Flow_0fz61eg</bpmn:incoming><bpmn:outgoing>SequenceFlow_011ddi9</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_011ddi9" sourceRef="ServiceTask_0gwsykl" targetRef="ServiceTask_06ykya3" /><bpmn:serviceTask id="ServiceTask_0ydva7m" name="Статус заявки &#34;В Обработке: Параметры заполнены&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=В+Обработке:+Параметры+заполнены</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0pf3cqa</bpmn:incoming><bpmn:outgoing>SequenceFlow_0rr35m8</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0rr35m8" sourceRef="ServiceTask_0ydva7m" targetRef="CallActivity_0dsslbk" /><bpmn:callActivity id="CallActivity_00de9v3" name="Подпроцесс проверки ИИН" calledElement="IIN_Unic"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0942sw7</bpmn:incoming><bpmn:outgoing>SequenceFlow_0lkltd0</bpmn:outgoing></bpmn:callActivity><bpmn:exclusiveGateway id="ExclusiveGateway_1na9qph" default="SequenceFlow_0qvpjpx"><bpmn:incoming>SequenceFlow_0lkltd0</bpmn:incoming><bpmn:outgoing>SequenceFlow_0qvpjpx</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1k04xvc</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id="CallActivity_1tttjzw" name="Подпроцесс проверки Номер документа" calledElement="NumberDocument_Unic"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0qvpjpx</bpmn:incoming><bpmn:outgoing>SequenceFlow_1gqje2o</bpmn:outgoing></bpmn:callActivity><bpmn:exclusiveGateway id="ExclusiveGateway_0hiyntx" default="SequenceFlow_1w7c8dl"><bpmn:incoming>SequenceFlow_1gqje2o</bpmn:incoming><bpmn:outgoing>SequenceFlow_1w7c8dl</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1yn5prb</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0lkltd0" sourceRef="CallActivity_00de9v3" targetRef="ExclusiveGateway_1na9qph" /><bpmn:sequenceFlow id="SequenceFlow_0qvpjpx" sourceRef="ExclusiveGateway_1na9qph" targetRef="CallActivity_1tttjzw" /><bpmn:sequenceFlow id="SequenceFlow_1gqje2o" sourceRef="CallActivity_1tttjzw" targetRef="ExclusiveGateway_0hiyntx" /><bpmn:sequenceFlow id="SequenceFlow_1w7c8dl" sourceRef="ExclusiveGateway_0hiyntx" targetRef="ServiceTask_1onrjnn" /><bpmn:sequenceFlow id="SequenceFlow_1k04xvc" sourceRef="ExclusiveGateway_1na9qph" targetRef="Activity_1hlp35x"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Error== '1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1yn5prb" sourceRef="ExclusiveGateway_0hiyntx" targetRef="Activity_1hlp35x"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Error== '1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="ServiceTask_07y1y06" name="Статус заявки: Заполнение: Подтверждение заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Подтверждение+заявки</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_02fz4g9</bpmn:incoming><bpmn:outgoing>SequenceFlow_0mnef61</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0mnef61" sourceRef="ServiceTask_07y1y06" targetRef="UserTask_1rvyhpd" /><bpmn:serviceTask id="ServiceTask_16dta2h" name="Статус заявки: Заполнение: Выбор клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Выбор+клиента</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_035nhek</bpmn:incoming><bpmn:outgoing>SequenceFlow_0fic2pe</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_160bqtq" sourceRef="ServiceTask_15qkykl" targetRef="Activity_1kgk7ei" /><bpmn:sequenceFlow id="SequenceFlow_0fic2pe" sourceRef="ServiceTask_16dta2h" targetRef="UserTask_0t4ul2z" /><bpmn:intermediateCatchEvent id="Event_05dv9lv"><bpmn:incoming>SequenceFlow_0g9bu5c</bpmn:incoming><bpmn:incoming>SequenceFlow_0cdmj9c</bpmn:incoming><bpmn:outgoing>SequenceFlow_0l62bgk</bpmn:outgoing><bpmn:signalEventDefinition id="SignalEventDefinition_0w1wbz2" signalRef="Signal_137w5pm" /></bpmn:intermediateCatchEvent><bpmn:serviceTask id="Activity_0ywwo8q" name="Статус Заполнение: изменение реквизитов"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Изменение+реквизитов</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_05swstq</bpmn:incoming><bpmn:outgoing>Flow_1529vwy</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1529vwy" sourceRef="Activity_0ywwo8q" targetRef="UserTask_1v8rq7m" /><bpmn:serviceTask id="Activity_0axzngy" name="Статус заявки Заполнение: Некорректно заполнены параметры"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Некорректно+заполнены+параметры</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0bcamph</bpmn:incoming><bpmn:incoming>SequenceFlow_0ktybkz</bpmn:incoming><bpmn:outgoing>Flow_156fdy5</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_156fdy5" sourceRef="Activity_0axzngy" targetRef="UserTask_1v8rq7m" /><bpmn:serviceTask id="Activity_1hlp35x" name="Статус заявки Заполнение: Некорректно заполнены параметры"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Некорректно+заполнены+параметры</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1yn5prb</bpmn:incoming><bpmn:incoming>SequenceFlow_1k04xvc</bpmn:incoming><bpmn:outgoing>Flow_09un3pl</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_09un3pl" sourceRef="Activity_1hlp35x" targetRef="UserTask_1v8rq7m" /><bpmn:sequenceFlow id="Flow_1i1rw3m" sourceRef="Activity_1ha2ojj" targetRef="Gateway_1amktb5" /><bpmn:callActivity id="Activity_1ha2ojj" name="Проверка ИПДЛ" calledElement="IPDLCheck"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_14eklib</bpmn:incoming><bpmn:outgoing>Flow_1i1rw3m</bpmn:outgoing></bpmn:callActivity><bpmn:sequenceFlow id="Flow_00qbl8i" sourceRef="Gateway_1amktb5" targetRef="ServiceTask_0iz7ruh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${condition == "Ok" || condition == "Skip"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="Gateway_1amktb5"><bpmn:incoming>Flow_1i1rw3m</bpmn:incoming><bpmn:outgoing>Flow_00qbl8i</bpmn:outgoing><bpmn:outgoing>Flow_0j58fxz</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_151qrkp" name="Статус заявки отклонена, Договорные отношения с ИПДЛ запрещены"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Договорные+отношения+с+клиентом+запрещены</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0j58fxz</bpmn:incoming><bpmn:outgoing>Flow_0290i60</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0boxz26" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0290i60</bpmn:incoming><bpmn:outgoing>Flow_0nfp3sq</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0j58fxz" sourceRef="Gateway_1amktb5" targetRef="Activity_151qrkp"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${condition == "Declined"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0290i60" sourceRef="Activity_151qrkp" targetRef="Activity_0boxz26" /><bpmn:endEvent id="Event_0mhk39k"><bpmn:incoming>Flow_0nfp3sq</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="Flow_0nfp3sq" sourceRef="Activity_0boxz26" targetRef="Event_0mhk39k" /><bpmn:sequenceFlow id="SequenceFlow_0sfdt4j" sourceRef="ServiceTask_0628vrr" targetRef="UserTask_1v8rq7m" /><bpmn:sequenceFlow id="SequenceFlow_16ewd4k" sourceRef="ServiceTask_1ua7ofj" targetRef="UserTask_1v8rq7m" /><bpmn:sequenceFlow id="SequenceFlow_0971ma8" sourceRef="ServiceTask_0cc64wc" targetRef="UserTask_1v8rq7m" /><bpmn:scriptTask id="ScriptTask_0psuyjh" name="Декодируем url для отправки причины отмены" scriptFormat="groovy" camunda:resultVariable="hlk_reason_return"><bpmn:incoming>SequenceFlow_0mxbmd6</bpmn:incoming><bpmn:outgoing>SequenceFlow_0n9u2ks</bpmn:outgoing><bpmn:script>import groovy.*

def hlk_reason_return = execution.getVariable("hlk_reason_return")

hlk_reason_return = java.net.URLEncoder.encode(hlk_reason_return, "UTF-8")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_0n9u2ks" sourceRef="ScriptTask_0psuyjh" targetRef="ServiceTask_01bf5l7" /><bpmn:scriptTask id="ScriptTask_0h1ciya" name="Декодируем url для отправки причины отклонения" scriptFormat="groovy" camunda:resultVariable="hlk_reason_close"><bpmn:incoming>SequenceFlow_0ry55yy</bpmn:incoming><bpmn:outgoing>SequenceFlow_1oy6y5w</bpmn:outgoing><bpmn:script>import groovy.*

def hlk_reason_close = execution.getVariable("hlk_reason_close")

hlk_reason_return = java.net.URLEncoder.encode(hlk_reason_close, "UTF-8")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_1oy6y5w" sourceRef="ScriptTask_0h1ciya" targetRef="ServiceTask_0jaqldg" /><bpmn:serviceTask id="ServiceTask_0wf3pvj" name="definition of &#34;key&#34;" camunda:expression="individual" camunda:resultVariable="key"><bpmn:incoming>SequenceFlow_1w9oy38</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ep4rxz</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1ep4rxz" sourceRef="ServiceTask_0wf3pvj" targetRef="ServiceTask_08weeoy" /><bpmn:subProcess id="Activity_0wsb16d"><bpmn:incoming>Flow_1c176gz</bpmn:incoming><bpmn:outgoing>Flow_06sdjli</bpmn:outgoing><bpmn:scriptTask id="Activity_1phfa36" name="waiting for signal" scriptFormat="javascript"><bpmn:incoming>Flow_13b8cfe</bpmn:incoming><bpmn:outgoing>Flow_0oyxt82</bpmn:outgoing><bpmn:script>print(new Date() + " waiting for signal " + instanceId)</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_1vj4jwi" name="Таймаут?" camunda:expression="false" camunda:resultVariable="timeout"><bpmn:incoming>Flow_0ulh9ex</bpmn:incoming><bpmn:outgoing>Flow_1091ek2</bpmn:outgoing></bpmn:serviceTask><bpmn:intermediateCatchEvent id="Event_0npbjlj" camunda:asyncAfter="true"><bpmn:incoming>Flow_0oyxt82</bpmn:incoming><bpmn:outgoing>Flow_0ulh9ex</bpmn:outgoing><bpmn:signalEventDefinition id="SignalEventDefinition_17x61ts" signalRef="Signal_137w5pm" /></bpmn:intermediateCatchEvent><bpmn:serviceTask id="Activity_0sob2yz" name="Отправка в AML"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ожидает+ответа+AML</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0olo5ym</bpmn:incoming><bpmn:outgoing>Flow_1twy926</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0z6tfeh" name="Отправка в AML" camunda:asyncBefore="true" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Отправлено+в+AML</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_11a9glg</bpmn:incoming><bpmn:outgoing>Flow_0olo5ym</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_039k1e4"><bpmn:incoming>Flow_1091ek2</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1yii9j5" /></bpmn:endEvent><bpmn:intermediateCatchEvent id="Event_0kpa7ri"><bpmn:incoming>Flow_1twy926</bpmn:incoming><bpmn:outgoing>Flow_1a6pu3c</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_0psq9zj"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT900S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:endEvent id="Event_1uwlnde"><bpmn:incoming>Flow_0cl8j5c</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0u9sr84" /></bpmn:endEvent><bpmn:serviceTask id="Activity_17jdhow" name="Таймаут?" camunda:expression="true" camunda:resultVariable="timeout"><bpmn:incoming>Flow_1a6pu3c</bpmn:incoming><bpmn:outgoing>Flow_0cl8j5c</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="Gateway_0vxotly"><bpmn:incoming>Flow_0zwagdr</bpmn:incoming><bpmn:outgoing>Flow_13b8cfe</bpmn:outgoing><bpmn:outgoing>Flow_11a9glg</bpmn:outgoing></bpmn:parallelGateway><bpmn:startEvent id="Event_0fb44tn"><bpmn:outgoing>Flow_0zwagdr</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id="Flow_1a6pu3c" sourceRef="Event_0kpa7ri" targetRef="Activity_17jdhow" /><bpmn:sequenceFlow id="Flow_0cl8j5c" sourceRef="Activity_17jdhow" targetRef="Event_1uwlnde" /><bpmn:sequenceFlow id="Flow_1twy926" sourceRef="Activity_0sob2yz" targetRef="Event_0kpa7ri" /><bpmn:sequenceFlow id="Flow_1091ek2" sourceRef="Activity_1vj4jwi" targetRef="Event_039k1e4" /><bpmn:sequenceFlow id="Flow_13b8cfe" sourceRef="Gateway_0vxotly" targetRef="Activity_1phfa36" /><bpmn:sequenceFlow id="Flow_0ulh9ex" sourceRef="Event_0npbjlj" targetRef="Activity_1vj4jwi" /><bpmn:sequenceFlow id="Flow_0oyxt82" sourceRef="Activity_1phfa36" targetRef="Event_0npbjlj" /><bpmn:sequenceFlow id="Flow_11a9glg" sourceRef="Gateway_0vxotly" targetRef="Activity_0z6tfeh" /><bpmn:sequenceFlow id="Flow_0olo5ym" sourceRef="Activity_0z6tfeh" targetRef="Activity_0sob2yz" /><bpmn:sequenceFlow id="Flow_0zwagdr" sourceRef="Event_0fb44tn" targetRef="Gateway_0vxotly" /></bpmn:subProcess><bpmn:serviceTask id="Activity_0666637" name="answer" camunda:expression="${execution.setVariable(&#39;answer&#39;, &#39;-1&#39;)}"><bpmn:incoming>Flow_1nmyzom</bpmn:incoming><bpmn:outgoing>Flow_1c176gz</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1nmyzom" sourceRef="ScriptTask_0jj9m3b" targetRef="Activity_0666637" /><bpmn:sequenceFlow id="Flow_1c176gz" sourceRef="Activity_0666637" targetRef="Activity_0wsb16d" /><bpmn:exclusiveGateway id="Gateway_1tb9bih" default="Flow_1a2tkho"><bpmn:incoming>Flow_06sdjli</bpmn:incoming><bpmn:outgoing>Flow_0turl4t</bpmn:outgoing><bpmn:outgoing>Flow_1a2tkho</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_06sdjli" sourceRef="Activity_0wsb16d" targetRef="Gateway_1tb9bih" /><bpmn:sequenceFlow id="Flow_0turl4t" sourceRef="Gateway_1tb9bih" targetRef="ServiceTask_1s4nfqo"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${timeout == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="Activity_1rhlac6" name="Формируем сообщение об ошибке" camunda:expression="Таймаут+ожидания+ответа+от+АМЛ" camunda:resultVariable="errorDescription"><bpmn:incoming>Flow_1a2tkho</bpmn:incoming><bpmn:outgoing>Flow_0cdo22x</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1a2tkho" sourceRef="Gateway_1tb9bih" targetRef="Activity_1rhlac6" /><bpmn:sequenceFlow id="Flow_0cdo22x" sourceRef="Activity_1rhlac6" targetRef="UserTask_1v8rq7m" /><bpmn:serviceTask id="Activity_1kgk7ei" name="Записываем в объект"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_updatedId?incrementVersion=true&amp;value=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_160bqtq</bpmn:incoming><bpmn:outgoing>Flow_05m4scb</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_05m4scb" sourceRef="Activity_1kgk7ei" targetRef="Activity_12w4p4g" /><bpmn:serviceTask id="Activity_12w4p4g" name="устанавливаем признак обновления клиента" camunda:expression="${execution.setVariable(&#39;clientUpdated&#39;, false)}"><bpmn:incoming>Flow_05m4scb</bpmn:incoming><bpmn:outgoing>Flow_035nhek</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_035nhek" sourceRef="Activity_12w4p4g" targetRef="ServiceTask_16dta2h" /><bpmn:subProcess id="Activity_002fu7l"><bpmn:incoming>SequenceFlow_0qxrpia</bpmn:incoming><bpmn:outgoing>Flow_06o07xl</bpmn:outgoing><bpmn:startEvent id="Event_194cops"><bpmn:outgoing>Flow_1i52ul6</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id="Gateway_02gwf7r"><bpmn:incoming>Flow_1i52ul6</bpmn:incoming><bpmn:outgoing>Flow_0tl9dy6</bpmn:outgoing><bpmn:outgoing>Flow_1qmgkve</bpmn:outgoing></bpmn:parallelGateway><bpmn:intermediateCatchEvent id="Event_0xj860e"><bpmn:incoming>Flow_1qmgkve</bpmn:incoming><bpmn:outgoing>Flow_0qi4l44</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_1lq862l"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT360S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:endEvent id="Event_1ahvajv"><bpmn:incoming>Flow_039249d</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_00q0qvd" /></bpmn:endEvent><bpmn:endEvent id="Event_162i91t"><bpmn:incoming>Flow_0toxhsc</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_07yinu0" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1obslb1" name="Таймаут?" camunda:expression="true" camunda:resultVariable="timeout"><bpmn:incoming>Flow_0qi4l44</bpmn:incoming><bpmn:outgoing>Flow_039249d</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0rxayxv" name="Таймаут?" camunda:expression="false" camunda:resultVariable="timeout"><bpmn:incoming>Flow_1mrcnhz</bpmn:incoming><bpmn:outgoing>Flow_0toxhsc</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1i52ul6" sourceRef="Event_194cops" targetRef="Gateway_02gwf7r" /><bpmn:sequenceFlow id="Flow_0tl9dy6" sourceRef="Gateway_02gwf7r" targetRef="Event_1lukpn1" /><bpmn:sequenceFlow id="Flow_1qmgkve" sourceRef="Gateway_02gwf7r" targetRef="Event_0xj860e" /><bpmn:sequenceFlow id="Flow_0qi4l44" sourceRef="Event_0xj860e" targetRef="Activity_1obslb1" /><bpmn:sequenceFlow id="Flow_0toxhsc" sourceRef="Activity_0rxayxv" targetRef="Event_162i91t" /><bpmn:intermediateCatchEvent id="Event_1lukpn1" camunda:asyncAfter="true"><bpmn:incoming>Flow_0tl9dy6</bpmn:incoming><bpmn:outgoing>Flow_1mrcnhz</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_1dym3ra" messageRef="Message_0naumfn" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_1mrcnhz" sourceRef="Event_1lukpn1" targetRef="Activity_0rxayxv" /><bpmn:sequenceFlow id="Flow_039249d" sourceRef="Activity_1obslb1" targetRef="Event_1ahvajv" /></bpmn:subProcess><bpmn:sequenceFlow id="Flow_06o07xl" sourceRef="Activity_002fu7l" targetRef="Gateway_0tviji6" /><bpmn:exclusiveGateway id="Gateway_0tviji6" default="Flow_16ta8bo"><bpmn:incoming>Flow_06o07xl</bpmn:incoming><bpmn:outgoing>Flow_16ta8bo</bpmn:outgoing><bpmn:outgoing>Flow_07tfidq</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_16ta8bo" sourceRef="Gateway_0tviji6" targetRef="ServiceTask_0jn0qce" /><bpmn:serviceTask id="Activity_1s5q2ka" name="Изменяем статус заявки: Ошибка при создании клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+при+создании+клиента+в+базе+данных</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_07tfidq</bpmn:incoming><bpmn:outgoing>Flow_1qebb3k</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_07tfidq" sourceRef="Gateway_0tviji6" targetRef="Activity_1s5q2ka"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${timeout == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1qebb3k" sourceRef="Activity_1s5q2ka" targetRef="UserTask_1v8rq7m" /><bpmn:serviceTask id="Activity_1dedbcb" name="Изменяем статус заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=AML.Совпадений+не+найдено.+Клиент+создан</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1p2k2u6</bpmn:incoming><bpmn:outgoing>Flow_18klzdu</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_18klzdu" sourceRef="Activity_1dedbcb" targetRef="Gateway_0bg88gc" /><bpmn:serviceTask id="Activity_1prxrfa" name="Создаем клиента" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/INDIVIDUAL/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ShortName", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type", "1")
.prop("client_type", "ИП")
.prop("hlk_app_id", appId)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1sd5tdu</bpmn:incoming><bpmn:outgoing>Flow_1q2muf0</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1q2muf0" sourceRef="Activity_1prxrfa" targetRef="ExclusiveGateway_007x07m" /><bpmn:serviceTask id="Activity_0j6lw92" name="Достаем ид заявки на регистрацию"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_app_id</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="appId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements></bpmn:serviceTask><bpmn:subProcess id="Activity_13x6w29"><bpmn:incoming>SequenceFlow_1i4p0dm</bpmn:incoming><bpmn:outgoing>Flow_0hdjbtw</bpmn:outgoing><bpmn:startEvent id="Event_1sl7ez5"><bpmn:outgoing>Flow_0wnddvw</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id="Gateway_05izb6g"><bpmn:incoming>Flow_0wnddvw</bpmn:incoming><bpmn:outgoing>Flow_1mbavoq</bpmn:outgoing><bpmn:outgoing>Flow_08x1rqb</bpmn:outgoing><bpmn:outgoing>Flow_1p6vt1v</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="Activity_1dliyhb" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_1yakock"><bpmn:incoming>Flow_1mbavoq</bpmn:incoming><bpmn:outgoing>Flow_0mvzsq0</bpmn:outgoing></bpmn:receiveTask><bpmn:userTask id="Activity_07otbkp" name="Возврат к заполнению" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_08x1rqb</bpmn:incoming><bpmn:outgoing>Flow_1pdp3ip</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_12jpz93" name="Устанавливаем признак" camunda:expression="true" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_1pdp3ip</bpmn:incoming><bpmn:outgoing>Flow_0rkx0wq</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_0zcrz00"><bpmn:incoming>Flow_0rkx0wq</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0rbzp9g" /></bpmn:endEvent><bpmn:endEvent id="Event_1a1kmf7"><bpmn:incoming>Flow_1kav4v1</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_17113om" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1k9hgoy" name="Устанавливаем признак" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0mvzsq0</bpmn:incoming><bpmn:outgoing>Flow_1kav4v1</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0wnddvw" sourceRef="Event_1sl7ez5" targetRef="Gateway_05izb6g" /><bpmn:sequenceFlow id="Flow_1mbavoq" sourceRef="Gateway_05izb6g" targetRef="Activity_1dliyhb" /><bpmn:sequenceFlow id="Flow_08x1rqb" sourceRef="Gateway_05izb6g" targetRef="Activity_07otbkp" /><bpmn:sequenceFlow id="Flow_1pdp3ip" sourceRef="Activity_07otbkp" targetRef="Activity_12jpz93" /><bpmn:sequenceFlow id="Flow_0rkx0wq" sourceRef="Activity_12jpz93" targetRef="Event_0zcrz00" /><bpmn:sequenceFlow id="Flow_0mvzsq0" sourceRef="Activity_1dliyhb" targetRef="Activity_1k9hgoy" /><bpmn:sequenceFlow id="Flow_1kav4v1" sourceRef="Activity_1k9hgoy" targetRef="Event_1a1kmf7" /><bpmn:userTask id="Activity_0vv6ctl" name="Ручная привязка МТ 539" camunda:candidateGroups="cb_directordp, cb_headmiddleofice, cb_managermiddleoffice, jira-users"><bpmn:extensionElements><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Otbor539&#34;,&#34;label&#34;:&#34;Ручной отбор MT539&#34;,&#34;type&#34;:&#34;swift&#34;}" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>Flow_1gak752</bpmn:incoming><bpmn:incoming>Flow_1p6vt1v</bpmn:incoming><bpmn:outgoing>Flow_0hjlm1z</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_15v8vm7" name="Устанавливаем признак isRejected = false" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0jtlrfl</bpmn:incoming><bpmn:outgoing>Flow_05qwqcj</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_0ok742r"><bpmn:incoming>Flow_05qwqcj</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_01orhu0" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1ba4dph" name="Проводим метчинг"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/condition/evaluate/539FindPair?leftType=SWIFT&amp;leftId=${swiftId}&amp;rightType=BOOK&amp;rightId=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="matchingResult">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0hjlm1z</bpmn:incoming><bpmn:outgoing>Flow_1e24gzw</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_02axbdj" default="Flow_0jtlrfl"><bpmn:incoming>Flow_1e24gzw</bpmn:incoming><bpmn:outgoing>Flow_0jtlrfl</bpmn:outgoing><bpmn:outgoing>Flow_0x1jq84</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_0uhatcf" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+прикрепленного+SWIFT</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0x1jq84</bpmn:incoming><bpmn:outgoing>Flow_1gak752</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1gak752" sourceRef="Activity_0uhatcf" targetRef="Activity_0vv6ctl" /><bpmn:sequenceFlow id="Flow_0hjlm1z" sourceRef="Activity_0vv6ctl" targetRef="Activity_1ba4dph" /><bpmn:sequenceFlow id="Flow_0jtlrfl" sourceRef="Gateway_02axbdj" targetRef="Activity_15v8vm7" /><bpmn:sequenceFlow id="Flow_05qwqcj" sourceRef="Activity_15v8vm7" targetRef="Event_0ok742r" /><bpmn:sequenceFlow id="Flow_1e24gzw" sourceRef="Activity_1ba4dph" targetRef="Gateway_02axbdj" /><bpmn:sequenceFlow id="Flow_0x1jq84" sourceRef="Gateway_02axbdj" targetRef="Activity_0uhatcf"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${matchingResult == 'false'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1p6vt1v" sourceRef="Gateway_05izb6g" targetRef="Activity_0vv6ctl" /></bpmn:subProcess><bpmn:exclusiveGateway id="Gateway_1rf82cr" default="Flow_08asnqy"><bpmn:incoming>Flow_0hdjbtw</bpmn:incoming><bpmn:outgoing>Flow_08asnqy</bpmn:outgoing><bpmn:outgoing>Flow_036jm64</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0hdjbtw" sourceRef="Activity_13x6w29" targetRef="Gateway_1rf82cr" /><bpmn:receiveTask id="Activity_1od4kap" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_0vefyb0"><bpmn:incoming>Flow_0ggmqka</bpmn:incoming><bpmn:outgoing>Flow_1itw7f9</bpmn:outgoing></bpmn:receiveTask><bpmn:serviceTask id="Activity_1jauzkp" name="Сохраняем 539"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/attach/${swiftId}?type=BOOK&amp;instanceId=${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0bpymq8</bpmn:incoming><bpmn:outgoing>Flow_0yp103i</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_00i90ol" name="Смотрим статус"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_OPERATION_STATUS</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_08asnqy</bpmn:incoming><bpmn:incoming>Flow_1itw7f9</bpmn:incoming><bpmn:outgoing>Flow_0o4nqur</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_02ltn2p" name="Меняем статус заявки SWIFT принят"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0gmbdzp</bpmn:incoming><bpmn:outgoing>Flow_15l9526</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_101yy64" name="Меняем статус заявки SWIFT принят для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=ОБработка:+SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_15l9526</bpmn:incoming><bpmn:outgoing>Flow_0ggmqka</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0t59gy9" name="Смотрим Дату"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_DOCREG_DATE</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="SWIFT_DOCREG_DATE"><camunda:script scriptFormat="javascript">response.replace(/"/g, '').substring(0, 10)</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0o4nqur</bpmn:incoming><bpmn:outgoing>Flow_0bpymq8</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0ggmqka" sourceRef="Activity_101yy64" targetRef="Activity_1od4kap" /><bpmn:sequenceFlow id="Flow_0o4nqur" sourceRef="Activity_00i90ol" targetRef="Activity_0t59gy9" /><bpmn:sequenceFlow id="Flow_15l9526" sourceRef="Activity_02ltn2p" targetRef="Activity_101yy64" /><bpmn:sequenceFlow id="Flow_0bpymq8" sourceRef="Activity_0t59gy9" targetRef="Activity_1jauzkp" /><bpmn:sequenceFlow id="Flow_0yp103i" sourceRef="Activity_1jauzkp" targetRef="ExclusiveGateway_1f576zg" /><bpmn:sequenceFlow id="Flow_08asnqy" sourceRef="Gateway_1rf82cr" targetRef="Activity_00i90ol" /><bpmn:serviceTask id="Activity_0yqcy6h" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+FASTI.+Требует+доработки+исполнителем</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_036jm64</bpmn:incoming><bpmn:outgoing>Flow_1pvtigg</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1nm79gr" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0youcpy</bpmn:incoming><bpmn:outgoing>Flow_0cmlbw6</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1rmlerl" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0cmlbw6</bpmn:incoming><bpmn:outgoing>Flow_10f4n42</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_12w1t6k" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1pvtigg</bpmn:incoming><bpmn:outgoing>Flow_1xqsj7x</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0d2dw1t" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${agreementId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1xqsj7x</bpmn:incoming><bpmn:outgoing>Flow_0youcpy</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1p2v7n7" name="Устанавливаем признак" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_10f4n42</bpmn:incoming><bpmn:outgoing>Flow_170go70</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1pvtigg" sourceRef="Activity_0yqcy6h" targetRef="Activity_12w1t6k" /><bpmn:sequenceFlow id="Flow_0youcpy" sourceRef="Activity_0d2dw1t" targetRef="Activity_1nm79gr" /><bpmn:sequenceFlow id="Flow_0cmlbw6" sourceRef="Activity_1nm79gr" targetRef="Activity_1rmlerl" /><bpmn:sequenceFlow id="Flow_10f4n42" sourceRef="Activity_1rmlerl" targetRef="Activity_1p2v7n7" /><bpmn:sequenceFlow id="Flow_1xqsj7x" sourceRef="Activity_12w1t6k" targetRef="Activity_0d2dw1t" /><bpmn:sequenceFlow id="Flow_036jm64" sourceRef="Gateway_1rf82cr" targetRef="Activity_0yqcy6h"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_170go70" sourceRef="Activity_1p2v7n7" targetRef="ServiceTask_0cc64wc" /><bpmn:sequenceFlow id="Flow_0gmbdzp" sourceRef="ExclusiveGateway_1f576zg" targetRef="Activity_02ltn2p"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "30"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1itw7f9" sourceRef="Activity_1od4kap" targetRef="Activity_00i90ol" /><bpmn:serviceTask id="Activity_1jpjxvd" name="Определяем, есть ли клиент с тем же именем"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "individualPerson", 	"filter": 
{
 "$or": 
[		
{
"templatePrimaryId": "5d7a7f9d24aa9a00085186bf",
"attributes.ShortName": "${ShortName}", 
"primaryId": {$ne: "${clientPrimaryId}" },
"activityStatus" : "ACTIVE"
}, 	
{
"templatePrimaryId": "5e9d80918a09a911b7f273f9",
"attributes.ShortName": "${ShortName}", 
"primaryId": {$ne: "${clientPrimaryId}" },
"activityStatus" : "ACTIVE"
}
]
},
"projection": { 		"_id": 1 	}
}</camunda:inputParameter><camunda:outputParameter name="foundTeska"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="TeskaId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="isEmptyTeska"><camunda:script scriptFormat="javascript">S(response)
.prop("cursor")
.prop("firstBatch").elements().isEmpty()</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ywskze</bpmn:incoming><bpmn:outgoing>Flow_10zjt66</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_10zjt66" sourceRef="Activity_1jpjxvd" targetRef="Gateway_00n4zi7" /><bpmn:serviceTask id="Activity_1tj0hgv" name="Устанавливаем признак foundTeska = false" camunda:asyncAfter="true" camunda:expression="false" camunda:resultVariable="foundTeska"><bpmn:incoming>SequenceFlow_1aocrxb</bpmn:incoming><bpmn:outgoing>Flow_0ywskze</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0ywskze" sourceRef="Activity_1tj0hgv" targetRef="Activity_1jpjxvd" /><bpmn:exclusiveGateway id="Gateway_00n4zi7" default="Flow_12nd9eo"><bpmn:incoming>Flow_10zjt66</bpmn:incoming><bpmn:outgoing>Flow_12nd9eo</bpmn:outgoing><bpmn:outgoing>Flow_0xd9oae</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="Activity_1tdlmmo" name="ShortName текущего клиента" scriptFormat="javascript" camunda:resultVariable="ShortNameCurrentCtpt"><bpmn:incoming>Flow_12nd9eo</bpmn:incoming><bpmn:outgoing>Flow_0a406to</bpmn:outgoing><bpmn:script>ShortName</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0a406to" sourceRef="Activity_1tdlmmo" targetRef="ServiceTask_0041wer" /><bpmn:sequenceFlow id="Flow_12nd9eo" sourceRef="Gateway_00n4zi7" targetRef="Activity_1tdlmmo" /><bpmn:sequenceFlow id="Flow_0xd9oae" sourceRef="Gateway_00n4zi7" targetRef="Activity_1c3fo28"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isEmptyTeska == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_17tw546" sourceRef="Gateway_0w6vlds" targetRef="ServiceTask_0041wer" /><bpmn:sequenceFlow id="Flow_080u4ii" sourceRef="Activity_1sixekc" targetRef="ServiceTask_0041wer" /><bpmn:exclusiveGateway id="Gateway_1aac5i6" default="Flow_0gdqtl4"><bpmn:incoming>SequenceFlow_1cuicjo</bpmn:incoming><bpmn:outgoing>Flow_01m1bnk</bpmn:outgoing><bpmn:outgoing>Flow_0gdqtl4</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_01m1bnk" sourceRef="Gateway_1aac5i6" targetRef="ServiceTask_0sosz0f"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isTeska == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0gdqtl4" sourceRef="Gateway_1aac5i6" targetRef="ExclusiveGateway_0d7ydpb" /><bpmn:exclusiveGateway id="Gateway_06qzfiy" default="Flow_1anjqrz"><bpmn:incoming>Flow_00uihvs</bpmn:incoming><bpmn:outgoing>Flow_0hil4uk</bpmn:outgoing><bpmn:outgoing>Flow_1anjqrz</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="Activity_1cfj66c" name="ShortName текущего клиента" scriptFormat="javascript" camunda:resultVariable="ShortNameCurrentCtpt"><bpmn:incoming>Flow_0ntc5i2</bpmn:incoming><bpmn:outgoing>Flow_10nu8y4</bpmn:outgoing><bpmn:script>ShortName + " " + accountNumber.substring(accountNumber.length()-6)</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_0jbumzw" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_account_number_contract?incrementVersion=true&amp;value=${accountNumber.substring(accountNumber.length()-6)}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ut0pnt</bpmn:incoming><bpmn:outgoing>Flow_1y3fjs2</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_010eefz" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1y3fjs2</bpmn:incoming><bpmn:outgoing>Flow_0ntc5i2</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0kkm6zh" name="Генерируем номер счета и договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/sequence/next/Account?default=1028111137</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="accountNumber">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0hil4uk</bpmn:incoming><bpmn:outgoing>Flow_02kmhpb</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="Activity_0rwjszi" name="ShortName текущего клиента" scriptFormat="javascript" camunda:resultVariable="ShortNameCurrentCtpt"><bpmn:incoming>Flow_1anjqrz</bpmn:incoming><bpmn:outgoing>Flow_0j84msn</bpmn:outgoing><bpmn:script>ShortName + " 00"</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_1c3fo28" name="определяем primaryId клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0xd9oae</bpmn:incoming><bpmn:outgoing>Flow_0pgzht5</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0blrew5" name="Определяем есть ли у клиента активный счет в цд"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"find": "invoice",
"filter": {
"attributes.hlk_account_owner.primaryId": "${hlk_client_app}",
"activityStatus" : "ACTIVE", 
"actual" : true, 
"attributes.hlk_account_type" : "Ценнобумажный", 
"attributes.hlk_clearing_system.primaryId" : "5e46ac7457645400077899c7"
},
"projection": {
"attributes.hlk_Account_Number": 1
}
}</camunda:inputParameter><camunda:outputParameter name="accountNumber"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_Account_Number
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0pgzht5</bpmn:incoming><bpmn:outgoing>Flow_0idmr62</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_05l4mt4" default="Flow_00uihvs"><bpmn:incoming>Flow_0idmr62</bpmn:incoming><bpmn:outgoing>Flow_00uihvs</bpmn:outgoing><bpmn:outgoing>Flow_0kkgdy0</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="Activity_163tge2" name="ShortName текущего клиента" scriptFormat="javascript" camunda:resultVariable="ShortNameCurrentCtpt"><bpmn:incoming>Flow_0kkgdy0</bpmn:incoming><bpmn:outgoing>Flow_0nuutwb</bpmn:outgoing><bpmn:script>ShortName + " " + accountNumber.substring(accountNumber.length()-6)</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_08yh8z4" name="Ищем книгу текущего клиента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	
"find": "book", 	
"filter": {
"templatePrimaryId": "5da5be402ab79c00084ee4c5",
"attributes.hlk_book_owner.primaryId": "${hlk_client_app}", 
"activityStatus" : "ACTIVE"},
"projection": { 		"_id": 1 	}
}</camunda:inputParameter><camunda:outputParameter name="foundBook"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="BookId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_10nu8y4</bpmn:incoming><bpmn:incoming>Flow_0j84msn</bpmn:incoming><bpmn:incoming>Flow_0nuutwb</bpmn:incoming><bpmn:outgoing>Flow_1c2eopd</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0w6vlds" default="Flow_17tw546"><bpmn:incoming>Flow_1c2eopd</bpmn:incoming><bpmn:outgoing>Flow_0k23uc8</bpmn:outgoing><bpmn:outgoing>Flow_17tw546</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_0gge3yp" name="Добавляем номер счета в название книги клиента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${BookId}/setAttributes?incrementVersion=true</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ShortName", ShortNameCurrentCtpt)
.prop("hlk_full_name", ShortNameCurrentCtpt)
.prop("hlk_book_owner",S("{}")
.prop("value" , ShortName)
.prop("primaryId" , hlk_client_app)
.prop("source" , "individualPerson"))
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0k23uc8</bpmn:incoming><bpmn:outgoing>Flow_1m3e3uy</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1sixekc" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${BookId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1m3e3uy</bpmn:incoming><bpmn:outgoing>Flow_080u4ii</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_00uihvs" sourceRef="Gateway_05l4mt4" targetRef="Gateway_06qzfiy" /><bpmn:sequenceFlow id="Flow_0hil4uk" sourceRef="Gateway_06qzfiy" targetRef="Activity_0kkm6zh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${step == "true" &amp;&amp; cdRejected == "false"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1anjqrz" sourceRef="Gateway_06qzfiy" targetRef="Activity_0rwjszi" /><bpmn:sequenceFlow id="Flow_0ntc5i2" sourceRef="Activity_010eefz" targetRef="Activity_1cfj66c" /><bpmn:sequenceFlow id="Flow_10nu8y4" sourceRef="Activity_1cfj66c" targetRef="Activity_08yh8z4" /><bpmn:sequenceFlow id="Flow_1y3fjs2" sourceRef="Activity_0jbumzw" targetRef="Activity_010eefz" /><bpmn:sequenceFlow id="Flow_0j84msn" sourceRef="Activity_0rwjszi" targetRef="Activity_08yh8z4" /><bpmn:sequenceFlow id="Flow_0pgzht5" sourceRef="Activity_1c3fo28" targetRef="Activity_0blrew5" /><bpmn:sequenceFlow id="Flow_0idmr62" sourceRef="Activity_0blrew5" targetRef="Gateway_05l4mt4" /><bpmn:sequenceFlow id="Flow_0kkgdy0" sourceRef="Gateway_05l4mt4" targetRef="Activity_163tge2"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0nuutwb" sourceRef="Activity_163tge2" targetRef="Activity_08yh8z4" /><bpmn:sequenceFlow id="Flow_1c2eopd" sourceRef="Activity_08yh8z4" targetRef="Gateway_0w6vlds" /><bpmn:sequenceFlow id="Flow_0k23uc8" sourceRef="Gateway_0w6vlds" targetRef="Activity_0gge3yp"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${foundBook == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1m3e3uy" sourceRef="Activity_0gge3yp" targetRef="Activity_1sixekc" /><bpmn:serviceTask id="Activity_0xmp1he" name="Достаем номер договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${agreementId}/getAttribute/hlk_account_number_contract</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="agreementNumber">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_103j0nn</bpmn:incoming><bpmn:outgoing>Flow_0yme9g5</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_103j0nn" sourceRef="CallActivity_030vbed" targetRef="Activity_0xmp1he" /><bpmn:sequenceFlow id="Flow_0yme9g5" sourceRef="Activity_0xmp1he" targetRef="ServiceTask_0jq9ny3" /><bpmn:serviceTask id="Activity_1g8p0mz" name="Определяем тип договора клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"attributes.hlk_client_FL.primaryId": "${hlk_client_app}"
	},
	"projection": {
		"attributes.hlk_account_type_contract": 1,
                "attributes.hlk_account_number_contract": 1,
                "hlk_Contract_Start_Date":1
	}
}</camunda:inputParameter><camunda:outputParameter name="contractFound"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="contractType"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_account_type_contract
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="agreementNumber"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_account_number_contract
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="registrationDate"><camunda:script scriptFormat="JavaScript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_Contract_Start_Date
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1dhb0xn</bpmn:incoming><bpmn:outgoing>Flow_04p37gp</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1dhb0xn" sourceRef="ServiceTask_0qeqnu1" targetRef="Activity_1g8p0mz" /><bpmn:sequenceFlow id="Flow_04p37gp" sourceRef="Activity_1g8p0mz" targetRef="ServiceTask_1jfg9f0" /><bpmn:serviceTask id="Activity_1o9gkeu" name="Создаем счет"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/integration/queue/send/BOOK/by/${instanceId}/to/INVOICE</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_type_account_int" , "ценнобумажный")
.prop("hlk_account_owner",S("{}")
.prop("value" , ShortNameCurrentCtpt)
.prop("primaryId" , clientPrimaryId)
.prop("source" , "individualPerson"))
.prop("hlk_Account_Number" , accountNumber)
.prop("AccountNumber" , accountNumber)
.prop("hlk_personal_account" , true)
.prop("hlk_DefaultAccount" , true)
.prop("hlk_account_external" , false)
.prop("hlk_blocked_account" , false)
.prop("hlk_account_type","Ценнобумажный")
.prop("hlk_account_status" , "Открыт")
.prop("hlk_clearing_system" , "АО ЦЕНТРАЛЬНЫЙ ДЕПОЗИТАРИЙ ЦЕННЫХ БУМАГ")
.prop("hlk_account_bin" , "970740000154")
.prop("hlk_accont_name_registrar_holder" ,"Halyk Finance")
.prop("hlk_account_opening_date" , SWIFT_DOCREG_DATE)
.prop("hlk_autostart" , true)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="status"><camunda:script scriptFormat="javascript">JSON.parse(response).status</camunda:script></camunda:outputParameter><camunda:outputParameter name="message"><camunda:script scriptFormat="javascript">JSON.parse(response).message</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0yun49p</bpmn:incoming><bpmn:outgoing>Flow_05ztljb</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_03duskx" name="Создаем договор"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("EXCEL_NAME" , "CONTRACT")
.prop("hlk_account" , accountNumber)
.prop("hlk_client_FL",S("{}")
.prop("value" , ShortNameCurrentCtpt)
.prop("primaryId" , clientPrimaryId)
.prop("source" , "individualPerson"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_05ztljb</bpmn:incoming><bpmn:outgoing>SequenceFlow_01dbe82</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0ps21s1" name="Создаем запись о ранжировании"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/integration/queue/send/BOOK/by/${agreementId}/to/BOOK</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "Range")
.prop("hlk_client_app" , ShortNameCurrentCtpt)
.prop("hlk_range_AssignedRiskGroup1" , "Сбалансированная")
.prop("hlk_range_date" , acceptDate)
.prop("hlk_range_InvoiceNumber" , accountNumber)
.prop("hlk_range_IDAssignedRiskGroup1" , "1")
.prop("hlk_range_BasisAssignment1" , "По результатам анкетирования")
.prop("hlk_counterparty_type","0") 
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="status"><camunda:script scriptFormat="javascript">JSON.parse(response).status</camunda:script></camunda:outputParameter><camunda:outputParameter name="message"><camunda:script scriptFormat="javascript">JSON.parse(response).message</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_12b96wz</bpmn:incoming><bpmn:outgoing>Flow_14jzw5d</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_14jzw5d" sourceRef="Activity_0ps21s1" targetRef="ServiceTask_1pr0pg7" /><bpmn:serviceTask id="Activity_132nwmo" name="Создаем книгу"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/integration/queue/send/BOOK/by/${agreementId}/to/BOOK</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "book")
.prop("hlk_full_name" , ShortNameCurrentCtpt)
.prop("ShortName" , ShortNameCurrentCtpt)
.prop("hlk_book_owner",S("{}")
.prop("value" , ShortNameCurrentCtpt)
.prop("primaryId" , clientPrimaryId)
.prop("source" , "individualPerson"))
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="status"><camunda:script scriptFormat="javascript">JSON.parse(response).status</camunda:script></camunda:outputParameter><camunda:outputParameter name="message"><camunda:script scriptFormat="javascript">JSON.parse(response).message</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1gfsrxc</bpmn:incoming><bpmn:outgoing>Flow_1hvpbnw</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1hvpbnw" sourceRef="Activity_132nwmo" targetRef="ServiceTask_1izmazt" /><bpmn:serviceTask id="Activity_1j7g4oc" name="Создаем счет"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/INVOICE/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_type_account_int" , "ценнобумажный")
.prop("hlk_account_owner",S("{}")
.prop("value" , ShortNameCurrentCtpt)
.prop("primaryId" , clientPrimaryId)
.prop("source" , "individualPerson"))
.prop("AccountNumber" , accountNumber)
.prop("AccountNumber" , accountNumber)
.prop("hlk_personal_account" , true)
.prop("hlk_DefaultAccount" , true)
.prop("hlk_account_external" , false)
.prop("hlk_blocked_account" , false)
.prop("hlk_account_type" , "Ценнобумажный")
.prop("hlk_account_status" , "Открыт")
.prop("hlk_clearing_system" , "АО ЦЕНТРАЛЬНЫЙ ДЕПОЗИТАРИЙ ЦЕННЫХ БУМАГ")
.prop("hlk_account_bin" , "970740000154")
.prop("hlk_accont_name_registrar_holder" ,"Halyk Finance")
.prop("hlk_account_opening_date" , acceptDate)
.prop("hlk_autostart" , true)
.prop("hlk_acc_client_id" , clientPrimaryId)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0r2d0hi</bpmn:incoming><bpmn:outgoing>Flow_0jvuep0</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_15ylaoo" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1qwysd3</bpmn:incoming><bpmn:outgoing>Flow_1vn8784</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_18p3lai" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1apdu2e</bpmn:incoming><bpmn:outgoing>Flow_1qwysd3</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_19yud7v" name="Ищем книгу "><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	
"find": "book", 	
"filter": {
"templatePrimaryId": "5da5be402ab79c00084ee4c5",
"attributes.hlk_book_owner.primaryId": "${hlk_client_app}", 
"activityStatus" : "ACTIVE"},
"projection": { 		"_id": 1 	}
}</camunda:inputParameter><camunda:outputParameter name="foundBook"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="BookId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0jvuep0</bpmn:incoming><bpmn:outgoing>Flow_0n50dro</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0fib3cr" name="Меняем название книги"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${BookId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ShortName",ShortNameCurrentCtpt)
.prop("hlk_full_name",ShortNameCurrentCtpt)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0n50dro</bpmn:incoming><bpmn:outgoing>Flow_19gyq1p</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_09b3ata" name="Сообщаем об окончании процесса книги"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${BookId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_19gyq1p</bpmn:incoming><bpmn:outgoing>Flow_1apdu2e</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0jvuep0" sourceRef="Activity_1j7g4oc" targetRef="Activity_19yud7v" /><bpmn:sequenceFlow id="Flow_1qwysd3" sourceRef="Activity_18p3lai" targetRef="Activity_15ylaoo" /><bpmn:sequenceFlow id="Flow_1apdu2e" sourceRef="Activity_09b3ata" targetRef="Activity_18p3lai" /><bpmn:sequenceFlow id="Flow_0n50dro" sourceRef="Activity_19yud7v" targetRef="Activity_0fib3cr" /><bpmn:sequenceFlow id="Flow_19gyq1p" sourceRef="Activity_0fib3cr" targetRef="Activity_09b3ata" /><bpmn:endEvent id="Event_0xdpkmm"><bpmn:incoming>Flow_1vn8784</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="Flow_1vn8784" sourceRef="Activity_15ylaoo" targetRef="Event_0xdpkmm" /><bpmn:serviceTask id="Activity_0cy1t3d" name="Обновляем счет"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/INVOICE/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_type_account_int" , "ценнобумажный")
.prop("hlk_account_owner" , S("{}")
.prop("value",ShortNameCurrentCtpt)
.prop("primaryId",hlk_client_app)
.prop("source" , "individualPerson")
.prop("_class" , "egar.ezdoc.model.entity.attribute.DictionaryValue"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_12cundm</bpmn:incoming><bpmn:outgoing>Flow_1jac1u7</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_116yqgy" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0cwm71y</bpmn:incoming><bpmn:outgoing>Flow_0zwfv56</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_1q0fr90"><bpmn:incoming>Flow_0zwfv56</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="Activity_1rl892b" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_10wso3l</bpmn:incoming><bpmn:outgoing>Flow_0cwm71y</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1sc5771" name="Ищем книгу "><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	
"find": "book", 	
"filter": {
"templatePrimaryId": "5da5be402ab79c00084ee4c5",
"attributes.hlk_book_owner.primaryId": "${hlk_client_app}", 
"activityStatus" : "ACTIVE"},
"projection": { 		"_id": 1 	}
}</camunda:inputParameter><camunda:outputParameter name="foundBook"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="BookId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1jac1u7</bpmn:incoming><bpmn:outgoing>Flow_0e3ss5o</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_17vta15" name="Меняем название книги"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${BookId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ShortName",ShortNameCurrentCtpt)
.prop("hlk_full_name",ShortNameCurrentCtpt)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0e3ss5o</bpmn:incoming><bpmn:outgoing>Flow_1uon5be</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_07t2ios" name="Сообщаем об окончании процесса книги"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${BookId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1uon5be</bpmn:incoming><bpmn:outgoing>Flow_10wso3l</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1jac1u7" sourceRef="Activity_0cy1t3d" targetRef="Activity_1sc5771" /><bpmn:sequenceFlow id="Flow_0cwm71y" sourceRef="Activity_1rl892b" targetRef="Activity_116yqgy" /><bpmn:sequenceFlow id="Flow_0zwfv56" sourceRef="Activity_116yqgy" targetRef="Event_1q0fr90" /><bpmn:sequenceFlow id="Flow_10wso3l" sourceRef="Activity_07t2ios" targetRef="Activity_1rl892b" /><bpmn:sequenceFlow id="Flow_0e3ss5o" sourceRef="Activity_1sc5771" targetRef="Activity_17vta15" /><bpmn:sequenceFlow id="Flow_1uon5be" sourceRef="Activity_17vta15" targetRef="Activity_07t2ios" /><bpmn:sequenceFlow id="Flow_05ztljb" sourceRef="Activity_1o9gkeu" targetRef="Activity_03duskx" /><bpmn:subProcess id="Activity_1v8a5d4"><bpmn:incoming>SequenceFlow_0fb8ogm</bpmn:incoming><bpmn:outgoing>Flow_1oqpep6</bpmn:outgoing><bpmn:startEvent id="Event_005lkb1"><bpmn:outgoing>Flow_1jyex0a</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id="Gateway_0wb676a"><bpmn:incoming>Flow_1jyex0a</bpmn:incoming><bpmn:outgoing>Flow_0wyrel9</bpmn:outgoing><bpmn:outgoing>Flow_0waxiw4</bpmn:outgoing><bpmn:outgoing>Flow_0culex1</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="Activity_12awn9f" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_1ga7zou"><bpmn:incoming>Flow_0wyrel9</bpmn:incoming><bpmn:outgoing>Flow_003gijz</bpmn:outgoing></bpmn:receiveTask><bpmn:userTask id="Activity_09aldds" name="Возврат к заполнению" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_0waxiw4</bpmn:incoming><bpmn:outgoing>Flow_0shhj57</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_0lqoihv" name="Устанавливаем признак" camunda:expression="true" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0shhj57</bpmn:incoming><bpmn:outgoing>Flow_1wgcfld</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_04klirj"><bpmn:incoming>Flow_1wgcfld</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0kji731" /></bpmn:endEvent><bpmn:endEvent id="Event_1o3pfw9"><bpmn:incoming>Flow_1ltssts</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1vmwoar" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1au16id" name="Устанавливаем признак" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_003gijz</bpmn:incoming><bpmn:outgoing>Flow_1ltssts</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1jyex0a" sourceRef="Event_005lkb1" targetRef="Gateway_0wb676a" /><bpmn:sequenceFlow id="Flow_0wyrel9" sourceRef="Gateway_0wb676a" targetRef="Activity_12awn9f" /><bpmn:sequenceFlow id="Flow_0waxiw4" sourceRef="Gateway_0wb676a" targetRef="Activity_09aldds" /><bpmn:sequenceFlow id="Flow_0shhj57" sourceRef="Activity_09aldds" targetRef="Activity_0lqoihv" /><bpmn:sequenceFlow id="Flow_1wgcfld" sourceRef="Activity_0lqoihv" targetRef="Event_04klirj" /><bpmn:sequenceFlow id="Flow_003gijz" sourceRef="Activity_12awn9f" targetRef="Activity_1au16id" /><bpmn:sequenceFlow id="Flow_1ltssts" sourceRef="Activity_1au16id" targetRef="Event_1o3pfw9" /><bpmn:userTask id="Activity_1dgz542" name="Ручная привязка МТ 539" camunda:candidateGroups="cb_directordp, cb_headmiddleofice, cb_managermiddleoffice, jira-users"><bpmn:extensionElements><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Otbor539&#34;,&#34;label&#34;:&#34;Ручной отбор MT539&#34;,&#34;type&#34;:&#34;swift&#34;}" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>Flow_0tit4fh</bpmn:incoming><bpmn:incoming>Flow_0culex1</bpmn:incoming><bpmn:outgoing>Flow_04217d5</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_11kxgrm" name="Устанавливаем признак isRejected = false" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0vodyjg</bpmn:incoming><bpmn:outgoing>Flow_18mtggs</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_1pl0g72"><bpmn:incoming>Flow_18mtggs</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_03i3y3f" /></bpmn:endEvent><bpmn:serviceTask id="Activity_004gkld" name="Проводим метчинг"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/condition/evaluate/539FindPair?leftType=SWIFT&amp;leftId=${swiftId}&amp;rightType=BOOK&amp;rightId=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="matchingResult">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_04217d5</bpmn:incoming><bpmn:outgoing>Flow_00p7hma</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0q26nx5" default="Flow_0vodyjg"><bpmn:incoming>Flow_00p7hma</bpmn:incoming><bpmn:outgoing>Flow_0vodyjg</bpmn:outgoing><bpmn:outgoing>Flow_0ztidxv</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_0lastk0" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+прикрепленного+SWIFT</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ztidxv</bpmn:incoming><bpmn:outgoing>Flow_0tit4fh</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0tit4fh" sourceRef="Activity_0lastk0" targetRef="Activity_1dgz542" /><bpmn:sequenceFlow id="Flow_04217d5" sourceRef="Activity_1dgz542" targetRef="Activity_004gkld" /><bpmn:sequenceFlow id="Flow_0vodyjg" sourceRef="Gateway_0q26nx5" targetRef="Activity_11kxgrm" /><bpmn:sequenceFlow id="Flow_18mtggs" sourceRef="Activity_11kxgrm" targetRef="Event_1pl0g72" /><bpmn:sequenceFlow id="Flow_00p7hma" sourceRef="Activity_004gkld" targetRef="Gateway_0q26nx5" /><bpmn:sequenceFlow id="Flow_0ztidxv" sourceRef="Gateway_0q26nx5" targetRef="Activity_0lastk0"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${matchingResult == 'false'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0culex1" sourceRef="Gateway_0wb676a" targetRef="Activity_1dgz542" /></bpmn:subProcess><bpmn:exclusiveGateway id="Gateway_137rpz0" default="Flow_04izm31"><bpmn:incoming>Flow_1oqpep6</bpmn:incoming><bpmn:outgoing>Flow_04izm31</bpmn:outgoing><bpmn:outgoing>Flow_1jgxlvg</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1oqpep6" sourceRef="Activity_1v8a5d4" targetRef="Gateway_137rpz0" /><bpmn:sequenceFlow id="Flow_04izm31" sourceRef="Gateway_137rpz0" targetRef="ServiceTask_0meeu3h" /><bpmn:sequenceFlow id="Flow_1jgxlvg" sourceRef="Gateway_137rpz0" targetRef="ServiceTask_007u1gh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1xaevqu" sourceRef="ServiceTask_0meeu3h" targetRef="Activity_1cb4mb3" /><bpmn:serviceTask id="Activity_1cb4mb3" name="Смотрим Дату"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_DOCREG_DATE</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="SWIFT_DOCREG_DATE"><camunda:script scriptFormat="javascript">response.replace(/"/g, '').substring(0, 10)</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1xaevqu</bpmn:incoming><bpmn:outgoing>Flow_1qcp8fy</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1qcp8fy" sourceRef="Activity_1cb4mb3" targetRef="ServiceTask_08m5emy" /><bpmn:sequenceFlow id="Flow_1ka7nqx" sourceRef="ServiceTask_08m5emy" targetRef="ExclusiveGateway_1vs94l2" /><bpmn:sequenceFlow id="Flow_0v66ulp" sourceRef="ReceiveTask_18male7" targetRef="ServiceTask_0meeu3h" /><bpmn:sequenceFlow id="Flow_14bt3y9" sourceRef="ServiceTask_159fqlp" targetRef="ServiceTask_0w9yax1" /><bpmn:sequenceFlow id="Flow_0085ktm" sourceRef="ServiceTask_0w9yax1" targetRef="ReceiveTask_18male7" /><bpmn:scriptTask id="Activity_1uoflg8" name="Считаем разницу между датами" scriptFormat="javascript" camunda:resultVariable="difference"><bpmn:incoming>Flow_0t13ifg</bpmn:incoming><bpmn:outgoing>Flow_0izzcvp</bpmn:outgoing><bpmn:script>Math.floor(Math.abs(new Date(acceptDate) - new Date(regDate))/(1000 * 60 * 60 * 24));</bpmn:script></bpmn:scriptTask><bpmn:exclusiveGateway id="Gateway_0vpbd0k" default="Flow_1jhd6nq"><bpmn:incoming>Flow_0izzcvp</bpmn:incoming><bpmn:outgoing>Flow_1jhd6nq</bpmn:outgoing><bpmn:outgoing>Flow_09bp6cn</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0izzcvp" sourceRef="Activity_1uoflg8" targetRef="Gateway_0vpbd0k" /><bpmn:serviceTask id="Activity_0wlhvx9" name="Меняем дату регистрации договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${agreementId}/setAttribute/hlk_Contract_Start_Date?incrementVersion=true&amp;value=${acceptDate}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">**</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1jhd6nq</bpmn:incoming><bpmn:outgoing>Flow_1eo8jsh</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0t13ifg" sourceRef="ScriptTask_02lgwfl" targetRef="Activity_1uoflg8" /><bpmn:sequenceFlow id="Flow_1jhd6nq" sourceRef="Gateway_0vpbd0k" targetRef="Activity_0wlhvx9" /><bpmn:sequenceFlow id="Flow_09bp6cn" sourceRef="Gateway_0vpbd0k" targetRef="CallActivity_0tgvuh9"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${difference &lt;= 3}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0407xt8" sourceRef="CallActivity_0tgvuh9" targetRef="ServiceTask_0afg7as" /><bpmn:sequenceFlow id="Flow_0r2d0hi" sourceRef="ServiceTask_13jdxdi" targetRef="Activity_1j7g4oc" /><bpmn:sequenceFlow id="Flow_1atgnjj" sourceRef="ServiceTask_0afg7as" targetRef="ServiceTask_0uini6o" /><bpmn:sequenceFlow id="Flow_0fwrb8l" sourceRef="ServiceTask_1epzigk" targetRef="ScriptTask_02lgwfl" /><bpmn:subProcess id="Activity_0hvi8pc"><bpmn:incoming>SequenceFlow_0wqyj8r</bpmn:incoming><bpmn:outgoing>Flow_02prfk4</bpmn:outgoing><bpmn:receiveTask id="Activity_1mvltv3" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_1ga7zou"><bpmn:incoming>Flow_0a340y2</bpmn:incoming><bpmn:outgoing>Flow_15blz1m</bpmn:outgoing></bpmn:receiveTask><bpmn:userTask id="Activity_1qd30bc" name="Возврат к заполнению" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_0t25inf</bpmn:incoming><bpmn:outgoing>Flow_0ide1yq</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_0c104n2" name="Устанавливаем признак" camunda:expression="true" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0ide1yq</bpmn:incoming><bpmn:outgoing>Flow_1gw50gb</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_0o4huqt"><bpmn:incoming>Flow_1gw50gb</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1ue0ddu" /></bpmn:endEvent><bpmn:endEvent id="Event_1jluyi8"><bpmn:incoming>Flow_1w5x2dt</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_05hshmw" /></bpmn:endEvent><bpmn:serviceTask id="Activity_10wefwl" name="Устанавливаем признак" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_15blz1m</bpmn:incoming><bpmn:outgoing>Flow_1w5x2dt</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="Activity_0yznafm" name="Ручная привязка МТ 539" camunda:candidateGroups="cb_directordp, cb_headmiddleofice, cb_managermiddleoffice, jira-users"><bpmn:extensionElements><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Otbor539&#34;,&#34;label&#34;:&#34;Ручной отбор MT539&#34;,&#34;type&#34;:&#34;swift&#34;}" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>Flow_15hfie1</bpmn:incoming><bpmn:incoming>Flow_0egnbmr</bpmn:incoming><bpmn:outgoing>Flow_0odw8k0</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_14vp6bv" name="Проводим метчинг"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/condition/evaluate/539FindPair?leftType=SWIFT&amp;leftId=${swiftId}&amp;rightType=BOOK&amp;rightId=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="matchingResult">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0odw8k0</bpmn:incoming><bpmn:outgoing>Flow_03c8q2u</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="Gateway_1v6a9s1"><bpmn:incoming>Flow_013x7is</bpmn:incoming><bpmn:outgoing>Flow_0a340y2</bpmn:outgoing><bpmn:outgoing>Flow_0t25inf</bpmn:outgoing><bpmn:outgoing>Flow_0egnbmr</bpmn:outgoing></bpmn:parallelGateway><bpmn:startEvent id="Event_0dggl2a"><bpmn:outgoing>Flow_013x7is</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id="Event_0uwcgj6"><bpmn:incoming>Flow_188vrrp</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_14ecf4k" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1pj8va3" name="Устанавливаем признак isRejected = false" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_1cvn7ik</bpmn:incoming><bpmn:outgoing>Flow_188vrrp</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0v46zf7" default="Flow_1cvn7ik"><bpmn:incoming>Flow_03c8q2u</bpmn:incoming><bpmn:outgoing>Flow_1cvn7ik</bpmn:outgoing><bpmn:outgoing>Flow_1u5bl9y</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_1l1tflm" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+прикрепленного+SWIFT</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1u5bl9y</bpmn:incoming><bpmn:outgoing>Flow_15hfie1</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_013x7is" sourceRef="Event_0dggl2a" targetRef="Gateway_1v6a9s1" /><bpmn:sequenceFlow id="Flow_0a340y2" sourceRef="Gateway_1v6a9s1" targetRef="Activity_1mvltv3" /><bpmn:sequenceFlow id="Flow_0t25inf" sourceRef="Gateway_1v6a9s1" targetRef="Activity_1qd30bc" /><bpmn:sequenceFlow id="Flow_15blz1m" sourceRef="Activity_1mvltv3" targetRef="Activity_10wefwl" /><bpmn:sequenceFlow id="Flow_0ide1yq" sourceRef="Activity_1qd30bc" targetRef="Activity_0c104n2" /><bpmn:sequenceFlow id="Flow_1gw50gb" sourceRef="Activity_0c104n2" targetRef="Event_0o4huqt" /><bpmn:sequenceFlow id="Flow_1w5x2dt" sourceRef="Activity_10wefwl" targetRef="Event_1jluyi8" /><bpmn:sequenceFlow id="Flow_15hfie1" sourceRef="Activity_1l1tflm" targetRef="Activity_0yznafm" /><bpmn:sequenceFlow id="Flow_0odw8k0" sourceRef="Activity_0yznafm" targetRef="Activity_14vp6bv" /><bpmn:sequenceFlow id="Flow_1cvn7ik" sourceRef="Gateway_0v46zf7" targetRef="Activity_1pj8va3" /><bpmn:sequenceFlow id="Flow_188vrrp" sourceRef="Activity_1pj8va3" targetRef="Event_0uwcgj6" /><bpmn:sequenceFlow id="Flow_03c8q2u" sourceRef="Activity_14vp6bv" targetRef="Gateway_0v46zf7" /><bpmn:sequenceFlow id="Flow_1u5bl9y" sourceRef="Gateway_0v46zf7" targetRef="Activity_1l1tflm"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${matchingResult == 'false'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0egnbmr" sourceRef="Gateway_1v6a9s1" targetRef="Activity_0yznafm" /></bpmn:subProcess><bpmn:exclusiveGateway id="Gateway_0p56alq" default="Flow_18975l8"><bpmn:incoming>Flow_02prfk4</bpmn:incoming><bpmn:outgoing>Flow_0to30yh</bpmn:outgoing><bpmn:outgoing>Flow_18975l8</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_02prfk4" sourceRef="Activity_0hvi8pc" targetRef="Gateway_0p56alq" /><bpmn:sequenceFlow id="Flow_0to30yh" sourceRef="Gateway_0p56alq" targetRef="ServiceTask_1ug3flh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_18975l8" sourceRef="Gateway_0p56alq" targetRef="ServiceTask_1nxdual" /><bpmn:exclusiveGateway id="Gateway_0sublci" default="Flow_1bgjnal"><bpmn:incoming>Flow_1n4sc8b</bpmn:incoming><bpmn:outgoing>Flow_0mrds4m</bpmn:outgoing><bpmn:outgoing>Flow_0ib0bvu</bpmn:outgoing><bpmn:outgoing>Flow_1bgjnal</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1n4sc8b" sourceRef="ServiceTask_1f41crz" targetRef="Gateway_0sublci" /><bpmn:sequenceFlow id="Flow_0mrds4m" sourceRef="Gateway_0sublci" targetRef="ServiceTask_0jki94m"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "00"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0ib0bvu" sourceRef="Gateway_0sublci" targetRef="ServiceTask_1oe2c03"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "30"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0704ek1" sourceRef="ServiceTask_1oe2c03" targetRef="ServiceTask_18jsybx" /><bpmn:sequenceFlow id="Flow_0930844" sourceRef="ServiceTask_18jsybx" targetRef="ReceiveTask_0le26ek" /><bpmn:sequenceFlow id="Flow_1ljaivu" sourceRef="ReceiveTask_0le26ek" targetRef="ServiceTask_1nxdual" /><bpmn:sequenceFlow id="Flow_1bgjnal" sourceRef="Gateway_0sublci" targetRef="ServiceTask_1ug3flh" /><bpmn:sequenceFlow id="Flow_1eo8jsh" sourceRef="Activity_0wlhvx9" targetRef="CallActivity_0tgvuh9" /><bpmn:sequenceFlow id="Flow_0nsps3i" sourceRef="ExclusiveGateway_1vs94l2" targetRef="ServiceTask_007u1gh" /><bpmn:sequenceFlow id="Flow_0h94n44" sourceRef="Gateway_12aqfvb" targetRef="ServiceTask_01x8tan"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isTeska == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="Gateway_12aqfvb" default="Flow_1aej8b1"><bpmn:incoming>SequenceFlow_0n3zlkc</bpmn:incoming><bpmn:outgoing>Flow_0h94n44</bpmn:outgoing><bpmn:outgoing>Flow_1aej8b1</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1aej8b1" sourceRef="Gateway_12aqfvb" targetRef="ExclusiveGateway_05fivye" /><bpmn:sequenceFlow id="Flow_0ylvvus" sourceRef="ServiceTask_00fjffw" targetRef="Activity_1aqb40e" /><bpmn:sequenceFlow id="Flow_1xbzo0l" sourceRef="Activity_1aqb40e" targetRef="Activity_1grze9q" /><bpmn:serviceTask id="Activity_1aqb40e" name="Устанавливаем признак isTeska = false" camunda:expression="false" camunda:resultVariable="isTeska"><bpmn:incoming>Flow_0ylvvus</bpmn:incoming><bpmn:outgoing>Flow_1xbzo0l</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_141akie" name="Устанавливаем признак isTeska = true" camunda:expression="true" camunda:resultVariable="isTeska"><bpmn:incoming>Flow_02kmhpb</bpmn:incoming><bpmn:outgoing>Flow_0ut0pnt</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_02kmhpb" sourceRef="Activity_0kkm6zh" targetRef="Activity_141akie" /><bpmn:sequenceFlow id="Flow_0ut0pnt" sourceRef="Activity_141akie" targetRef="Activity_0jbumzw" /><bpmn:sequenceFlow id="Flow_0h3bdrl" sourceRef="Gateway_0bg88gc" targetRef="ServiceTask_0f7exdu"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isTeska == false &amp;&amp; found == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="Gateway_0bg88gc" default="Flow_18hu9ui"><bpmn:incoming>Flow_18klzdu</bpmn:incoming><bpmn:outgoing>Flow_0h3bdrl</bpmn:outgoing><bpmn:outgoing>Flow_18hu9ui</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_18hu9ui" sourceRef="Gateway_0bg88gc" targetRef="ExclusiveGateway_1ghlpx0" /><bpmn:serviceTask id="Activity_1grze9q" name="Устанавливаем признак found = false" camunda:expression="false" camunda:resultVariable="found"><bpmn:incoming>Flow_1xbzo0l</bpmn:incoming><bpmn:outgoing>Flow_0fz61eg</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0fz61eg" sourceRef="Activity_1grze9q" targetRef="ServiceTask_0gwsykl" /></bpmn:process><bpmn:message id="Message_1f6ajpu" name="bookReady" /><bpmn:message id="Message_0boghnk" name="539Receive" /><bpmn:signal id="Signal_137w5pm" name="bookUpdateReceive${instanceId}" /><bpmn:message id="Message_04uubq6" name="clientUpdated" /><bpmn:signal id="Signal_0htcceq" name="q" /><bpmn:message id="Message_1yakock" name="539Receive" /><bpmn:message id="Message_0vefyb0" name="539Receive" /><bpmn:message id="Message_1ga7zou" name="539Receive" /><bpmn:message id="Message_0naumfn" name="clientUpdated" /><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TEMPLATE_INSTANCE_PROCESS_hlk_ip_app_change_45c78356-705a-428e-abc5-4af725d112f4"><bpmndi:BPMNEdge id="Flow_0fz61eg_di" bpmnElement="Flow_0fz61eg"><di:waypoint x="3477" y="1578" /><di:waypoint x="3477" y="1608" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18hu9ui_di" bpmnElement="Flow_18hu9ui"><di:waypoint x="6230" y="1384" /><di:waypoint x="6230" y="1498" /><di:waypoint x="6408" y="1498" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0h3bdrl_di" bpmnElement="Flow_0h3bdrl"><di:waypoint x="6255" y="1359" /><di:waypoint x="6280" y="1359" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ut0pnt_di" bpmnElement="Flow_0ut0pnt"><di:waypoint x="5020" y="450" /><di:waypoint x="5106" y="450" /><di:waypoint x="5106" y="377" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_02kmhpb_di" bpmnElement="Flow_02kmhpb"><di:waypoint x="4970" y="377" /><di:waypoint x="4970" y="410" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1xbzo0l_di" bpmnElement="Flow_1xbzo0l"><di:waypoint x="3404" y="1538" /><di:waypoint x="3427" y="1538" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ylvvus_di" bpmnElement="Flow_0ylvvus"><di:waypoint x="3354" y="1608" /><di:waypoint x="3354" y="1578" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1aej8b1_di" bpmnElement="Flow_1aej8b1"><di:waypoint x="6405" y="890" /><di:waypoint x="6870" y="936" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0h94n44_di" bpmnElement="Flow_0h94n44"><di:waypoint x="6380" y="865" /><di:waypoint x="6380" y="800" /><di:waypoint x="6460" y="800" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0nsps3i_di" bpmnElement="Flow_0nsps3i"><di:waypoint x="9220" y="1701" /><di:waypoint x="9220" y="1880" /><di:waypoint x="8730" y="1880" /><di:waypoint x="8730" y="1940" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1eo8jsh_di" bpmnElement="Flow_1eo8jsh"><di:waypoint x="9990" y="1578" /><di:waypoint x="9990" y="1646" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1bgjnal_di" bpmnElement="Flow_1bgjnal"><di:waypoint x="8890" y="2445" /><di:waypoint x="8890" y="2530" /><di:waypoint x="8730" y="2530" /><di:waypoint x="8730" y="2590" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ljaivu_di" bpmnElement="Flow_1ljaivu"><di:waypoint x="8610" y="2335" /><di:waypoint x="8610" y="2380" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0930844_di" bpmnElement="Flow_0930844"><di:waypoint x="8710" y="2295" /><di:waypoint x="8660" y="2295" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0704ek1_di" bpmnElement="Flow_0704ek1"><di:waypoint x="8840" y="2295" /><di:waypoint x="8810" y="2295" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ib0bvu_di" bpmnElement="Flow_0ib0bvu"><di:waypoint x="8890" y="2395" /><di:waypoint x="8890" y="2335" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0mrds4m_di" bpmnElement="Flow_0mrds4m"><di:waypoint x="8915" y="2420" /><di:waypoint x="8990" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1n4sc8b_di" bpmnElement="Flow_1n4sc8b"><di:waypoint x="8810" y="2420" /><di:waypoint x="8865" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18975l8_di" bpmnElement="Flow_18975l8"><di:waypoint x="8610" y="2502" /><di:waypoint x="8610" y="2460" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0to30yh_di" bpmnElement="Flow_0to30yh"><di:waypoint x="8610" y="2552" /><di:waypoint x="8610" y="2630" /><di:waypoint x="8680" y="2630" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_02prfk4_di" bpmnElement="Flow_02prfk4"><di:waypoint x="8518" y="2527" /><di:waypoint x="8585" y="2527" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0fwrb8l_di" bpmnElement="Flow_0fwrb8l"><di:waypoint x="9390" y="1686" /><di:waypoint x="9463" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1atgnjj_di" bpmnElement="Flow_1atgnjj"><di:waypoint x="10390" y="1686" /><di:waypoint x="10462" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0r2d0hi_di" bpmnElement="Flow_0r2d0hi"><di:waypoint x="11700" y="1686" /><di:waypoint x="11773" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0407xt8_di" bpmnElement="Flow_0407xt8"><di:waypoint x="10040" y="1686" /><di:waypoint x="10290" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_09bp6cn_di" bpmnElement="Flow_09bp6cn"><di:waypoint x="9855" y="1686" /><di:waypoint x="9940" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1jhd6nq_di" bpmnElement="Flow_1jhd6nq"><di:waypoint x="9830" y="1661" /><di:waypoint x="9830" y="1538" /><di:waypoint x="9940" y="1538" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0t13ifg_di" bpmnElement="Flow_0t13ifg"><di:waypoint x="9563" y="1686" /><di:waypoint x="9640" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0izzcvp_di" bpmnElement="Flow_0izzcvp"><di:waypoint x="9740" y="1686" /><di:waypoint x="9805" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0085ktm_di" bpmnElement="Flow_0085ktm"><di:waypoint x="8920" y="1790" /><di:waypoint x="8885" y="1790" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14bt3y9_di" bpmnElement="Flow_14bt3y9"><di:waypoint x="9043" y="1790" /><di:waypoint x="9020" y="1790" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0v66ulp_di" bpmnElement="Flow_0v66ulp"><di:waypoint x="8785" y="1790" /><di:waypoint x="8770" y="1790" /><di:waypoint x="8770" y="1726" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ka7nqx_di" bpmnElement="Flow_1ka7nqx"><di:waypoint x="9100" y="1686" /><di:waypoint x="9185" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1qcp8fy_di" bpmnElement="Flow_1qcp8fy"><di:waypoint x="8960" y="1686" /><di:waypoint x="9000" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1xaevqu_di" bpmnElement="Flow_1xaevqu"><di:waypoint x="8830" y="1686" /><di:waypoint x="8860" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1jgxlvg_di" bpmnElement="Flow_1jgxlvg"><di:waypoint x="8670" y="1795" /><di:waypoint x="8670" y="1980" /><di:waypoint x="8680" y="1980" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_04izm31_di" bpmnElement="Flow_04izm31"><di:waypoint x="8670" y="1745" /><di:waypoint x="8670" y="1686" /><di:waypoint x="8730" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1oqpep6_di" bpmnElement="Flow_1oqpep6"><di:waypoint x="8610" y="1770" /><di:waypoint x="8645" y="1770" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_05ztljb_di" bpmnElement="Flow_05ztljb"><di:waypoint x="11793" y="1038" /><di:waypoint x="12140" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1uon5be_di" bpmnElement="Flow_1uon5be"><di:waypoint x="10240" y="2420" /><di:waypoint x="10290" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0e3ss5o_di" bpmnElement="Flow_0e3ss5o"><di:waypoint x="10080" y="2420" /><di:waypoint x="10140" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10wso3l_di" bpmnElement="Flow_10wso3l"><di:waypoint x="10390" y="2420" /><di:waypoint x="10440" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0zwfv56_di" bpmnElement="Flow_0zwfv56"><di:waypoint x="10714" y="2420" /><di:waypoint x="10756" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0cwm71y_di" bpmnElement="Flow_0cwm71y"><di:waypoint x="10540" y="2420" /><di:waypoint x="10614" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1jac1u7_di" bpmnElement="Flow_1jac1u7"><di:waypoint x="9910" y="2420" /><di:waypoint x="9980" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1vn8784_di" bpmnElement="Flow_1vn8784"><di:waypoint x="12530" y="1686" /><di:waypoint x="12578" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_19gyq1p_di" bpmnElement="Flow_19gyq1p"><di:waypoint x="12120" y="1686" /><di:waypoint x="12150" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0n50dro_di" bpmnElement="Flow_0n50dro"><di:waypoint x="12000" y="1686" /><di:waypoint x="12020" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1apdu2e_di" bpmnElement="Flow_1apdu2e"><di:waypoint x="12250" y="1686" /><di:waypoint x="12290" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1qwysd3_di" bpmnElement="Flow_1qwysd3"><di:waypoint x="12390" y="1686" /><di:waypoint x="12430" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0jvuep0_di" bpmnElement="Flow_0jvuep0"><di:waypoint x="11873" y="1686" /><di:waypoint x="11900" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1hvpbnw_di" bpmnElement="Flow_1hvpbnw"><di:waypoint x="12980" y="1038" /><di:waypoint x="13033" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14jzw5d_di" bpmnElement="Flow_14jzw5d"><di:waypoint x="12533" y="1038" /><di:waypoint x="12573" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_04p37gp_di" bpmnElement="Flow_04p37gp"><di:waypoint x="3040" y="1656" /><di:waypoint x="3051" y="1656" /><di:waypoint x="3051" y="1651" /><di:waypoint x="3061" y="1651" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1dhb0xn_di" bpmnElement="Flow_1dhb0xn"><di:waypoint x="2890" y="1650" /><di:waypoint x="2915" y="1650" /><di:waypoint x="2915" y="1656" /><di:waypoint x="2940" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0yme9g5_di" bpmnElement="Flow_0yme9g5"><di:waypoint x="10320" y="1038" /><di:waypoint x="10343" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_103j0nn_di" bpmnElement="Flow_103j0nn"><di:waypoint x="10197" y="1038" /><di:waypoint x="10220" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1m3e3uy_di" bpmnElement="Flow_1m3e3uy"><di:waypoint x="5790" y="337" /><di:waypoint x="5824" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0k23uc8_di" bpmnElement="Flow_0k23uc8"><di:waypoint x="5659" y="337" /><di:waypoint x="5690" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1c2eopd_di" bpmnElement="Flow_1c2eopd"><di:waypoint x="5564" y="337" /><di:waypoint x="5609" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0nuutwb_di" bpmnElement="Flow_0nuutwb"><di:waypoint x="4720" y="170" /><di:waypoint x="4720" y="90" /><di:waypoint x="5530" y="90" /><di:waypoint x="5530" y="297" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0kkgdy0_di" bpmnElement="Flow_0kkgdy0"><di:waypoint x="4720" y="312" /><di:waypoint x="4720" y="250" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0idmr62_di" bpmnElement="Flow_0idmr62"><di:waypoint x="4650" y="337" /><di:waypoint x="4695" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0pgzht5_di" bpmnElement="Flow_0pgzht5"><di:waypoint x="4520" y="337" /><di:waypoint x="4550" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0j84msn_di" bpmnElement="Flow_0j84msn"><di:waypoint x="4890" y="210" /><di:waypoint x="5500" y="210" /><di:waypoint x="5500" y="297" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1y3fjs2_di" bpmnElement="Flow_1y3fjs2"><di:waypoint x="5156" y="337" /><di:waypoint x="5190" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10nu8y4_di" bpmnElement="Flow_10nu8y4"><di:waypoint x="5426" y="337" /><di:waypoint x="5464" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ntc5i2_di" bpmnElement="Flow_0ntc5i2"><di:waypoint x="5290" y="337" /><di:waypoint x="5326" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1anjqrz_di" bpmnElement="Flow_1anjqrz"><di:waypoint x="4840" y="312" /><di:waypoint x="4840" y="250" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hil4uk_di" bpmnElement="Flow_0hil4uk"><di:waypoint x="4865" y="337" /><di:waypoint x="4920" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_00uihvs_di" bpmnElement="Flow_00uihvs"><di:waypoint x="4745" y="337" /><di:waypoint x="4815" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0gdqtl4_di" bpmnElement="Flow_0gdqtl4"><di:waypoint x="6558" y="1578" /><di:waypoint x="6610" y="1578" /><di:waypoint x="6690" y="1550" /><di:waypoint x="6690" y="1500" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_01m1bnk_di" bpmnElement="Flow_01m1bnk"><di:waypoint x="6533" y="1603" /><di:waypoint x="6533" y="1646" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_080u4ii_di" bpmnElement="Flow_080u4ii"><di:waypoint x="5874" y="377" /><di:waypoint x="5874" y="860" /><di:waypoint x="4720" y="860" /><di:waypoint x="4720" y="1526" /><di:waypoint x="4676" y="1526" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_17tw546_di" bpmnElement="Flow_17tw546"><di:waypoint x="5634" y="362" /><di:waypoint x="5634" y="770" /><di:waypoint x="4652" y="770" /><di:waypoint x="4652" y="1486" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0xd9oae_di" bpmnElement="Flow_0xd9oae"><di:waypoint x="4405" y="1415" /><di:waypoint x="4405" y="337" /><di:waypoint x="4420" y="337" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_12nd9eo_di" bpmnElement="Flow_12nd9eo"><di:waypoint x="4430" y="1440" /><di:waypoint x="4450" y="1440" /><di:waypoint x="4450" y="1430" /><di:waypoint x="4470" y="1430" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0a406to_di" bpmnElement="Flow_0a406to"><di:waypoint x="4570" y="1430" /><di:waypoint x="4626" y="1430" /><di:waypoint x="4626" y="1486" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ywskze_di" bpmnElement="Flow_0ywskze"><di:waypoint x="4410" y="1608" /><di:waypoint x="4410" y="1581" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10zjt66_di" bpmnElement="Flow_10zjt66"><di:waypoint x="4430" y="1501" /><di:waypoint x="4430" y="1483" /><di:waypoint x="4405" y="1483" /><di:waypoint x="4405" y="1465" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1itw7f9_di" bpmnElement="Flow_1itw7f9"><di:waypoint x="9213" y="950" /><di:waypoint x="9213" y="998" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0gmbdzp_di" bpmnElement="Flow_0gmbdzp"><di:waypoint x="9577" y="1013" /><di:waypoint x="9577" y="910" /><di:waypoint x="9530" y="910" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_170go70_di" bpmnElement="Flow_170go70"><di:waypoint x="8183" y="1208" /><di:waypoint x="8132" y="1208" /><di:waypoint x="8132" y="1280" /><di:waypoint x="8080" y="1280" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_036jm64_di" bpmnElement="Flow_036jm64"><di:waypoint x="9103" y="1063" /><di:waypoint x="9103" y="1168" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1xqsj7x_di" bpmnElement="Flow_1xqsj7x"><di:waypoint x="8793" y="1208" /><di:waypoint x="8763" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10f4n42_di" bpmnElement="Flow_10f4n42"><di:waypoint x="8363" y="1208" /><di:waypoint x="8283" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0cmlbw6_di" bpmnElement="Flow_0cmlbw6"><di:waypoint x="8523" y="1208" /><di:waypoint x="8463" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0youcpy_di" bpmnElement="Flow_0youcpy"><di:waypoint x="8663" y="1208" /><di:waypoint x="8623" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1pvtigg_di" bpmnElement="Flow_1pvtigg"><di:waypoint x="9053" y="1208" /><di:waypoint x="8893" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_08asnqy_di" bpmnElement="Flow_08asnqy"><di:waypoint x="9128" y="1038" /><di:waypoint x="9163" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0yp103i_di" bpmnElement="Flow_0yp103i"><di:waypoint x="9520" y="1038" /><di:waypoint x="9552" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0bpymq8_di" bpmnElement="Flow_0bpymq8"><di:waypoint x="9400" y="1038" /><di:waypoint x="9420" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_15l9526_di" bpmnElement="Flow_15l9526"><di:waypoint x="9430" y="910" /><di:waypoint x="9400" y="910" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0o4nqur_di" bpmnElement="Flow_0o4nqur"><di:waypoint x="9263" y="1038" /><di:waypoint x="9300" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ggmqka_di" bpmnElement="Flow_0ggmqka"><di:waypoint x="9300" y="910" /><di:waypoint x="9263" y="910" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hdjbtw_di" bpmnElement="Flow_0hdjbtw"><di:waypoint x="9103" y="802" /><di:waypoint x="9103" y="1013" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1q2muf0_di" bpmnElement="Flow_1q2muf0"><di:waypoint x="5620" y="1513" /><di:waypoint x="5666" y="1513" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18klzdu_di" bpmnElement="Flow_18klzdu"><di:waypoint x="6190" y="1359" /><di:waypoint x="6205" y="1359" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1qebb3k_di" bpmnElement="Flow_1qebb3k"><di:waypoint x="5960" y="956" /><di:waypoint x="4320" y="956" /><di:waypoint x="4320" y="1490" /><di:waypoint x="3942" y="1629" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_07tfidq_di" bpmnElement="Flow_07tfidq"><di:waypoint x="6010" y="1243" /><di:waypoint x="6010" y="996" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_16ta8bo_di" bpmnElement="Flow_16ta8bo"><di:waypoint x="6010" y="1293" /><di:waypoint x="6010" y="1306" /><di:waypoint x="6020" y="1306" /><di:waypoint x="6020" y="1319" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06o07xl_di" bpmnElement="Flow_06o07xl"><di:waypoint x="5958" y="1268" /><di:waypoint x="5985" y="1268" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_035nhek_di" bpmnElement="Flow_035nhek"><di:waypoint x="1140" y="1656" /><di:waypoint x="1210" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_05m4scb_di" bpmnElement="Flow_05m4scb"><di:waypoint x="1000" y="1656" /><di:waypoint x="1040" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0cdo22x_di" bpmnElement="Flow_0cdo22x"><di:waypoint x="4830" y="1860" /><di:waypoint x="4830" y="2060" /><di:waypoint x="3930" y="2060" /><di:waypoint x="3930" y="1687" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1a2tkho_di" bpmnElement="Flow_1a2tkho"><di:waypoint x="4830" y="1681" /><di:waypoint x="4830" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0turl4t_di" bpmnElement="Flow_0turl4t"><di:waypoint x="4855" y="1656" /><di:waypoint x="5021" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06sdjli_di" bpmnElement="Flow_06sdjli"><di:waypoint x="4830" y="1348" /><di:waypoint x="4830" y="1631" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1c176gz_di" bpmnElement="Flow_1c176gz"><di:waypoint x="4750" y="1608" /><di:waypoint x="4750" y="1348" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1nmyzom_di" bpmnElement="Flow_1nmyzom"><di:waypoint x="4607" y="1648" /><di:waypoint x="4680" y="1648" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ep4rxz_di" bpmnElement="SequenceFlow_1ep4rxz"><di:waypoint x="380" y="1656" /><di:waypoint x="470" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1oy6y5w_di" bpmnElement="SequenceFlow_1oy6y5w"><di:waypoint x="4160" y="1820" /><di:waypoint x="4240" y="1820" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0n9u2ks_di" bpmnElement="SequenceFlow_0n9u2ks"><di:waypoint x="3803" y="1940" /><di:waypoint x="3804" y="1907" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0971ma8_di" bpmnElement="SequenceFlow_0971ma8"><di:waypoint x="7980" y="1306" /><di:waypoint x="6558" y="1306" /><di:waypoint x="6558" y="1118" /><di:waypoint x="5749" y="1118" /><di:waypoint x="5749" y="1000" /><di:waypoint x="4344" y="1000" /><di:waypoint x="4344" y="1526" /><di:waypoint x="3942" y="1626" /><bpmndi:BPMNLabel><dc:Bounds x="5224" y="613" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16ewd4k_di" bpmnElement="SequenceFlow_16ewd4k"><di:waypoint x="9210" y="2048" /><di:waypoint x="6163" y="2048" /><di:waypoint x="6163" y="2277" /><di:waypoint x="3921" y="2295" /><di:waypoint x="3921" y="1687" /><bpmndi:BPMNLabel><dc:Bounds x="5638" y="1676.5" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0sfdt4j_di" bpmnElement="SequenceFlow_0sfdt4j"><di:waypoint x="8550" y="2840" /><di:waypoint x="3906" y="2840" /><di:waypoint x="3906" y="1687" /><bpmndi:BPMNLabel><dc:Bounds x="5241" y="2056" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0nfp3sq_di" bpmnElement="Flow_0nfp3sq"><di:waypoint x="5533" y="1140" /><di:waypoint x="5582" y="1140" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0290i60_di" bpmnElement="Flow_0290i60"><di:waypoint x="5392" y="1140" /><di:waypoint x="5433" y="1140" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0j58fxz_di" bpmnElement="Flow_0j58fxz"><di:waypoint x="5342" y="1383" /><di:waypoint x="5342" y="1180" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_00qbl8i_di" bpmnElement="Flow_00qbl8i"><di:waypoint x="5342" y="1433" /><di:waypoint x="5342" y="1513" /><di:waypoint x="5393" y="1513" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1i1rw3m_di" bpmnElement="Flow_1i1rw3m"><di:waypoint x="5270" y="1408" /><di:waypoint x="5317" y="1408" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_09un3pl_di" bpmnElement="Flow_09un3pl"><di:waypoint x="3810" y="1069" /><di:waypoint x="3826" y="1069" /><di:waypoint x="3826" y="1617" /><di:waypoint x="3842" y="1617" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_156fdy5_di" bpmnElement="Flow_156fdy5"><di:waypoint x="3990" y="1440" /><di:waypoint x="3966" y="1440" /><di:waypoint x="3966" y="1647" /><di:waypoint x="3942" y="1647" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1529vwy_di" bpmnElement="Flow_1529vwy"><di:waypoint x="3783" y="1440" /><di:waypoint x="3813" y="1440" /><di:waypoint x="3813" y="1647" /><di:waypoint x="3842" y="1647" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0fic2pe_di" bpmnElement="SequenceFlow_0fic2pe"><di:waypoint x="1310" y="1656" /><di:waypoint x="1360" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_160bqtq_di" bpmnElement="SequenceFlow_160bqtq"><di:waypoint x="850" y="1656" /><di:waypoint x="900" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0mnef61_di" bpmnElement="SequenceFlow_0mnef61"><di:waypoint x="4163" y="1526" /><di:waypoint x="4163" y="1538" /><di:waypoint x="4093" y="1538" /><di:waypoint x="4093" y="1607" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1yn5prb_di" bpmnElement="SequenceFlow_1yn5prb"><di:waypoint x="3867" y="561" /><di:waypoint x="3760" y="561" /><di:waypoint x="3760" y="1029" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1k04xvc_di" bpmnElement="SequenceFlow_1k04xvc"><di:waypoint x="3867" y="775" /><di:waypoint x="3800" y="775" /><di:waypoint x="3780" y="1029" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1w7c8dl_di" bpmnElement="SequenceFlow_1w7c8dl"><di:waypoint x="3917" y="561" /><di:waypoint x="4113" y="561" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1gqje2o_di" bpmnElement="SequenceFlow_1gqje2o"><di:waypoint x="3892" y="633" /><di:waypoint x="3892" y="586" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0qvpjpx_di" bpmnElement="SequenceFlow_0qvpjpx"><di:waypoint x="3892" y="750" /><di:waypoint x="3892" y="713" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0lkltd0_di" bpmnElement="SequenceFlow_0lkltd0"><di:waypoint x="3892" y="833" /><di:waypoint x="3892" y="800" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rr35m8_di" bpmnElement="SequenceFlow_0rr35m8"><di:waypoint x="3893" y="1507" /><di:waypoint x="3893" y="1489" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_011ddi9_di" bpmnElement="SequenceFlow_011ddi9"><di:waypoint x="3527" y="1649" /><di:waypoint x="3545" y="1649" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1mri8my_di" bpmnElement="SequenceFlow_1mri8my"><di:waypoint x="1602" y="1652" /><di:waypoint x="1623" y="1652" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lzik3x_di" bpmnElement="SequenceFlow_1lzik3x"><di:waypoint x="10953" y="1126" /><di:waypoint x="10988" y="1126" /><di:waypoint x="10988" y="1038" /><di:waypoint x="11023" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0hv8s5a_di" bpmnElement="SequenceFlow_0hv8s5a"><di:waypoint x="10953" y="956" /><di:waypoint x="10988" y="956" /><di:waypoint x="10988" y="1038" /><di:waypoint x="11023" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1gfsrxc_di" bpmnElement="SequenceFlow_1gfsrxc"><di:waypoint x="12813" y="1038" /><di:waypoint x="12880" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1jn0zmy_di" bpmnElement="SequenceFlow_1jn0zmy"><di:waypoint x="13133" y="1038" /><di:waypoint x="13205" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12b96wz_di" bpmnElement="SequenceFlow_12b96wz"><di:waypoint x="12377" y="1038" /><di:waypoint x="12433" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_01zml2l_di" bpmnElement="SequenceFlow_01zml2l"><di:waypoint x="11123" y="1038" /><di:waypoint x="11153" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_05opj57_di" bpmnElement="SequenceFlow_05opj57"><di:waypoint x="11523" y="1038" /><di:waypoint x="11563" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_15rvyxl_di" bpmnElement="SequenceFlow_15rvyxl"><di:waypoint x="11393" y="1038" /><di:waypoint x="11423" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1taj1ls_di" bpmnElement="SequenceFlow_1taj1ls"><di:waypoint x="11253" y="1038" /><di:waypoint x="11293" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_01dbe82_di" bpmnElement="SequenceFlow_01dbe82"><di:waypoint x="12240" y="1038" /><di:waypoint x="12277" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0yun49p_di" bpmnElement="SequenceFlow_0yun49p"><di:waypoint x="11663" y="1038" /><di:waypoint x="11693" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0xvabwx_di" bpmnElement="SequenceFlow_0xvabwx"><di:waypoint x="12673" y="1038" /><di:waypoint x="12713" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1aocrxb_di" bpmnElement="SequenceFlow_1aocrxb"><di:waypoint x="4293" y="1647" /><di:waypoint x="4327" y="1647" /><di:waypoint x="4327" y="1648" /><di:waypoint x="4360" y="1648" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_08gw4bf_di" bpmnElement="SequenceFlow_08gw4bf"><di:waypoint x="6558" y="1498" /><di:waypoint x="6688" y="1498" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0hs2jk2_di" bpmnElement="SequenceFlow_0hs2jk2"><di:waypoint x="6405" y="1038" /><di:waypoint x="6893" y="1038" /><di:waypoint x="6893" y="963" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_144xysp_di" bpmnElement="SequenceFlow_144xysp"><di:waypoint x="10423" y="1233" /><di:waypoint x="10423" y="1306" /><di:waypoint x="8080" y="1306" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0aqyzmr_di" bpmnElement="SequenceFlow_0aqyzmr"><di:waypoint x="10448" y="1208" /><di:waypoint x="10503" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_19gqalp_di" bpmnElement="SequenceFlow_19gqalp"><di:waypoint x="10363" y="1208" /><di:waypoint x="10398" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0wmx4s1_di" bpmnElement="SequenceFlow_0wmx4s1"><di:waypoint x="10210" y="1208" /><di:waypoint x="10263" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02vp0hl_di" bpmnElement="SequenceFlow_02vp0hl"><di:waypoint x="9285" y="1980" /><di:waypoint x="9350" y="1980" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_187ivx3_di" bpmnElement="SequenceFlow_187ivx3"><di:waypoint x="9260" y="2005" /><di:waypoint x="9260" y="2030" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1nj5g9r_di" bpmnElement="SequenceFlow_1nj5g9r"><di:waypoint x="9193" y="1980" /><di:waypoint x="9235" y="1980" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0frmbtk_di" bpmnElement="SequenceFlow_0frmbtk"><di:waypoint x="9060" y="1980" /><di:waypoint x="9093" y="1980" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1k4taah_di" bpmnElement="SequenceFlow_1k4taah"><di:waypoint x="8920" y="1980" /><di:waypoint x="8960" y="1980" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_11jd64i_di" bpmnElement="SequenceFlow_11jd64i"><di:waypoint x="9450" y="1980" /><di:waypoint x="9502" y="1980" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0itot1l_di" bpmnElement="SequenceFlow_0itot1l"><di:waypoint x="8780" y="1980" /><di:waypoint x="8820" y="1980" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1an08kv_di" bpmnElement="SequenceFlow_1an08kv"><di:waypoint x="9295" y="2630" /><di:waypoint x="9343" y="2630" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1sbmhdu_di" bpmnElement="SequenceFlow_1sbmhdu"><di:waypoint x="9270" y="2655" /><di:waypoint x="9270" y="2840" /><di:waypoint x="8650" y="2840" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_135rl0g_di" bpmnElement="SequenceFlow_135rl0g"><di:waypoint x="9200" y="2630" /><di:waypoint x="9245" y="2630" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_10c9fw2_di" bpmnElement="SequenceFlow_10c9fw2"><di:waypoint x="9070" y="2630" /><di:waypoint x="9100" y="2630" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0tcjpsd_di" bpmnElement="SequenceFlow_0tcjpsd"><di:waypoint x="10067" y="1208" /><di:waypoint x="10110" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1483336_di" bpmnElement="SequenceFlow_1483336"><di:waypoint x="4626" y="1566" /><di:waypoint x="4626" y="1587" /><di:waypoint x="4557" y="1587" /><di:waypoint x="4557" y="1608" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1vtg5r8_di" bpmnElement="SequenceFlow_1vtg5r8"><di:waypoint x="10920" y="1790" /><di:waypoint x="10970" y="1790" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_14w1b7j_di" bpmnElement="SequenceFlow_14w1b7j"><di:waypoint x="10664" y="1711" /><di:waypoint x="10664" y="1790" /><di:waypoint x="10820" y="1790" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0cxppv9_di" bpmnElement="SequenceFlow_0cxppv9"><di:waypoint x="10920" y="1578" /><di:waypoint x="10970" y="1578" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_18w7o6w_di" bpmnElement="SequenceFlow_18w7o6w"><di:waypoint x="10664" y="1661" /><di:waypoint x="10664" y="1578" /><di:waypoint x="10820" y="1578" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0slwway_di" bpmnElement="SequenceFlow_0slwway"><di:waypoint x="10562" y="1686" /><di:waypoint x="10639" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ki91xt_di" bpmnElement="SequenceFlow_1ki91xt"><di:waypoint x="10803" y="1126" /><di:waypoint x="10853" y="1126" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1qj70dm_di" bpmnElement="SequenceFlow_1qj70dm"><di:waypoint x="10646" y="1063" /><di:waypoint x="10646" y="1126" /><di:waypoint x="10703" y="1126" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0po1hut_di" bpmnElement="SequenceFlow_0po1hut"><di:waypoint x="10803" y="956" /><di:waypoint x="10853" y="956" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_195gupe_di" bpmnElement="SequenceFlow_195gupe"><di:waypoint x="10646" y="1013" /><di:waypoint x="10646" y="956" /><di:waypoint x="10703" y="956" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0q0dy0a_di" bpmnElement="SequenceFlow_0q0dy0a"><di:waypoint x="10593" y="1038" /><di:waypoint x="10621" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0hjx4vz_di" bpmnElement="SequenceFlow_0hjx4vz"><di:waypoint x="10443" y="1038" /><di:waypoint x="10493" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_13kgz07_di" bpmnElement="SequenceFlow_13kgz07"><di:waypoint x="7343" y="2173" /><di:waypoint x="7376" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_102hl25_di" bpmnElement="SequenceFlow_102hl25"><di:waypoint x="7403" y="1490" /><di:waypoint x="7433" y="1490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ycauxm_di" bpmnElement="SequenceFlow_0ycauxm"><di:waypoint x="8183" y="1038" /><di:waypoint x="8213" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1cuicjo_di" bpmnElement="SequenceFlow_1cuicjo"><di:waypoint x="6533" y="1523" /><di:waypoint x="6533" y="1553" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0q2rt61_di" bpmnElement="SequenceFlow_0q2rt61"><di:waypoint x="6653" y="1648" /><di:waypoint x="6653" y="1586" /><di:waypoint x="6690" y="1586" /><di:waypoint x="6690" y="1500" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_11v9opl_di" bpmnElement="SequenceFlow_11v9opl"><di:waypoint x="6583" y="1686" /><di:waypoint x="6593" y="1686" /><di:waypoint x="6593" y="1688" /><di:waypoint x="6603" y="1688" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1iplsbn_di" bpmnElement="SequenceFlow_1iplsbn"><di:waypoint x="7806" y="1490" /><di:waypoint x="7846" y="1490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0jej3oi_di" bpmnElement="SequenceFlow_0jej3oi"><di:waypoint x="9235" y="1686" /><di:waypoint x="9290" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0uh6bys_di" bpmnElement="SequenceFlow_0uh6bys"><di:waypoint x="9200" y="1701" /><di:waypoint x="9200" y="1790" /><di:waypoint x="9143" y="1790" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0woa324_di" bpmnElement="SequenceFlow_0woa324"><di:waypoint x="11070" y="1790" /><di:waypoint x="11190" y="1790" /><di:waypoint x="11190" y="1726" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0sr7t8h_di" bpmnElement="SequenceFlow_0sr7t8h"><di:waypoint x="11070" y="1578" /><di:waypoint x="11190" y="1578" /><di:waypoint x="11190" y="1646" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0fb8ogm_di" bpmnElement="SequenceFlow_0fb8ogm"><di:waypoint x="8186" y="1530" /><di:waypoint x="8186" y="1560" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dyxiyo_di" bpmnElement="SequenceFlow_1dyxiyo"><di:waypoint x="8093" y="1490" /><di:waypoint x="8136" y="1490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1rveg4k_di" bpmnElement="SequenceFlow_1rveg4k"><di:waypoint x="7946" y="1490" /><di:waypoint x="7993" y="1490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1nrukf5_di" bpmnElement="SequenceFlow_1nrukf5"><di:waypoint x="7666" y="1490" /><di:waypoint x="7706" y="1490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0r6vokm_di" bpmnElement="SequenceFlow_0r6vokm"><di:waypoint x="7533" y="1490" /><di:waypoint x="7566" y="1490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_10hkkia_di" bpmnElement="SequenceFlow_10hkkia"><di:waypoint x="11560" y="1686" /><di:waypoint x="11600" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1plz5cl_di" bpmnElement="SequenceFlow_1plz5cl"><di:waypoint x="11410" y="1686" /><di:waypoint x="11460" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1gzl1jq_di" bpmnElement="SequenceFlow_1gzl1jq"><di:waypoint x="11240" y="1686" /><di:waypoint x="11310" y="1686" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0bowxx1_di" bpmnElement="SequenceFlow_0bowxx1"><di:waypoint x="7243" y="1450" /><di:waypoint x="7243" y="1430" /><di:waypoint x="7353" y="1430" /><di:waypoint x="7353" y="1450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_05bzce9_di" bpmnElement="SequenceFlow_05bzce9"><di:waypoint x="7173" y="1490" /><di:waypoint x="7193" y="1490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1hcsu9e_di" bpmnElement="SequenceFlow_1hcsu9e"><di:waypoint x="7028" y="1598" /><di:waypoint x="7123" y="1598" /><di:waypoint x="7123" y="1530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_07iv6va_di" bpmnElement="SequenceFlow_07iv6va"><di:waypoint x="6923" y="1538" /><di:waypoint x="7003" y="1538" /><di:waypoint x="7003" y="1573" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0xs6gmw_di" bpmnElement="SequenceFlow_0xs6gmw"><di:waypoint x="6753" y="1573" /><di:waypoint x="6753" y="1538" /><di:waypoint x="6823" y="1538" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1mh3h6s_di" bpmnElement="SequenceFlow_1mh3h6s"><di:waypoint x="6713" y="1523" /><di:waypoint x="6713" y="1598" /><di:waypoint x="6728" y="1598" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ycdydd_di" bpmnElement="SequenceFlow_1ycdydd"><di:waypoint x="6923" y="1688" /><di:waypoint x="7003" y="1688" /><di:waypoint x="7003" y="1623" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0dgjz7b_di" bpmnElement="SequenceFlow_0dgjz7b"><di:waypoint x="6753" y="1623" /><di:waypoint x="6753" y="1688" /><di:waypoint x="6823" y="1688" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1j9yl12_di" bpmnElement="SequenceFlow_1j9yl12"><di:waypoint x="7728" y="2173" /><di:waypoint x="7768" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lks3ir_di" bpmnElement="SequenceFlow_1lks3ir"><di:waypoint x="9090" y="2420" /><di:waypoint x="9135" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02l4l5m_di" bpmnElement="SequenceFlow_02l4l5m"><di:waypoint x="8930" y="2630" /><di:waypoint x="8970" y="2630" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0t1jj43_di" bpmnElement="SequenceFlow_0t1jj43"><di:waypoint x="9443" y="2630" /><di:waypoint x="9495" y="2630" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1wnydh5_di" bpmnElement="SequenceFlow_1wnydh5"><di:waypoint x="8780" y="2630" /><di:waypoint x="8830" y="2630" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0lid9y4_di" bpmnElement="SequenceFlow_0lid9y4"><di:waypoint x="8660" y="2420" /><di:waypoint x="8710" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0wqyj8r_di" bpmnElement="SequenceFlow_0wqyj8r"><di:waypoint x="8108" y="2213" /><di:waypoint x="8108" y="2320" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_14h6lyg_di" bpmnElement="SequenceFlow_14h6lyg"><di:waypoint x="8010" y="2173" /><di:waypoint x="8058" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ij8wmu_di" bpmnElement="SequenceFlow_0ij8wmu"><di:waypoint x="7868" y="2173" /><di:waypoint x="7910" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1iyic6y_di" bpmnElement="SequenceFlow_1iyic6y"><di:waypoint x="7588" y="2173" /><di:waypoint x="7628" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_11oom7s_di" bpmnElement="SequenceFlow_11oom7s"><di:waypoint x="7426" y="2133" /><di:waypoint x="7426" y="2118" /><di:waypoint x="7538" y="2118" /><di:waypoint x="7538" y="2133" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gpeqj7_di" bpmnElement="SequenceFlow_0gpeqj7"><di:waypoint x="9600" y="2420" /><di:waypoint x="9650" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02ow8zx_di" bpmnElement="SequenceFlow_02ow8zx"><di:waypoint x="9415" y="2420" /><di:waypoint x="9500" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_13jjfea_di" bpmnElement="SequenceFlow_13jjfea"><di:waypoint x="9235" y="2420" /><di:waypoint x="9315" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12cundm_di" bpmnElement="SequenceFlow_12cundm"><di:waypoint x="9750" y="2420" /><di:waypoint x="9810" y="2420" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_09dz3xn_di" bpmnElement="SequenceFlow_09dz3xn"><di:waypoint x="7223" y="2173" /><di:waypoint x="7243" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_06cl03u_di" bpmnElement="SequenceFlow_06cl03u"><di:waypoint x="7083" y="2173" /><di:waypoint x="7123" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1nwdp4m_di" bpmnElement="SequenceFlow_1nwdp4m"><di:waypoint x="6950" y="2173" /><di:waypoint x="6983" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rgnk9b_di" bpmnElement="SequenceFlow_0rgnk9b"><di:waypoint x="6845" y="2113" /><di:waypoint x="6925" y="2113" /><di:waypoint x="6925" y="2148" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0a4kh8i_di" bpmnElement="SequenceFlow_0a4kh8i"><di:waypoint x="6675" y="2148" /><di:waypoint x="6675" y="2113" /><di:waypoint x="6745" y="2113" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ynqo2p_di" bpmnElement="SequenceFlow_1ynqo2p"><di:waypoint x="6845" y="2263" /><di:waypoint x="6925" y="2263" /><di:waypoint x="6925" y="2198" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0p6lvp6_di" bpmnElement="SequenceFlow_0p6lvp6"><di:waypoint x="6675" y="2198" /><di:waypoint x="6675" y="2263" /><di:waypoint x="6745" y="2263" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16qox74_di" bpmnElement="SequenceFlow_16qox74"><di:waypoint x="6575" y="2173" /><di:waypoint x="6650" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0pojv0h_di" bpmnElement="SequenceFlow_0pojv0h"><di:waypoint x="8603" y="1038" /><di:waypoint x="8643" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ufelnc_di" bpmnElement="SequenceFlow_1ufelnc"><di:waypoint x="6870" y="800" /><di:waypoint x="6893" y="800" /><di:waypoint x="6893" y="913" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gj2dh2_di" bpmnElement="SequenceFlow_0gj2dh2"><di:waypoint x="6725" y="800" /><di:waypoint x="6770" y="800" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1a7b41l_di" bpmnElement="SequenceFlow_1a7b41l"><di:waypoint x="10017" y="1013" /><di:waypoint x="10017" y="898" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0b2m7qx_di" bpmnElement="SequenceFlow_0b2m7qx"><di:waypoint x="9967" y="1038" /><di:waypoint x="9992" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ib16hc_di" bpmnElement="SequenceFlow_0ib16hc"><di:waypoint x="9847" y="1038" /><di:waypoint x="9867" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ibevp2_di" bpmnElement="SequenceFlow_0ibevp2"><di:waypoint x="9727" y="1038" /><di:waypoint x="9747" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1va62rh_di" bpmnElement="SequenceFlow_1va62rh"><di:waypoint x="9910" y="1208" /><di:waypoint x="9967" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0v1bu3s_di" bpmnElement="SequenceFlow_0v1bu3s"><di:waypoint x="9787" y="1208" /><di:waypoint x="9810" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_18j19rd_di" bpmnElement="SequenceFlow_18j19rd"><di:waypoint x="10067" y="858" /><di:waypoint x="10120" y="858" /><di:waypoint x="10120" y="998" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_17d0dvc_di" bpmnElement="SequenceFlow_17d0dvc"><di:waypoint x="10042" y="1038" /><di:waypoint x="10097" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ffsn7v_di" bpmnElement="SequenceFlow_0ffsn7v"><di:waypoint x="10603" y="1208" /><di:waypoint x="10639" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1m3xmdj_di" bpmnElement="SequenceFlow_1m3xmdj"><di:waypoint x="9627" y="1208" /><di:waypoint x="9687" y="1208" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1mfp6v7_di" bpmnElement="SequenceFlow_1mfp6v7"><di:waypoint x="9602" y="1038" /><di:waypoint x="9615" y="1038" /><di:waypoint x="9615" y="1040" /><di:waypoint x="9627" y="1040" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0zjjocb_di" bpmnElement="SequenceFlow_0zjjocb"><di:waypoint x="9577" y="1063" /><di:waypoint x="9577" y="1168" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1i4p0dm_di" bpmnElement="SequenceFlow_1i4p0dm"><di:waypoint x="8983" y="998" /><di:waypoint x="8983" y="802" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0g3gwsr_di" bpmnElement="SequenceFlow_0g3gwsr"><di:waypoint x="8885" y="1038" /><di:waypoint x="8933" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0t516rr_di" bpmnElement="SequenceFlow_0t516rr"><di:waypoint x="8743" y="1038" /><di:waypoint x="8785" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1o5lyl3_di" bpmnElement="SequenceFlow_1o5lyl3"><di:waypoint x="8463" y="1038" /><di:waypoint x="8503" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1yk13ej_di" bpmnElement="SequenceFlow_1yk13ej"><di:waypoint x="8313" y="1038" /><di:waypoint x="8363" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_06c4fdg_di" bpmnElement="SequenceFlow_06c4fdg"><di:waypoint x="8067" y="1038" /><di:waypoint x="8083" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1nqd8kx_di" bpmnElement="SequenceFlow_1nqd8kx"><di:waypoint x="7983" y="1118" /><di:waypoint x="8042" y="1118" /><di:waypoint x="8042" y="1063" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1qzan6v_di" bpmnElement="SequenceFlow_1qzan6v"><di:waypoint x="7983" y="958" /><di:waypoint x="8042" y="958" /><di:waypoint x="8042" y="1013" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1c3d0u7_di" bpmnElement="SequenceFlow_1c3d0u7"><di:waypoint x="7833" y="1063" /><di:waypoint x="7833" y="1118" /><di:waypoint x="7883" y="1118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1f2186a_di" bpmnElement="SequenceFlow_1f2186a"><di:waypoint x="7833" y="1013" /><di:waypoint x="7833" y="958" /><di:waypoint x="7883" y="958" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0jpyvsh_di" bpmnElement="SequenceFlow_0jpyvsh"><di:waypoint x="7783" y="1038" /><di:waypoint x="7808" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0qd2lys_di" bpmnElement="SequenceFlow_0qd2lys"><di:waypoint x="6560" y="800" /><di:waypoint x="6625" y="800" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0n3zlkc_di" bpmnElement="SequenceFlow_0n3zlkc"><di:waypoint x="6380" y="1013" /><di:waypoint x="6380" y="915" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ban0iv_di" bpmnElement="SequenceFlow_1ban0iv"><di:waypoint x="7668" y="1038" /><di:waypoint x="7683" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1m0l483_di" bpmnElement="SequenceFlow_1m0l483"><di:waypoint x="7573" y="1128" /><di:waypoint x="7643" y="1128" /><di:waypoint x="7643" y="1063" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0diqsci_di" bpmnElement="SequenceFlow_0diqsci"><di:waypoint x="7573" y="978" /><di:waypoint x="7643" y="978" /><di:waypoint x="7643" y="1013" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1qam3wp_di" bpmnElement="SequenceFlow_1qam3wp"><di:waypoint x="7413" y="1063" /><di:waypoint x="7413" y="1128" /><di:waypoint x="7473" y="1128" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0g2fv0w_di" bpmnElement="SequenceFlow_0g2fv0w"><di:waypoint x="7413" y="1013" /><di:waypoint x="7413" y="978" /><di:waypoint x="7473" y="978" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_00udm12_di" bpmnElement="SequenceFlow_00udm12"><di:waypoint x="7343" y="1038" /><di:waypoint x="7388" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0huwcrn_di" bpmnElement="SequenceFlow_0huwcrn"><di:waypoint x="7208" y="1038" /><di:waypoint x="7243" y="1038" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gxmozi_di" bpmnElement="SequenceFlow_0gxmozi"><di:waypoint x="7103" y="978" /><di:waypoint x="7183" y="978" /><di:waypoint x="7183" y="1013" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lhk357_di" bpmnElement="SequenceFlow_1lhk357"><di:waypoint x="6933" y="1013" /><di:waypoint x="6933" y="978" /><di:waypoint x="7003" y="978" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1hhyhg7_di" bpmnElement="SequenceFlow_1hhyhg7"><di:waypoint x="6918" y="938" /><di:waypoint x="6933" y="938" /><di:waypoint x="6933" y="1013" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1njb2ei_di" bpmnElement="SequenceFlow_1njb2ei"><di:waypoint x="7103" y="1128" /><di:waypoint x="7183" y="1128" /><di:waypoint x="7183" y="1063" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gk71vd_di" bpmnElement="SequenceFlow_0gk71vd"><di:waypoint x="6933" y="1063" /><di:waypoint x="6933" y="1128" /><di:waypoint x="7003" y="1128" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_06110tr_di" bpmnElement="SequenceFlow_06110tr"><di:waypoint x="5473" y="1649" /><di:waypoint x="5483" y="1648" /><di:waypoint x="5483" y="1648" /><di:waypoint x="5493" y="1648" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1vnvh3c_di" bpmnElement="SequenceFlow_1vnvh3c"><di:waypoint x="6153" y="1513" /><di:waypoint x="6195" y="1513" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1be9ylf_di" bpmnElement="SequenceFlow_1be9ylf"><di:waypoint x="6013" y="1513" /><di:waypoint x="6053" y="1513" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0qxrpia_di" bpmnElement="SequenceFlow_0qxrpia"><di:waypoint x="5691" y="1488" /><di:waypoint x="5691" y="1418" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ao2gk8_di" bpmnElement="SequenceFlow_0ao2gk8"><di:waypoint x="5716" y="1513" /><di:waypoint x="5913" y="1513" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1sd5tdu_di" bpmnElement="SequenceFlow_1sd5tdu"><di:waypoint x="5493" y="1513" /><di:waypoint x="5520" y="1513" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0l62bgk_di" bpmnElement="SequenceFlow_0l62bgk"><di:waypoint x="4951" y="1566" /><di:waypoint x="4951" y="1630" /><di:waypoint x="5021" y="1630" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0g9bu5c_di" bpmnElement="SequenceFlow_0g9bu5c"><di:waypoint x="5021" y="1513" /><di:waypoint x="4995" y="1513" /><di:waypoint x="4964" y="1536" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rk0yud_di" bpmnElement="SequenceFlow_0rk0yud"><di:waypoint x="5201" y="1673" /><di:waypoint x="5201" y="1948" /><di:waypoint x="5271" y="1948" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0cdmj9c_di" bpmnElement="SequenceFlow_0cdmj9c"><di:waypoint x="5198" y="1626" /><di:waypoint x="5153" y="1410" /><di:waypoint x="4951" y="1410" /><di:waypoint x="4951" y="1530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1p7h51x_di" bpmnElement="SequenceFlow_1p7h51x"><di:waypoint x="5176" y="1648" /><di:waypoint x="5160" y="1648" /><di:waypoint x="5160" y="1513" /><di:waypoint x="5121" y="1513" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1bpu9oo_di" bpmnElement="SequenceFlow_1bpu9oo"><di:waypoint x="5226" y="1648" /><di:waypoint x="5373" y="1648" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_14eklib_di" bpmnElement="SequenceFlow_14eklib"><di:waypoint x="5220" y="1642" /><di:waypoint x="5220" y="1448" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_130i33t_di" bpmnElement="SequenceFlow_130i33t"><di:waypoint x="5121" y="1648" /><di:waypoint x="5176" y="1648" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0aectvq_di" bpmnElement="SequenceFlow_0aectvq"><di:waypoint x="5671" y="1688" /><di:waypoint x="5671" y="1758" /><di:waypoint x="5321" y="1758" /><di:waypoint x="5321" y="1903" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ogy6wn_di" bpmnElement="SequenceFlow_0ogy6wn"><di:waypoint x="5671" y="1608" /><di:waypoint x="5671" y="1578" /><di:waypoint x="5443" y="1578" /><di:waypoint x="5443" y="1553" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0raes09_di" bpmnElement="SequenceFlow_0raes09"><di:waypoint x="5593" y="1648" /><di:waypoint x="5621" y="1648" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1d1uce7_di" bpmnElement="SequenceFlow_1d1uce7"><di:waypoint x="5371" y="1943" /><di:waypoint x="5411" y="1943" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0w9j7s4_di" bpmnElement="SequenceFlow_0w9j7s4"><di:waypoint x="5721" y="1943" /><di:waypoint x="5803" y="1943" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0xkorq2_di" bpmnElement="SequenceFlow_0xkorq2"><di:waypoint x="5511" y="1943" /><di:waypoint x="5621" y="1943" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0j8cera_di" bpmnElement="SequenceFlow_0j8cera"><di:waypoint x="6458" y="1498" /><di:waypoint x="6508" y="1498" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ubke0x_di" bpmnElement="SequenceFlow_0ubke0x"><di:waypoint x="6433" y="1523" /><di:waypoint x="6433" y="2173" /><di:waypoint x="6475" y="2173" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0cslu6t_di" bpmnElement="SequenceFlow_0cslu6t"><di:waypoint x="6433" y="1473" /><di:waypoint x="6433" y="1268" /><di:waypoint x="6380" y="1268" /><di:waypoint x="6380" y="1063" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_10l9nx1_di" bpmnElement="SequenceFlow_10l9nx1"><di:waypoint x="6330" y="1399" /><di:waypoint x="6330" y="1498" /><di:waypoint x="6408" y="1498" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1p2k2u6_di" bpmnElement="SequenceFlow_1p2k2u6"><di:waypoint x="6070" y="1359" /><di:waypoint x="6090" y="1359" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02fz4g9_di" bpmnElement="SequenceFlow_02fz4g9"><di:waypoint x="4163" y="1389" /><di:waypoint x="4163" y="1446" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1mmiqr2_di" bpmnElement="SequenceFlow_1mmiqr2"><di:waypoint x="3804" y="1717" /><di:waypoint x="3804" y="1702" /><di:waypoint x="3892" y="1702" /><di:waypoint x="3892" y="1687" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0wl0voo_di" bpmnElement="SequenceFlow_0wl0voo"><di:waypoint x="3804" y="1827" /><di:waypoint x="3804" y="1797" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0mxbmd6_di" bpmnElement="SequenceFlow_0mxbmd6"><di:waypoint x="3800" y="2078" /><di:waypoint x="3800" y="2020" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0drx46a_di" bpmnElement="SequenceFlow_0drx46a"><di:waypoint x="4600" y="1820" /><di:waypoint x="4629" y="1820" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_141h93l_di" bpmnElement="SequenceFlow_141h93l"><di:waypoint x="4480" y="1820" /><di:waypoint x="4500" y="1820" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1i9lcg8_di" bpmnElement="SequenceFlow_1i9lcg8"><di:waypoint x="4340" y="1820" /><di:waypoint x="4380" y="1820" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_11n6fkr_di" bpmnElement="SequenceFlow_11n6fkr"><di:waypoint x="4043" y="1647" /><di:waypoint x="4023" y="1647" /><di:waypoint x="4023" y="2118" /><di:waypoint x="3850" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ry55yy_di" bpmnElement="SequenceFlow_0ry55yy"><di:waypoint x="4093" y="1687" /><di:waypoint x="4093" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0pigds8_di" bpmnElement="SequenceFlow_0pigds8"><di:waypoint x="4143" y="1647" /><di:waypoint x="4193" y="1647" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1erjbhc_di" bpmnElement="SequenceFlow_1erjbhc"><di:waypoint x="4163" y="1197" /><di:waypoint x="4163" y="1309" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02s58d2_di" bpmnElement="SequenceFlow_02s58d2"><di:waypoint x="4163" y="732" /><di:waypoint x="4163" y="775" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1wsmi1n_di" bpmnElement="SequenceFlow_1wsmi1n"><di:waypoint x="4163" y="855" /><di:waypoint x="4163" y="894" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1bn3u29_di" bpmnElement="SequenceFlow_1bn3u29"><di:waypoint x="4188" y="919" /><di:waypoint x="4273" y="919" /><di:waypoint x="4273" y="1157" /><di:waypoint x="4213" y="1157" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0eg0w0a_di" bpmnElement="SequenceFlow_0eg0w0a"><di:waypoint x="4163" y="1059" /><di:waypoint x="4163" y="1117" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1w3zfy8_di" bpmnElement="SequenceFlow_1w3zfy8"><di:waypoint x="4163" y="944" /><di:waypoint x="4163" y="979" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0bcamph_di" bpmnElement="SequenceFlow_0bcamph"><di:waypoint x="3917" y="973" /><di:waypoint x="4040" y="973" /><di:waypoint x="4040" y="1400" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0942sw7_di" bpmnElement="SequenceFlow_0942sw7"><di:waypoint x="3892" y="948" /><di:waypoint x="3892" y="913" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_166wwnk_di" bpmnElement="SequenceFlow_166wwnk"><di:waypoint x="3892" y="1237" /><di:waypoint x="3892" y="1216" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1o4199x_di" bpmnElement="SequenceFlow_1o4199x"><di:waypoint x="3892" y="1029" /><di:waypoint x="3892" y="998" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_09g1klc_di" bpmnElement="SequenceFlow_09g1klc"><di:waypoint x="3892" y="1136" /><di:waypoint x="3892" y="1109" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1gggk75_di" bpmnElement="SequenceFlow_1gggk75"><di:waypoint x="4163" y="601" /><di:waypoint x="4163" y="652" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1e8bk6o_di" bpmnElement="SequenceFlow_1e8bk6o"><di:waypoint x="3645" y="1650" /><di:waypoint x="3664" y="1650" /><di:waypoint x="3664" y="1647" /><di:waypoint x="3683" y="1647" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_15e533x_di" bpmnElement="SequenceFlow_15e533x"><di:waypoint x="1993" y="1650" /><di:waypoint x="2023" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1uj669f_di" bpmnElement="SequenceFlow_1uj669f"><di:waypoint x="2253" y="1650" /><di:waypoint x="2283" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1s381dx_di" bpmnElement="SequenceFlow_1s381dx"><di:waypoint x="2123" y="1650" /><di:waypoint x="2153" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_003tbsc_di" bpmnElement="SequenceFlow_003tbsc"><di:waypoint x="710" y="1656" /><di:waypoint x="750" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1tnxlq3_di" bpmnElement="SequenceFlow_1tnxlq3"><di:waypoint x="570" y="1656" /><di:waypoint x="610" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1cte2h5_di" bpmnElement="SequenceFlow_1cte2h5"><di:waypoint x="3161" y="1651" /><di:waypoint x="3174" y="1651" /><di:waypoint x="3174" y="1650" /><di:waypoint x="3186" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1azs69f_di" bpmnElement="SequenceFlow_1azs69f"><di:waypoint x="2760" y="1648" /><di:waypoint x="2775" y="1648" /><di:waypoint x="2775" y="1650" /><di:waypoint x="2790" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1r3agj7_di" bpmnElement="SequenceFlow_1r3agj7"><di:waypoint x="2636" y="1651" /><di:waypoint x="2648" y="1651" /><di:waypoint x="2648" y="1652" /><di:waypoint x="2660" y="1652" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_10x5qea_di" bpmnElement="SequenceFlow_10x5qea"><di:waypoint x="3286" y="1649" /><di:waypoint x="3304" y="1648" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1hufsd2_di" bpmnElement="SequenceFlow_1hufsd2"><di:waypoint x="2511" y="1650" /><di:waypoint x="2524" y="1648" /><di:waypoint x="2524" y="1648" /><di:waypoint x="2536" y="1649" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_177v47z_di" bpmnElement="SequenceFlow_177v47z"><di:waypoint x="2383" y="1650" /><di:waypoint x="2411" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_07kcbr6_di" bpmnElement="SequenceFlow_07kcbr6"><di:waypoint x="1863" y="1650" /><di:waypoint x="1893" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_18cxb8r_di" bpmnElement="SequenceFlow_18cxb8r"><di:waypoint x="1723" y="1650" /><di:waypoint x="1763" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0taxpdw_di" bpmnElement="SequenceFlow_0taxpdw"><di:waypoint x="1460" y="1656" /><di:waypoint x="1502" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1w9oy38_di" bpmnElement="SequenceFlow_1w9oy38"><di:waypoint x="188" y="1656" /><di:waypoint x="280" y="1656" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ktybkz_di" bpmnElement="SequenceFlow_0ktybkz"><di:waypoint x="3917" y="1359" /><di:waypoint x="3963" y="1359" /><di:waypoint x="3963" y="1410" /><di:waypoint x="3990" y="1410" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1keqxq3_di" bpmnElement="SequenceFlow_1keqxq3"><di:waypoint x="3892" y="1334" /><di:waypoint x="3892" y="1317" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_17b3fqw_di" bpmnElement="SequenceFlow_17b3fqw"><di:waypoint x="3892" y="1409" /><di:waypoint x="3892" y="1384" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0pf3cqa_di" bpmnElement="SequenceFlow_0pf3cqa"><di:waypoint x="3892" y="1607" /><di:waypoint x="3892" y="1587" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_05swstq_di" bpmnElement="SequenceFlow_05swstq"><di:waypoint x="3733" y="1507" /><di:waypoint x="3733" y="1480" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1rrahp9_di" bpmnElement="SequenceFlow_1rrahp9"><di:waypoint x="3733" y="1607" /><di:waypoint x="3733" y="1587" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="UserTask_1v8rq7m_di" bpmnElement="UserTask_1v8rq7m" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="3842" y="1607" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1g1emqr_di" bpmnElement="ServiceTask_1g1emqr"><dc:Bounds x="3683" y="1607" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1bcmsde_di" bpmnElement="ServiceTask_1bcmsde"><dc:Bounds x="3683" y="1507" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0dsslbk_di" bpmnElement="CallActivity_0dsslbk" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)"><dc:Bounds x="3842" y="1409" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1jzmyiq_di" bpmnElement="ExclusiveGateway_1jzmyiq" isMarkerVisible="true"><dc:Bounds x="3867" y="1334" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="StartEvent_1230s50_di" bpmnElement="StartEvent_1230s50"><dc:Bounds x="152" y="1638" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_0t4ul2z_di" bpmnElement="UserTask_0t4ul2z" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1360" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1to26wl_di" bpmnElement="ServiceTask_1to26wl"><dc:Bounds x="1623" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_01rv42u_di" bpmnElement="ServiceTask_01rv42u"><dc:Bounds x="1763" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_188orxw_di" bpmnElement="ServiceTask_188orxw"><dc:Bounds x="2411" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_06ykya3_di" bpmnElement="ServiceTask_06ykya3"><dc:Bounds x="3545" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1ct60ri_di" bpmnElement="ScriptTask_1ct60ri"><dc:Bounds x="2536" y="1609" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0qeqnu1_di" bpmnElement="ServiceTask_0qeqnu1"><dc:Bounds x="2790" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_03u9mn8_di" bpmnElement="ServiceTask_03u9mn8"><dc:Bounds x="3186" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0tw7ej7_di" bpmnElement="ServiceTask_0tw7ej7"><dc:Bounds x="2660" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1jfg9f0_di" bpmnElement="ServiceTask_1jfg9f0"><dc:Bounds x="3061" y="1611" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_15qkykl_di" bpmnElement="ServiceTask_15qkykl" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="750" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1btkqca_di" bpmnElement="ServiceTask_1btkqca" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="610" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_08weeoy_di" bpmnElement="ServiceTask_08weeoy" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="470" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1o2o0hj_di" bpmnElement="ServiceTask_1o2o0hj"><dc:Bounds x="2153" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_187jfz2_di" bpmnElement="ServiceTask_187jfz2"><dc:Bounds x="2283" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0j80uix_di" bpmnElement="ServiceTask_0j80uix"><dc:Bounds x="1893" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ump71i_di" bpmnElement="ServiceTask_0ump71i"><dc:Bounds x="2023" y="1610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ccvwc7_di" bpmnElement="ServiceTask_0ccvwc7"><dc:Bounds x="4113" y="652" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1onrjnn_di" bpmnElement="ServiceTask_1onrjnn"><dc:Bounds x="4113" y="521" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0bkf5fu_di" bpmnElement="ServiceTask_0bkf5fu"><dc:Bounds x="3842" y="1029" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1nz8yyr_di" bpmnElement="ExclusiveGateway_1nz8yyr" isMarkerVisible="true"><dc:Bounds x="3867" y="948" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1dq41jn_di" bpmnElement="ServiceTask_1dq41jn"><dc:Bounds x="3842" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_01io85i_di" bpmnElement="ScriptTask_01io85i"><dc:Bounds x="3842" y="1136" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0b5kw7c_di" bpmnElement="CallActivity_0b5kw7c"><dc:Bounds x="4113" y="979" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0k8d7hr_di" bpmnElement="ServiceTask_0k8d7hr"><dc:Bounds x="4113" y="1117" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1h4qzf9_di" bpmnElement="ExclusiveGateway_1h4qzf9" isMarkerVisible="true"><dc:Bounds x="4138" y="894" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_02lwxyf_di" bpmnElement="ServiceTask_02lwxyf"><dc:Bounds x="4113" y="775" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0c8dx5g_di" bpmnElement="ServiceTask_0c8dx5g"><dc:Bounds x="4113" y="1309" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1rvyhpd_di" bpmnElement="UserTask_1rvyhpd" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="4043" y="1607" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1usvyfk_di" bpmnElement="ServiceTask_1usvyfk"><dc:Bounds x="4193" y="1607" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1fuejax_di" bpmnElement="ServiceTask_1fuejax"><dc:Bounds x="4380" y="1780" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0gjx7om_di" bpmnElement="ServiceTask_0gjx7om"><dc:Bounds x="4500" y="1780" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0kz9tc3_di" bpmnElement="EndEvent_0kz9tc3"><dc:Bounds x="4629" y="1802" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_18zdgv9_di" bpmnElement="ServiceTask_18zdgv9"><dc:Bounds x="3750" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0rp54s4_di" bpmnElement="ServiceTask_0rp54s4"><dc:Bounds x="3754" y="1717" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0jaqldg_di" bpmnElement="ServiceTask_0jaqldg"><dc:Bounds x="4240" y="1780" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_01bf5l7_di" bpmnElement="ServiceTask_01bf5l7"><dc:Bounds x="3754" y="1827" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0f7exdu_di" bpmnElement="ServiceTask_0f7exdu"><dc:Bounds x="6280" y="1319" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0jn0qce_di" bpmnElement="ServiceTask_0jn0qce"><dc:Bounds x="5970" y="1319" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1ghlpx0_di" bpmnElement="ExclusiveGateway_1ghlpx0" isMarkerVisible="true"><dc:Bounds x="6408" y="1473" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ffecwb_di" bpmnElement="ServiceTask_0ffecwb"><dc:Bounds x="5621" y="1903" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0593pa6_di" bpmnElement="EndEvent_0593pa6"><dc:Bounds x="5803" y="1925" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1wugxpi_di" bpmnElement="ServiceTask_1wugxpi"><dc:Bounds x="5411" y="1903" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_0nhv511_di" bpmnElement="UserTask_0nhv511"><dc:Bounds x="5621" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1kcxukp_di" bpmnElement="ExclusiveGateway_1kcxukp" isMarkerVisible="true"><dc:Bounds x="5176" y="1623" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0iz7ruh_di" bpmnElement="ServiceTask_0iz7ruh"><dc:Bounds x="5393" y="1473" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_007x07m_di" bpmnElement="ExclusiveGateway_007x07m" isMarkerVisible="true"><dc:Bounds x="5666" y="1488" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0195miy_di" bpmnElement="ServiceTask_0195miy"><dc:Bounds x="5913" y="1473" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_1u0daxp_di" bpmnElement="EndEvent_1u0daxp"><dc:Bounds x="6195" y="1495" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_179fas1_di" bpmnElement="ServiceTask_179fas1"><dc:Bounds x="6053" y="1473" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_022e2bq_di" bpmnElement="ServiceTask_022e2bq"><dc:Bounds x="5493" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1foerw9_di" bpmnElement="ServiceTask_1foerw9"><dc:Bounds x="5021" y="1473" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1s4nfqo_di" bpmnElement="ServiceTask_1s4nfqo"><dc:Bounds x="5021" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0gihzug_di" bpmnElement="ServiceTask_0gihzug"><dc:Bounds x="7003" y="1088" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1v3gid1_di" bpmnElement="ParallelGateway_1v3gid1"><dc:Bounds x="6908" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_105obdg_di" bpmnElement="ReceiveTask_105obdg"><dc:Bounds x="7003" y="938" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_0t1ztuj_di" bpmnElement="ParallelGateway_0t1ztuj"><dc:Bounds x="7158" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1ncaemh_di" bpmnElement="ParallelGateway_1ncaemh"><dc:Bounds x="7388" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_0h9xk1m_di" bpmnElement="ReceiveTask_0h9xk1m"><dc:Bounds x="7473" y="938" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_01us4uq_di" bpmnElement="ParallelGateway_01us4uq"><dc:Bounds x="7618" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0c1fql2_di" bpmnElement="ServiceTask_0c1fql2"><dc:Bounds x="7473" y="1088" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_01x8tan_di" bpmnElement="ServiceTask_01x8tan"><dc:Bounds x="6460" y="760" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_0doe3eo_di" bpmnElement="ParallelGateway_0doe3eo"><dc:Bounds x="7808" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_12l13o5_di" bpmnElement="ParallelGateway_12l13o5"><dc:Bounds x="8017" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0zkk865_di" bpmnElement="CallActivity_0zkk865"><dc:Bounds x="7883" y="918" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0fsr2ue_di" bpmnElement="CallActivity_0fsr2ue"><dc:Bounds x="7883" y="1078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_16o5wv4_di" bpmnElement="CallActivity_16o5wv4"><dc:Bounds x="8363" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ovulyq_di" bpmnElement="ServiceTask_1ovulyq"><dc:Bounds x="8785" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0sonreh_di" bpmnElement="ServiceTask_0sonreh"><dc:Bounds x="8933" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1f576zg_di" bpmnElement="ExclusiveGateway_1f576zg" isMarkerVisible="true"><dc:Bounds x="9552" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_12siwlc_di" bpmnElement="ServiceTask_12siwlc"><dc:Bounds x="9527" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_18n1lla_di" bpmnElement="EndEvent_18n1lla"><dc:Bounds x="10639" y="1190" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_030vbed_di" bpmnElement="CallActivity_030vbed"><dc:Bounds x="10097" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_04vvyjs_di" bpmnElement="ServiceTask_04vvyjs"><dc:Bounds x="9687" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_077eaan_di" bpmnElement="ServiceTask_077eaan"><dc:Bounds x="9810" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_046knmy_di" bpmnElement="ScriptTask_046knmy"><dc:Bounds x="9747" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1f3stxe_di" bpmnElement="ScriptTask_1f3stxe"><dc:Bounds x="9867" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_03ntkil_di" bpmnElement="ExclusiveGateway_03ntkil" isMarkerVisible="true"><dc:Bounds x="9992" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0avc6k1_di" bpmnElement="ServiceTask_0avc6k1"><dc:Bounds x="9967" y="818" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1105tmd_di" bpmnElement="ServiceTask_1105tmd"><dc:Bounds x="6625" y="760" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0unibnb_di" bpmnElement="ServiceTask_0unibnb"><dc:Bounds x="6770" y="760" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_028jmwq_di" bpmnElement="ServiceTask_028jmwq"><dc:Bounds x="9627" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0vajfaf_di" bpmnElement="ServiceTask_0vajfaf"><dc:Bounds x="8503" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_10v6pts_di" bpmnElement="ServiceTask_10v6pts"><dc:Bounds x="8643" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_03tkp04_di" bpmnElement="ServiceTask_03tkp04"><dc:Bounds x="6475" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_129xz6v_di" bpmnElement="ServiceTask_129xz6v"><dc:Bounds x="6745" y="2223" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_0tkedi1_di" bpmnElement="ParallelGateway_0tkedi1"><dc:Bounds x="6650" y="2148" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_08hoovy_di" bpmnElement="ReceiveTask_08hoovy"><dc:Bounds x="6745" y="2073" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1q5xb91_di" bpmnElement="ParallelGateway_1q5xb91"><dc:Bounds x="6900" y="2148" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1k78og7_di" bpmnElement="CallActivity_1k78og7"><dc:Bounds x="7123" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1qqgwfi_di" bpmnElement="ServiceTask_1qqgwfi"><dc:Bounds x="9315" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0wr3nc8_di" bpmnElement="ServiceTask_0wr3nc8"><dc:Bounds x="9650" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1x2qk0q_di" bpmnElement="CallActivity_1x2qk0q"><dc:Bounds x="7488" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_157g81z_di" bpmnElement="ServiceTask_157g81z"><dc:Bounds x="7910" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0edzwu0_di" bpmnElement="ServiceTask_0edzwu0"><dc:Bounds x="8058" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_0le26ek_di" bpmnElement="ReceiveTask_0le26ek"><dc:Bounds x="8560" y="2255" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1f41crz_di" bpmnElement="ServiceTask_1f41crz"><dc:Bounds x="8710" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1nxdual_di" bpmnElement="ServiceTask_1nxdual"><dc:Bounds x="8560" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ug3flh_di" bpmnElement="ServiceTask_1ug3flh"><dc:Bounds x="8680" y="2590" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0onftyb_di" bpmnElement="EndEvent_0onftyb"><dc:Bounds x="9495" y="2612" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1oe2c03_di" bpmnElement="ServiceTask_1oe2c03"><dc:Bounds x="8840" y="2255" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_18jsybx_di" bpmnElement="ServiceTask_18jsybx"><dc:Bounds x="8710" y="2255" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1pzccdd_di" bpmnElement="ServiceTask_1pzccdd"><dc:Bounds x="8830" y="2590" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0jki94m_di" bpmnElement="ServiceTask_0jki94m"><dc:Bounds x="8990" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_041620r_di" bpmnElement="ServiceTask_041620r"><dc:Bounds x="7628" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0xppbf1_di" bpmnElement="ServiceTask_0xppbf1"><dc:Bounds x="7768" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0a33clu_di" bpmnElement="ServiceTask_0a33clu"><dc:Bounds x="6823" y="1648" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1ayxx8r_di" bpmnElement="ParallelGateway_1ayxx8r"><dc:Bounds x="6728" y="1573" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_01jk451_di" bpmnElement="ReceiveTask_01jk451"><dc:Bounds x="6823" y="1498" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_09z9ldx_di" bpmnElement="ParallelGateway_09z9ldx"><dc:Bounds x="6978" y="1573" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0kiycw5_di" bpmnElement="CallActivity_0kiycw5"><dc:Bounds x="7193" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_06p6c10_di" bpmnElement="ServiceTask_06p6c10"><dc:Bounds x="11310" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_13jdxdi_di" bpmnElement="ServiceTask_13jdxdi"><dc:Bounds x="11600" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_04acqqc_di" bpmnElement="CallActivity_04acqqc"><dc:Bounds x="7566" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0fm117s_di" bpmnElement="ServiceTask_0fm117s"><dc:Bounds x="7993" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0knavke_di" bpmnElement="ServiceTask_0knavke"><dc:Bounds x="8136" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_18male7_di" bpmnElement="ReceiveTask_18male7"><dc:Bounds x="8785" y="1750" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_08m5emy_di" bpmnElement="ServiceTask_08m5emy"><dc:Bounds x="9000" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0meeu3h_di" bpmnElement="ServiceTask_0meeu3h"><dc:Bounds x="8730" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1iunmju_di" bpmnElement="ServiceTask_1iunmju"><dc:Bounds x="11140" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1vs94l2_di" bpmnElement="ExclusiveGateway_1vs94l2" isMarkerVisible="true"><dc:Bounds x="9185" y="1661" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0tgvuh9_di" bpmnElement="CallActivity_0tgvuh9"><dc:Bounds x="9940" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_159fqlp_di" bpmnElement="ServiceTask_159fqlp"><dc:Bounds x="9043" y="1750" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0w9yax1_di" bpmnElement="ServiceTask_0w9yax1"><dc:Bounds x="8920" y="1750" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1epzigk_di" bpmnElement="ServiceTask_1epzigk"><dc:Bounds x="9290" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1m9qvn9_di" bpmnElement="ServiceTask_1m9qvn9"><dc:Bounds x="7706" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ghvzpn_di" bpmnElement="ServiceTask_1ghvzpn"><dc:Bounds x="7846" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0497mbc_di" bpmnElement="ServiceTask_0497mbc"><dc:Bounds x="6603" y="1648" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0sosz0f_di" bpmnElement="ServiceTask_0sosz0f"><dc:Bounds x="6483" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0rjcy4m_di" bpmnElement="ServiceTask_0rjcy4m"><dc:Bounds x="8213" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0lqpr0m_di" bpmnElement="ServiceTask_0lqpr0m"><dc:Bounds x="7433" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1vy2vhv_di" bpmnElement="ServiceTask_1vy2vhv"><dc:Bounds x="7376" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_02oo1t0_di" bpmnElement="ServiceTask_02oo1t0"><dc:Bounds x="9135" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1qwn44t_di" bpmnElement="ServiceTask_1qwn44t"><dc:Bounds x="5373" y="1609" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1btvz0p_di" bpmnElement="ServiceTask_1btvz0p"><dc:Bounds x="5271" y="1903" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0jq9ny3_di" bpmnElement="ServiceTask_0jq9ny3"><dc:Bounds x="10343" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0mrpour_di" bpmnElement="ServiceTask_0mrpour"><dc:Bounds x="10493" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0h19rze_di" bpmnElement="ServiceTask_0h19rze"><dc:Bounds x="10703" y="916" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_00u9tvz_di" bpmnElement="ExclusiveGateway_00u9tvz" isMarkerVisible="true"><dc:Bounds x="10621" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ixc6if_di" bpmnElement="ServiceTask_1ixc6if"><dc:Bounds x="10703" y="1086" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_06zjr5t_di" bpmnElement="ServiceTask_06zjr5t"><dc:Bounds x="10853" y="916" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1qubd9z_di" bpmnElement="ServiceTask_1qubd9z"><dc:Bounds x="10853" y="1086" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0afg7as_di" bpmnElement="ServiceTask_0afg7as"><dc:Bounds x="10290" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0uini6o_di" bpmnElement="ServiceTask_0uini6o"><dc:Bounds x="10462" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1hty6rx_di" bpmnElement="ServiceTask_1hty6rx"><dc:Bounds x="10820" y="1538" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0toz2fl_di" bpmnElement="ExclusiveGateway_0toz2fl" isMarkerVisible="true"><dc:Bounds x="10639" y="1661" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0m8xtvd_di" bpmnElement="ServiceTask_0m8xtvd"><dc:Bounds x="10820" y="1750" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_127q0ho_di" bpmnElement="ServiceTask_127q0ho"><dc:Bounds x="10970" y="1538" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0fqx1ma_di" bpmnElement="ServiceTask_0fqx1ma"><dc:Bounds x="10970" y="1750" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_13974fr_di" bpmnElement="ScriptTask_13974fr"><dc:Bounds x="11460" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_02lgwfl_di" bpmnElement="ScriptTask_02lgwfl"><dc:Bounds x="9463" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0041wer_di" bpmnElement="ServiceTask_0041wer"><dc:Bounds x="4576" y="1486" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_186hbfa_di" bpmnElement="ServiceTask_186hbfa"><dc:Bounds x="9967" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1r6swq5_di" bpmnElement="ServiceTask_1r6swq5"><dc:Bounds x="8970" y="2590" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_00cci2d_di" bpmnElement="ServiceTask_00cci2d"><dc:Bounds x="9500" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1bj2nmc_di" bpmnElement="ServiceTask_1bj2nmc"><dc:Bounds x="9100" y="2590" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1382nh1_di" bpmnElement="ExclusiveGateway_1382nh1" isMarkerVisible="true"><dc:Bounds x="9245" y="2605" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0628vrr_di" bpmnElement="ServiceTask_0628vrr"><dc:Bounds x="8550" y="2800" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0pspie2_di" bpmnElement="ServiceTask_0pspie2"><dc:Bounds x="9343" y="2590" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_007u1gh_di" bpmnElement="ServiceTask_007u1gh"><dc:Bounds x="8680" y="1940" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0j5s8mi_di" bpmnElement="EndEvent_0j5s8mi"><dc:Bounds x="9502" y="1962" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_018t14x_di" bpmnElement="ServiceTask_018t14x"><dc:Bounds x="8820" y="1940" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1uwrmam_di" bpmnElement="ServiceTask_1uwrmam"><dc:Bounds x="8960" y="1940" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1jv71xq_di" bpmnElement="ServiceTask_1jv71xq"><dc:Bounds x="9093" y="1940" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0o68oql_di" bpmnElement="ExclusiveGateway_0o68oql" isMarkerVisible="true"><dc:Bounds x="9235" y="1955" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ua7ofj_di" bpmnElement="ServiceTask_1ua7ofj"><dc:Bounds x="9210" y="2030" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0xf6wph_di" bpmnElement="ServiceTask_0xf6wph"><dc:Bounds x="9350" y="1940" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1byzu5f_di" bpmnElement="ServiceTask_1byzu5f"><dc:Bounds x="10110" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0fmvgqs_di" bpmnElement="ServiceTask_0fmvgqs"><dc:Bounds x="10263" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0x28kzl_di" bpmnElement="ExclusiveGateway_0x28kzl" isMarkerVisible="true"><dc:Bounds x="10398" y="1183" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0nqa0fi_di" bpmnElement="ServiceTask_0nqa0fi"><dc:Bounds x="10503" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0cc64wc_di" bpmnElement="ServiceTask_0cc64wc"><dc:Bounds x="7980" y="1266" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0g3wmk3_di" bpmnElement="ExclusiveGateway_0g3wmk3" isMarkerVisible="true"><dc:Bounds x="6355" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_01fkg5o_di" bpmnElement="ExclusiveGateway_01fkg5o" isMarkerVisible="true"><dc:Bounds x="6508" y="1473" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_05fivye_di" bpmnElement="ExclusiveGateway_05fivye" isMarkerVisible="true"><dc:Bounds x="6868" y="913" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0d7ydpb_di" bpmnElement="ExclusiveGateway_0d7ydpb" isMarkerVisible="true"><dc:Bounds x="6688" y="1473" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0rajm3c_di" bpmnElement="ScriptTask_0rajm3c"><dc:Bounds x="7243" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1abfl25_di" bpmnElement="ScriptTask_1abfl25"><dc:Bounds x="7683" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_16qcrw7_di" bpmnElement="ScriptTask_16qcrw7"><dc:Bounds x="8083" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0wv4vsd_di" bpmnElement="ScriptTask_0wv4vsd"><dc:Bounds x="7073" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0n966p9_di" bpmnElement="ScriptTask_0n966p9"><dc:Bounds x="7303" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1mhy8xh_di" bpmnElement="ScriptTask_1mhy8xh"><dc:Bounds x="6983" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1jsd2av_di" bpmnElement="ScriptTask_1jsd2av"><dc:Bounds x="7243" y="2133" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0jj9m3b_di" bpmnElement="ScriptTask_0jj9m3b"><dc:Bounds x="4507" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1pr0pg7_di" bpmnElement="ServiceTask_1pr0pg7"><dc:Bounds x="12573" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1bcted2_di" bpmnElement="ServiceTask_1bcted2"><dc:Bounds x="11293" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0hdu948_di" bpmnElement="ServiceTask_0hdu948"><dc:Bounds x="11423" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0q2129e_di" bpmnElement="ServiceTask_0q2129e"><dc:Bounds x="11023" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0u3g6n7_di" bpmnElement="ServiceTask_0u3g6n7"><dc:Bounds x="11153" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1yl3d5z_di" bpmnElement="ServiceTask_1yl3d5z"><dc:Bounds x="12277" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_105jvf2_di" bpmnElement="CallActivity_105jvf2"><dc:Bounds x="11563" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1izmazt_di" bpmnElement="ServiceTask_1izmazt"><dc:Bounds x="13033" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_1lqkifi_di" bpmnElement="EndEvent_1lqkifi"><dc:Bounds x="13205" y="1020" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0gt3bvj_di" bpmnElement="ServiceTask_0gt3bvj"><dc:Bounds x="12713" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_00eq9em_di" bpmnElement="ServiceTask_00eq9em"><dc:Bounds x="1502" y="1612" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_00fjffw_di" bpmnElement="ServiceTask_00fjffw"><dc:Bounds x="3304" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0gwsykl_di" bpmnElement="ServiceTask_0gwsykl"><dc:Bounds x="3427" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ydva7m_di" bpmnElement="ServiceTask_0ydva7m"><dc:Bounds x="3842" y="1507" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_00de9v3_di" bpmnElement="CallActivity_00de9v3" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)"><dc:Bounds x="3842" y="833" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1na9qph_di" bpmnElement="ExclusiveGateway_1na9qph" isMarkerVisible="true"><dc:Bounds x="3867" y="750" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1tttjzw_di" bpmnElement="CallActivity_1tttjzw" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)"><dc:Bounds x="3842" y="633" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0hiyntx_di" bpmnElement="ExclusiveGateway_0hiyntx" isMarkerVisible="true"><dc:Bounds x="3867" y="536" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_07y1y06_di" bpmnElement="ServiceTask_07y1y06"><dc:Bounds x="4113" y="1446" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_16dta2h_di" bpmnElement="ServiceTask_16dta2h"><dc:Bounds x="1210" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0uvdg91_di" bpmnElement="Event_05dv9lv"><dc:Bounds x="4933" y="1530" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ywwo8q_di" bpmnElement="Activity_0ywwo8q"><dc:Bounds x="3683" y="1400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0axzngy_di" bpmnElement="Activity_0axzngy"><dc:Bounds x="3990" y="1400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1hlp35x_di" bpmnElement="Activity_1hlp35x"><dc:Bounds x="3710" y="1029" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_18o0lw2_di" bpmnElement="Activity_1ha2ojj"><dc:Bounds x="5170" y="1368" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0vtoqu9_di" bpmnElement="Gateway_1amktb5" isMarkerVisible="true"><dc:Bounds x="5317" y="1383" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_151qrkp_di" bpmnElement="Activity_151qrkp"><dc:Bounds x="5292" y="1100" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0boxz26_di" bpmnElement="Activity_0boxz26"><dc:Bounds x="5433" y="1100" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0mhk39k_di" bpmnElement="Event_0mhk39k"><dc:Bounds x="5582" y="1122" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0psuyjh_di" bpmnElement="ScriptTask_0psuyjh"><dc:Bounds x="3750" y="1940" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0h1ciya_di" bpmnElement="ScriptTask_0h1ciya"><dc:Bounds x="4060" y="1780" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0wf3pvj_di" bpmnElement="ServiceTask_0wf3pvj" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="280" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0wsb16d_di" bpmnElement="Activity_0wsb16d" isExpanded="true"><dc:Bounds x="4380" y="1068" width="810" height="280" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_0zwagdr_di" bpmnElement="Flow_0zwagdr"><di:waypoint x="4456" y="1218" /><di:waypoint x="4475" y="1218" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0olo5ym_di" bpmnElement="Flow_0olo5ym"><di:waypoint x="4710" y="1288" /><di:waypoint x="4740" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_11a9glg_di" bpmnElement="Flow_11a9glg"><di:waypoint x="4500" y="1243" /><di:waypoint x="4500" y="1288" /><di:waypoint x="4610" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0oyxt82_di" bpmnElement="Flow_0oyxt82"><di:waypoint x="4660" y="1128" /><di:waypoint x="4682" y="1128" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ulh9ex_di" bpmnElement="Flow_0ulh9ex"><di:waypoint x="4718" y="1128" /><di:waypoint x="4740" y="1128" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_13b8cfe_di" bpmnElement="Flow_13b8cfe"><di:waypoint x="4500" y="1193" /><di:waypoint x="4500" y="1128" /><di:waypoint x="4560" y="1128" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1091ek2_di" bpmnElement="Flow_1091ek2"><di:waypoint x="4840" y="1128" /><di:waypoint x="4862" y="1128" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1twy926_di" bpmnElement="Flow_1twy926"><di:waypoint x="4840" y="1288" /><di:waypoint x="4872" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0cl8j5c_di" bpmnElement="Flow_0cl8j5c"><di:waypoint x="5050" y="1288" /><di:waypoint x="5092" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1a6pu3c_di" bpmnElement="Flow_1a6pu3c"><di:waypoint x="4908" y="1288" /><di:waypoint x="4950" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Activity_1phfa36_di" bpmnElement="Activity_1phfa36"><dc:Bounds x="4560" y="1088" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1vj4jwi_di" bpmnElement="Activity_1vj4jwi"><dc:Bounds x="4740" y="1088" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0npbjlj_di" bpmnElement="Event_0npbjlj"><dc:Bounds x="4682" y="1110" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0sob2yz_di" bpmnElement="Activity_0sob2yz"><dc:Bounds x="4740" y="1248" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0z6tfeh_di" bpmnElement="Activity_0z6tfeh"><dc:Bounds x="4610" y="1248" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_039k1e4_di" bpmnElement="Event_039k1e4"><dc:Bounds x="4862" y="1110" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0kpa7ri_di" bpmnElement="Event_0kpa7ri"><dc:Bounds x="4872" y="1270" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1uwlnde_di" bpmnElement="Event_1uwlnde"><dc:Bounds x="5092" y="1270" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_17jdhow_di" bpmnElement="Activity_17jdhow"><dc:Bounds x="4950" y="1248" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0vxotly_di" bpmnElement="Gateway_0vxotly"><dc:Bounds x="4475" y="1193" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0fb44tn_di" bpmnElement="Event_0fb44tn"><dc:Bounds x="4420" y="1200" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0666637_di" bpmnElement="Activity_0666637"><dc:Bounds x="4680" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1tb9bih_di" bpmnElement="Gateway_1tb9bih" isMarkerVisible="true"><dc:Bounds x="4805" y="1631" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1rhlac6_di" bpmnElement="Activity_1rhlac6"><dc:Bounds x="4780" y="1780" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1kgk7ei_di" bpmnElement="Activity_1kgk7ei" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="900" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_12w4p4g_di" bpmnElement="Activity_12w4p4g" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="1040" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_002fu7l_di" bpmnElement="Activity_002fu7l" isExpanded="true"><dc:Bounds x="5582" y="1194" width="376" height="224" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_039249d_di" bpmnElement="Flow_039249d"><di:waypoint x="5860" y="1256" /><di:waypoint x="5882" y="1256" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1mrcnhz_di" bpmnElement="Flow_1mrcnhz"><di:waypoint x="5748" y="1367" /><di:waypoint x="5770" y="1367" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0toxhsc_di" bpmnElement="Flow_0toxhsc"><di:waypoint x="5870" y="1367" /><di:waypoint x="5902" y="1367" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0qi4l44_di" bpmnElement="Flow_0qi4l44"><di:waypoint x="5738" y="1256" /><di:waypoint x="5760" y="1256" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1qmgkve_di" bpmnElement="Flow_1qmgkve"><di:waypoint x="5680" y="1285" /><di:waypoint x="5680" y="1256" /><di:waypoint x="5702" y="1256" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0tl9dy6_di" bpmnElement="Flow_0tl9dy6"><di:waypoint x="5680" y="1335" /><di:waypoint x="5680" y="1367" /><di:waypoint x="5712" y="1367" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1i52ul6_di" bpmnElement="Flow_1i52ul6"><di:waypoint x="5638" y="1310" /><di:waypoint x="5655" y="1310" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Event_194cops_di" bpmnElement="Event_194cops"><dc:Bounds x="5602" y="1292" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_02gwf7r_di" bpmnElement="Gateway_02gwf7r"><dc:Bounds x="5655" y="1285" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0xj860e_di" bpmnElement="Event_0xj860e"><dc:Bounds x="5702" y="1238" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1ahvajv_di" bpmnElement="Event_1ahvajv"><dc:Bounds x="5882" y="1238" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_162i91t_di" bpmnElement="Event_162i91t"><dc:Bounds x="5902" y="1349" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1obslb1_di" bpmnElement="Activity_1obslb1"><dc:Bounds x="5760" y="1216" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0rxayxv_di" bpmnElement="Activity_0rxayxv"><dc:Bounds x="5770" y="1317" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1lukpn1_di" bpmnElement="Event_1lukpn1"><dc:Bounds x="5712" y="1349" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0tviji6_di" bpmnElement="Gateway_0tviji6" isMarkerVisible="true"><dc:Bounds x="5985" y="1243" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1s5q2ka_di" bpmnElement="Activity_1s5q2ka"><dc:Bounds x="5960" y="916" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1dedbcb_di" bpmnElement="Activity_1dedbcb"><dc:Bounds x="6090" y="1319" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1prxrfa_di" bpmnElement="Activity_1prxrfa" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="5520" y="1473" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0j6lw92_di" bpmnElement="Activity_0j6lw92"><dc:Bounds x="3540" y="1508" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_13x6w29_di" bpmnElement="Activity_13x6w29" isExpanded="true"><dc:Bounds x="8840" y="364" width="740" height="438" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_1p6vt1v_di" bpmnElement="Flow_1p6vt1v"><di:waypoint x="9000" y="668" /><di:waypoint x="9000" y="480" /><di:waypoint x="9040" y="480" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0x1jq84_di" bpmnElement="Flow_0x1jq84"><di:waypoint x="9350" y="475" /><di:waypoint x="9350" y="540" /><di:waypoint x="9310" y="540" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1e24gzw_di" bpmnElement="Flow_1e24gzw"><di:waypoint x="9300" y="450" /><di:waypoint x="9325" y="450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_05qwqcj_di" bpmnElement="Flow_05qwqcj"><di:waypoint x="9500" y="450" /><di:waypoint x="9522" y="450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0jtlrfl_di" bpmnElement="Flow_0jtlrfl"><di:waypoint x="9375" y="450" /><di:waypoint x="9400" y="450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hjlm1z_di" bpmnElement="Flow_0hjlm1z"><di:waypoint x="9140" y="450" /><di:waypoint x="9200" y="450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1gak752_di" bpmnElement="Flow_1gak752"><di:waypoint x="9210" y="540" /><di:waypoint x="9090" y="540" /><di:waypoint x="9090" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1kav4v1_di" bpmnElement="Flow_1kav4v1"><di:waypoint x="9370" y="742" /><di:waypoint x="9422" y="742" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0mvzsq0_di" bpmnElement="Flow_0mvzsq0"><di:waypoint x="9220" y="742" /><di:waypoint x="9270" y="742" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0rkx0wq_di" bpmnElement="Flow_0rkx0wq"><di:waypoint x="9370" y="642" /><di:waypoint x="9422" y="642" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1pdp3ip_di" bpmnElement="Flow_1pdp3ip"><di:waypoint x="9220" y="642" /><di:waypoint x="9270" y="642" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_08x1rqb_di" bpmnElement="Flow_08x1rqb"><di:waypoint x="9000" y="668" /><di:waypoint x="9000" y="642" /><di:waypoint x="9120" y="642" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1mbavoq_di" bpmnElement="Flow_1mbavoq"><di:waypoint x="9000" y="718" /><di:waypoint x="9000" y="742" /><di:waypoint x="9120" y="742" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0wnddvw_di" bpmnElement="Flow_0wnddvw"><di:waypoint x="8916" y="693" /><di:waypoint x="8975" y="693" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Event_1sl7ez5_di" bpmnElement="Event_1sl7ez5"><dc:Bounds x="8880" y="675" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_05izb6g_di" bpmnElement="Gateway_05izb6g"><dc:Bounds x="8975" y="668" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1dliyhb_di" bpmnElement="Activity_1dliyhb"><dc:Bounds x="9120" y="702" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_07otbkp_di" bpmnElement="Activity_07otbkp" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="9120" y="602" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_12jpz93_di" bpmnElement="Activity_12jpz93"><dc:Bounds x="9270" y="602" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0zcrz00_di" bpmnElement="Event_0zcrz00"><dc:Bounds x="9422" y="624" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1a1kmf7_di" bpmnElement="Event_1a1kmf7"><dc:Bounds x="9422" y="724" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1k9hgoy_di" bpmnElement="Activity_1k9hgoy"><dc:Bounds x="9270" y="702" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0vv6ctl_di" bpmnElement="Activity_0vv6ctl"><dc:Bounds x="9040" y="410" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_15v8vm7_di" bpmnElement="Activity_15v8vm7"><dc:Bounds x="9400" y="410" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0ok742r_di" bpmnElement="Event_0ok742r"><dc:Bounds x="9522" y="432" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1ba4dph_di" bpmnElement="Activity_1ba4dph"><dc:Bounds x="9200" y="410" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_02axbdj_di" bpmnElement="Gateway_02axbdj" isMarkerVisible="true"><dc:Bounds x="9325" y="425" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0uhatcf_di" bpmnElement="Activity_0uhatcf"><dc:Bounds x="9210" y="500" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1rf82cr_di" bpmnElement="Gateway_1rf82cr" isMarkerVisible="true"><dc:Bounds x="9078" y="1013" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1od4kap_di" bpmnElement="Activity_1od4kap"><dc:Bounds x="9163" y="870" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1jauzkp_di" bpmnElement="Activity_1jauzkp"><dc:Bounds x="9420" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_00i90ol_di" bpmnElement="Activity_00i90ol"><dc:Bounds x="9163" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_02ltn2p_di" bpmnElement="Activity_02ltn2p"><dc:Bounds x="9430" y="870" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_101yy64_di" bpmnElement="Activity_101yy64"><dc:Bounds x="9300" y="870" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0t59gy9_di" bpmnElement="Activity_0t59gy9"><dc:Bounds x="9300" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0yqcy6h_di" bpmnElement="Activity_0yqcy6h"><dc:Bounds x="9053" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1nm79gr_di" bpmnElement="Activity_1nm79gr"><dc:Bounds x="8523" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1rmlerl_di" bpmnElement="Activity_1rmlerl"><dc:Bounds x="8363" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_12w1t6k_di" bpmnElement="Activity_12w1t6k"><dc:Bounds x="8793" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0d2dw1t_di" bpmnElement="Activity_0d2dw1t"><dc:Bounds x="8663" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1p2v7n7_di" bpmnElement="Activity_1p2v7n7"><dc:Bounds x="8183" y="1168" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1jpjxvd_di" bpmnElement="Activity_1jpjxvd"><dc:Bounds x="4360" y="1501" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1tj0hgv_di" bpmnElement="Activity_1tj0hgv"><dc:Bounds x="4360" y="1608" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_00n4zi7_di" bpmnElement="Gateway_00n4zi7" isMarkerVisible="true"><dc:Bounds x="4380" y="1415" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1tdlmmo_di" bpmnElement="Activity_1tdlmmo"><dc:Bounds x="4470" y="1390" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1aac5i6_di" bpmnElement="Gateway_1aac5i6" isMarkerVisible="true"><dc:Bounds x="6508" y="1553" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_06qzfiy_di" bpmnElement="Gateway_06qzfiy" isMarkerVisible="true"><dc:Bounds x="4815" y="312" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1cfj66c_di" bpmnElement="Activity_1cfj66c"><dc:Bounds x="5326" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0jbumzw_di" bpmnElement="Activity_0jbumzw"><dc:Bounds x="5056" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_010eefz_di" bpmnElement="Activity_010eefz"><dc:Bounds x="5190" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0kkm6zh_di" bpmnElement="Activity_0kkm6zh"><dc:Bounds x="4920" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0rwjszi_di" bpmnElement="Activity_0rwjszi"><dc:Bounds x="4790" y="170" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1c3fo28_di" bpmnElement="Activity_1c3fo28"><dc:Bounds x="4420" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0blrew5_di" bpmnElement="Activity_0blrew5"><dc:Bounds x="4550" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_05l4mt4_di" bpmnElement="Gateway_05l4mt4" isMarkerVisible="true"><dc:Bounds x="4695" y="312" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_163tge2_di" bpmnElement="Activity_163tge2"><dc:Bounds x="4670" y="170" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_08yh8z4_di" bpmnElement="Activity_08yh8z4"><dc:Bounds x="5464" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0w6vlds_di" bpmnElement="Gateway_0w6vlds" isMarkerVisible="true"><dc:Bounds x="5609" y="312" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0gge3yp_di" bpmnElement="Activity_0gge3yp"><dc:Bounds x="5690" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1sixekc_di" bpmnElement="Activity_1sixekc"><dc:Bounds x="5824" y="297" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0xmp1he_di" bpmnElement="Activity_0xmp1he"><dc:Bounds x="10220" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1g8p0mz_di" bpmnElement="Activity_1g8p0mz"><dc:Bounds x="2940" y="1616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1o9gkeu_di" bpmnElement="Activity_1o9gkeu"><dc:Bounds x="11693" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03duskx_di" bpmnElement="Activity_03duskx"><dc:Bounds x="12140" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ps21s1_di" bpmnElement="Activity_0ps21s1"><dc:Bounds x="12433" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_132nwmo_di" bpmnElement="Activity_132nwmo"><dc:Bounds x="12880" y="998" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1j7g4oc_di" bpmnElement="Activity_1j7g4oc"><dc:Bounds x="11773" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_15ylaoo_di" bpmnElement="Activity_15ylaoo"><dc:Bounds x="12430" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_18p3lai_di" bpmnElement="Activity_18p3lai"><dc:Bounds x="12290" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_19yud7v_di" bpmnElement="Activity_19yud7v" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="11900" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0fib3cr_di" bpmnElement="Activity_0fib3cr"><dc:Bounds x="12020" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_09b3ata_di" bpmnElement="Activity_09b3ata"><dc:Bounds x="12150" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0xdpkmm_di" bpmnElement="Event_0xdpkmm"><dc:Bounds x="12578" y="1668" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0cy1t3d_di" bpmnElement="Activity_0cy1t3d"><dc:Bounds x="9810" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_116yqgy_di" bpmnElement="Activity_116yqgy"><dc:Bounds x="10614" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1q0fr90_di" bpmnElement="Event_1q0fr90"><dc:Bounds x="10756" y="2402" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1rl892b_di" bpmnElement="Activity_1rl892b"><dc:Bounds x="10440" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1sc5771_di" bpmnElement="Activity_1sc5771" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="9980" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_17vta15_di" bpmnElement="Activity_17vta15"><dc:Bounds x="10140" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_07t2ios_di" bpmnElement="Activity_07t2ios"><dc:Bounds x="10290" y="2380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1v8a5d4_di" bpmnElement="Activity_1v8a5d4" isExpanded="true"><dc:Bounds x="7790" y="1560" width="820" height="414" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_0culex1_di" bpmnElement="Flow_0culex1"><di:waypoint x="7920" y="1699" /><di:waypoint x="7920" y="1824" /><di:waypoint x="7970" y="1824" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ztidxv_di" bpmnElement="Flow_0ztidxv"><di:waypoint x="8310" y="1849" /><di:waypoint x="8310" y="1862" /><di:waypoint x="8360" y="1862" /><di:waypoint x="8360" y="1884" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_00p7hma_di" bpmnElement="Flow_00p7hma"><di:waypoint x="8230" y="1824" /><di:waypoint x="8285" y="1824" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18mtggs_di" bpmnElement="Flow_18mtggs"><di:waypoint x="8470" y="1824" /><di:waypoint x="8522" y="1824" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0vodyjg_di" bpmnElement="Flow_0vodyjg"><di:waypoint x="8335" y="1824" /><di:waypoint x="8370" y="1824" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_04217d5_di" bpmnElement="Flow_04217d5"><di:waypoint x="8070" y="1824" /><di:waypoint x="8130" y="1824" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0tit4fh_di" bpmnElement="Flow_0tit4fh"><di:waypoint x="8260" y="1914" /><di:waypoint x="8020" y="1914" /><di:waypoint x="8020" y="1864" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ltssts_di" bpmnElement="Flow_1ltssts"><di:waypoint x="8340" y="1734" /><di:waypoint x="8392" y="1734" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_003gijz_di" bpmnElement="Flow_003gijz"><di:waypoint x="8190" y="1734" /><di:waypoint x="8240" y="1734" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1wgcfld_di" bpmnElement="Flow_1wgcfld"><di:waypoint x="8340" y="1634" /><di:waypoint x="8382" y="1634" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0shhj57_di" bpmnElement="Flow_0shhj57"><di:waypoint x="8190" y="1634" /><di:waypoint x="8240" y="1634" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0waxiw4_di" bpmnElement="Flow_0waxiw4"><di:waypoint x="7920" y="1649" /><di:waypoint x="7920" y="1634" /><di:waypoint x="8090" y="1634" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0wyrel9_di" bpmnElement="Flow_0wyrel9"><di:waypoint x="7920" y="1699" /><di:waypoint x="7920" y="1734" /><di:waypoint x="8090" y="1734" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1jyex0a_di" bpmnElement="Flow_1jyex0a"><di:waypoint x="7858" y="1674" /><di:waypoint x="7895" y="1674" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Event_005lkb1_di" bpmnElement="Event_005lkb1"><dc:Bounds x="7822" y="1656" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0wb676a_di" bpmnElement="Gateway_0wb676a"><dc:Bounds x="7895" y="1649" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_12awn9f_di" bpmnElement="Activity_12awn9f"><dc:Bounds x="8090" y="1694" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_09aldds_di" bpmnElement="Activity_09aldds" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="8090" y="1594" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0lqoihv_di" bpmnElement="Activity_0lqoihv"><dc:Bounds x="8240" y="1594" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_04klirj_di" bpmnElement="Event_04klirj"><dc:Bounds x="8382" y="1616" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1o3pfw9_di" bpmnElement="Event_1o3pfw9"><dc:Bounds x="8392" y="1716" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1au16id_di" bpmnElement="Activity_1au16id"><dc:Bounds x="8240" y="1694" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1dgz542_di" bpmnElement="Activity_1dgz542"><dc:Bounds x="7970" y="1784" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_11kxgrm_di" bpmnElement="Activity_11kxgrm"><dc:Bounds x="8370" y="1784" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1pl0g72_di" bpmnElement="Event_1pl0g72"><dc:Bounds x="8522" y="1806" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_004gkld_di" bpmnElement="Activity_004gkld"><dc:Bounds x="8130" y="1784" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0q26nx5_di" bpmnElement="Gateway_0q26nx5" isMarkerVisible="true"><dc:Bounds x="8285" y="1799" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0lastk0_di" bpmnElement="Activity_0lastk0"><dc:Bounds x="8260" y="1874" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_137rpz0_di" bpmnElement="Gateway_137rpz0" isMarkerVisible="true"><dc:Bounds x="8645" y="1745" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1cb4mb3_di" bpmnElement="Activity_1cb4mb3"><dc:Bounds x="8860" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1uoflg8_di" bpmnElement="Activity_1uoflg8"><dc:Bounds x="9640" y="1646" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0vpbd0k_di" bpmnElement="Gateway_0vpbd0k" isMarkerVisible="true"><dc:Bounds x="9805" y="1661" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0wlhvx9_di" bpmnElement="Activity_0wlhvx9"><dc:Bounds x="9940" y="1498" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0hvi8pc_di" bpmnElement="Activity_0hvi8pc" isExpanded="true"><dc:Bounds x="7698" y="2320" width="820" height="414" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_0egnbmr_di" bpmnElement="Flow_0egnbmr"><di:waypoint x="7828" y="2459" /><di:waypoint x="7828" y="2584" /><di:waypoint x="7878" y="2584" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1u5bl9y_di" bpmnElement="Flow_1u5bl9y"><di:waypoint x="8218" y="2609" /><di:waypoint x="8218" y="2622" /><di:waypoint x="8268" y="2622" /><di:waypoint x="8268" y="2644" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_03c8q2u_di" bpmnElement="Flow_03c8q2u"><di:waypoint x="8138" y="2584" /><di:waypoint x="8193" y="2584" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_188vrrp_di" bpmnElement="Flow_188vrrp"><di:waypoint x="8378" y="2584" /><di:waypoint x="8430" y="2584" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1cvn7ik_di" bpmnElement="Flow_1cvn7ik"><di:waypoint x="8243" y="2584" /><di:waypoint x="8278" y="2584" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0odw8k0_di" bpmnElement="Flow_0odw8k0"><di:waypoint x="7978" y="2584" /><di:waypoint x="8038" y="2584" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_15hfie1_di" bpmnElement="Flow_15hfie1"><di:waypoint x="8168" y="2674" /><di:waypoint x="7928" y="2674" /><di:waypoint x="7928" y="2624" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1w5x2dt_di" bpmnElement="Flow_1w5x2dt"><di:waypoint x="8248" y="2494" /><di:waypoint x="8300" y="2494" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1gw50gb_di" bpmnElement="Flow_1gw50gb"><di:waypoint x="8248" y="2394" /><di:waypoint x="8290" y="2394" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ide1yq_di" bpmnElement="Flow_0ide1yq"><di:waypoint x="8098" y="2394" /><di:waypoint x="8148" y="2394" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_15blz1m_di" bpmnElement="Flow_15blz1m"><di:waypoint x="8098" y="2494" /><di:waypoint x="8148" y="2494" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0t25inf_di" bpmnElement="Flow_0t25inf"><di:waypoint x="7828" y="2409" /><di:waypoint x="7828" y="2394" /><di:waypoint x="7998" y="2394" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0a340y2_di" bpmnElement="Flow_0a340y2"><di:waypoint x="7828" y="2459" /><di:waypoint x="7828" y="2494" /><di:waypoint x="7998" y="2494" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_013x7is_di" bpmnElement="Flow_013x7is"><di:waypoint x="7766" y="2434" /><di:waypoint x="7803" y="2434" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Activity_1mvltv3_di" bpmnElement="Activity_1mvltv3"><dc:Bounds x="7998" y="2454" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1qd30bc_di" bpmnElement="Activity_1qd30bc" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="7998" y="2354" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0c104n2_di" bpmnElement="Activity_0c104n2"><dc:Bounds x="8148" y="2354" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0o4huqt_di" bpmnElement="Event_0o4huqt"><dc:Bounds x="8290" y="2376" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1jluyi8_di" bpmnElement="Event_1jluyi8"><dc:Bounds x="8300" y="2476" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_10wefwl_di" bpmnElement="Activity_10wefwl"><dc:Bounds x="8148" y="2454" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0yznafm_di" bpmnElement="Activity_0yznafm"><dc:Bounds x="7878" y="2544" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_14vp6bv_di" bpmnElement="Activity_14vp6bv"><dc:Bounds x="8038" y="2544" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1v6a9s1_di" bpmnElement="Gateway_1v6a9s1"><dc:Bounds x="7803" y="2409" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0dggl2a_di" bpmnElement="Event_0dggl2a"><dc:Bounds x="7730" y="2416" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0uwcgj6_di" bpmnElement="Event_0uwcgj6"><dc:Bounds x="8430" y="2566" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1pj8va3_di" bpmnElement="Activity_1pj8va3"><dc:Bounds x="8278" y="2544" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0v46zf7_di" bpmnElement="Gateway_0v46zf7" isMarkerVisible="true"><dc:Bounds x="8193" y="2559" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1l1tflm_di" bpmnElement="Activity_1l1tflm"><dc:Bounds x="8168" y="2634" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0p56alq_di" bpmnElement="Gateway_0p56alq" isMarkerVisible="true"><dc:Bounds x="8585" y="2502" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0sublci_di" bpmnElement="Gateway_0sublci" isMarkerVisible="true"><dc:Bounds x="8865" y="2395" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0ghbwmw_di" bpmnElement="Gateway_12aqfvb" isMarkerVisible="true"><dc:Bounds x="6355" y="865" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1jqw0yi_di" bpmnElement="Activity_1aqb40e"><dc:Bounds x="3304" y="1498" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_141akie_di" bpmnElement="Activity_141akie"><dc:Bounds x="4920" y="410" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0quyibo_di" bpmnElement="Gateway_0bg88gc" isMarkerVisible="true"><dc:Bounds x="6205" y="1334" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1grze9q_di" bpmnElement="Activity_1grze9q"><dc:Bounds x="3427" y="1498" width="100" height="80" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
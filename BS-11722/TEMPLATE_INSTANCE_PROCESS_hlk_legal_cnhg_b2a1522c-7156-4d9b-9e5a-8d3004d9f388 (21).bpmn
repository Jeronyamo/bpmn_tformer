<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_0cs9n43" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.8.1"><bpmn:process id="TEMPLATE_INSTANCE_PROCESS_hlk_legal_cnhg_b2a1522c-7156-4d9b-9e5a-8d3004d9f388" name="Заявка на изменение реквизитов клиента ЮЛ" isExecutable="true"><bpmn:startEvent id="StartEvent_14dtves"><bpmn:outgoing>SequenceFlow_16fctvc</bpmn:outgoing></bpmn:startEvent><bpmn:userTask id="UserTask_11m7xz0" name="Блок заполнения, выбор клиента" camunda:formKey="FILL" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="hlk_client_app" label="Клиент" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1650dk0</bpmn:incoming><bpmn:outgoing>SequenceFlow_1yjd8y7</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_12ayrt8" name="Получаем инстанс айди выбранного клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getRefId/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="referenceId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1cyaubc</bpmn:incoming><bpmn:outgoing>SequenceFlow_16fv996</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_01yrzv3" name="Вытаскиваем поля из клиента на карточку заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/mapAttributes?sourceId=${referenceId}&amp;sourceType=LEGAL_ENTITY</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_partner_id" : "hlk_partner_id",
"hlk_isnpf" :"hlk_isnpf" ,
"hlk_mobile_phone":"hlk_mobile_phone",
"hlk_OffshoreZone" :"hlk_OffshoreZone" ,
"hlk_typesdoc" :"hlk_typesdoc",
"hlk_BankTransferDetails" : "hlk_BankTransferDetails",
"hlk_detailsforsecurities" : "hlk_detailsforsecurities",
"hlk_isinsurance" :"hlk_isinsurance" ,
"hlk_Conterparty_Level" :"hlk_Conterparty_Level",
"hlk_shareholder" :"hlk_shareholder" ,
"hlk_regcountry" :"hlk_regcountry" ,
"hlk_residentusaul" :"hlk_residentusaul" ,
"hlk_isbank" :"hlk_isbank" ,
"hlk_NotificationMethod" :"hlk_NotificationMethod",
"hlk_adressmatch" :"hlk_adressmatch" ,
"hlk_residentFL" :"hlk_residentFL" ,
"hlk_is_issuer" :"hlk_is_issuer" ,
"hlk_is_custody" :"hlk_is_custody" ,
"hlk_counterparty" :"hlk_counterparty" ,
"hlk_is_other_licensee" :"hlk_is_other_licensee" ,
"ShortName" :"ShortName",
"hlk_QualInvestor" :"hlk_QualInvestor" ,
"hlk_related_person" :"hlk_related_person" ,
"hlk_Placeofissue" :"hlk_Placeofissue",
"hlk_isbroker" :"hlk_isbroker" ,
"hlk_customer" :"hlk_customer" ,
"hlk_confidant" :"hlk_confidant" ,
"hlk_id" :"hlk_id",
"hlk_shorttitle" :"hlk_shorttitle",
"hlk_fulltitle" :"hlk_fulltitle",
"hlk_legalform" :"hlk_legalform",
"hlk_economicsector" :"hlk_economicsector",
"hlk_other_information" :"hlk_other_information",
"hlk_se_id" :"hlk_se_id",
"hlk_app_id" :"hlk_app_id",
"hlk_oked" :"hlk_oked",
"hlk_taxprivileges" :"hlk_taxprivileges",
"hlk_costtt_center" :"hlk_costtt_center",
"hlk_profit_id" :"hlk_profit_id",
"hlk_source_doc" :"hlk_source_doc",
"hlk_cp_tariff_plan" :"hlk_cp_tariff_plan",
"hlk_iin_bin" :"hlk_iin_bin",
"hlk_countryid" :"hlk_countryid",
"hlk_RiskLevelAML" :"hlk_RiskLevelAML",
"hlk_AMLCommentRiskLevel" :"hlk_AMLCommentRiskLevel",
"hlk_AMLReviewComment" :"hlk_AMLReviewComment",
"hlk_AML_MatchFound" :"hlk_AML_MatchFound",
"hlk_signfatcaul" :"hlk_signfatcaul",
"hlk_FATCA_participation" :"hlk_FATCA_participation",
"hlk_type_organization_fatca" :"hlk_type_organization_fatca",
"hlk_date_ipdl" :"hlk_date_ipdl",
"hlk_comment_ipdl" :"hlk_comment_ipdl",
"hlk_SIGN_FATCA_DATE" :"hlk_SIGN_FATCA_DATE",
"hlk_ipdlUL" :"hlk_ipdlUL",
"hlk_gintinul" :"hlk_gintinul",
"hlk_postcode" :"hlk_postcode",
"hlk_typelocality" :"hlk_typelocality",
"hlk_street" :"hlk_street",
"hlk_house" :"hlk_house",
"hlk_kato_adress_locality_id" :"hlk_kato_adress_locality_id",
"hlk_kato_region_id" :"hlk_kato_region_id",
"hlk_kato_area_idid" :"hlk_kato_area_idid",
"hlk_RegAdress_Area" :"hlk_RegAdress_Area",
"hlk_RegAdress_District" :"hlk_RegAdress_District",
"hlk_regionul" :"hlk_regionul",
"hlk_areaa" :"hlk_areaa",
"hlk_RegAdress_Locality" :"hlk_RegAdress_Locality",
"hlk_locality" :"hlk_locality",
"hlk_RegAdress_Full" :"hlk_RegAdress_Full",
"hlk_reg_tau_kato_district" :"hlk_reg_tau_kato_district",
"hlk_reg_tau_kato_region" :"hlk_reg_tau_kato_region",
"hlk_reg_tau_kato_locality" :"hlk_reg_tau_kato_locality",
"hlk_officeflat" :"hlk_officeflat",
"hlk_registrcountry" :"hlk_registrcountry",
"hlk_country_location_ul" :"hlk_country_location_ul",
"hlk_location_address_postcode_ul" :"hlk_location_address_postcode_ul",
"hlk_location_address_type_settlement_ul" :"hlk_location_address_type_settlement_ul",
"hlk_location_address_street" :"hlk_location_address_street",
"hlk_location_address_apartment_office" :"hlk_location_address_apartment_office",
"hlk_location_address_house" :"hlk_location_address_house",
"hlk_kato_fact_area_id" :"hlk_kato_fact_area_id",
"hlk_kato_fact_region_id" :"hlk_kato_fact_region_id",
"hlk_kato_fact_adress_locality_id" :"hlk_kato_fact_adress_locality_id",
"hlk_HabAdress_Area" :"hlk_HabAdress_Area",
"hlk_HabAdress_District" :"hlk_HabAdress_District",
"hlk_HabAdress_Locality" :"hlk_HabAdress_Locality",
"hlk_location_address_region" :"hlk_location_address_region",
"hlk_location_address_district_ul" :"hlk_location_address_district_ul",
"hlk_location_address_locality_ul" :"hlk_location_address_locality_ul",
"hlk_HabAdress_Full" :"hlk_HabAdress_Full",
"hlk_tau_kato_region" :"hlk_tau_kato_region",
"hlk_tau_kato_district" :"hlk_tau_kato_district",
"hlk_tau_kato_locality" :"hlk_tau_kato_locality",
"hlk_regnumber" :"hlk_regnumber",
"hlk_regdate" :"hlk_regdate",
"hlk_serialdocument" :"hlk_serialdocument",
"hlk_dateissue" :"hlk_dateissue",
"hlk_document_expiration_date" :"hlk_document_expiration_date",
"hlk_issueddocument" :"hlk_issueddocument",
"hlk_numberdocument" :"hlk_numberdocument",
"hlk_doc_first_date" :"hlk_doc_first_date",
"hlk_phone" :"hlk_phone",
"hlk_email" :"hlk_email",
"hlk_scanIDDocuments" :"hlk_scanIDDocuments",
"hlk_SignatureSealCard" :"hlk_SignatureSealCard",
"hlk_scan_contract_bdd" :"hlk_scan_contract_bdd",
"hlk_scan_order_ul" :"hlk_scan_order_ul",
"hlk_AccountNumber" :"hlk_AccountNumber",
"hlk_account_number_contract" :"hlk_account_number_contract",
"hlk_account_type_holder" :"hlk_holerr",
"SWIFT_MSG_REF" :"SWIFT_MSG_REF" 
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0pboxmt</bpmn:incoming><bpmn:outgoing>SequenceFlow_1p5d0s8</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="UserTask_0wgi5ca" name="Блок заполнения, изменение реквизитов" camunda:formKey="FILL" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="hlk_customer" label="Клиент?" type="string" /><camunda:formField id="hlk_counterparty" label="Контрагент?" type="string" /><camunda:formField id="hlk_shareholder" label="Пайщик?" type="string" /><camunda:formField id="hlk_related_person" label="Связанное лицо?" type="string" /><camunda:formField id="hlk_confidant" label="Доверенное лицо?" type="string" /><camunda:formField id="hlk_lastname" label="Фамилия" type="string" /><camunda:formField id="hlk_firstname" label="Имя" type="string" /><camunda:formField id="hlk_patronomic" label="Отчество" type="string" /><camunda:formField id="hlk_gender" label="Пол" type="string" /><camunda:formField id="hlk_economicsector" label="Сектор экономики" type="string" /><camunda:formField id="hlk_country_citizenship" label="Страна гражданства" type="string" /><camunda:formField id="hlk_other_information" label="Прочая информация" type="string" /><camunda:formField id="hlk_Conterparty_Level" label="Уровень учета" type="string" /><camunda:formField id="hlk_isIP" label="Индивидуальный предприниматель" type="string" /><camunda:formField id="hlk_QualInvestor" label="Квалифицированный инвестор" type="string" /><camunda:formField id="hlk_se_id" label="ID Сектора Экономики" type="string" /><camunda:formField id="F_BirthDay" label="Дата Рождения" type="string" /><camunda:formField id="hlk_app_id" label="ID заявки" type="string" /><camunda:formField id="hlk_taxprivileges" label="Налоговые льготы" type="string" /><camunda:formField id="hlk_costtt_center" label="Профит центр*" type="string" /><camunda:formField id="hlk_profit_id" label="ID Профит-центра" type="string" /><camunda:formField id="hlk_iin_bin" label="ИИН/БИН" type="string" /><camunda:formField id="hlk_cp_tariff_plan" label="Тарифный план участника" type="string" /><camunda:formField id="hlk_PlaceOfBirth" label="Место рождения" type="string" /><camunda:formField id="hlk_account_type_holder" label="Вид держателя" type="string" /><camunda:formField id="hlk_RiskLevelAML" label="Уровень риска AML" type="string" /><camunda:formField id="hlk_AMLCommentRiskLevel" label="Комментарий к уровню риска" type="string" /><camunda:formField id="hlk_AMLReviewComment" label="Комментарий по результатам проверки AML" type="string" /><camunda:formField id="hlk_AML_MatchFound" label="Обнаружено совпадение по спискам AML" type="string" /><camunda:formField id="hlk_signfatcaul" label="Признак FATCA" type="string" /><camunda:formField id="hlk_FATCA_participation" label="Участие FATCA" type="string" /><camunda:formField id="hlk_type_organization_fatca" label="Тип организации (FATCA)" type="string" /><camunda:formField id="hlk_date_ipdl" label="Дата определения / изменения признака ИПДЛ" type="string" /><camunda:formField id="hlk_residentusaul" label="Резидент США" type="string" /><camunda:formField id="hlk_comment_ipdl" label="Комментарий к параметру ИПДЛ" type="string" /><camunda:formField id="hlk_SIGN_FATCA_DATE" label="Дата определения / изменения Признак FATCA" type="string" /><camunda:formField id="hlk_ipdlUL" label="ИПДЛ" type="string" /><camunda:formField id="hlk_gintinul" label="Номер участника TIN/SSI" type="string" /><camunda:formField id="hlk_postcode" label="Адрес регистрации: Почтовый индекс" type="string" /><camunda:formField id="hlk_typelocality" label="Адрес регистрации: Вид населенного пункта" type="string" /><camunda:formField id="hlk_street" label="Адрес регистрации: Улица/проспект/мкр" type="string" /><camunda:formField id="hlk_house" label="Адрес регистрации: Номер дома" type="string" /><camunda:formField id="hlk_kato_adress_locality_id" label="ID КАТО Адрес регистрации: Населенный пункт" type="string" /><camunda:formField id="hlk_kato_region_id" label="ID КАТО Адрес регистрации: Область" type="string" /><camunda:formField id="hlk_kato_area_idid" label="ID КАТО Адрес регистрации: Район" type="string" /><camunda:formField id="hlk_RegAdress_Area" label="Адрес регистрации: Область" type="string" /><camunda:formField id="hlk_RegAdress_District" label="Адрес регистрации: Район" type="string" /><camunda:formField id="hlk_regionul" label="Адрес регистрации: Область КАТО" type="string" /><camunda:formField id="hlk_areaa" label="Адрес регистрации: Район КАТО" type="string" /><camunda:formField id="hlk_RegAdress_Locality" label="Адрес регистрации: Населенный Пункт" type="string" /><camunda:formField id="hlk_locality" label="Адрес регистрации: Населенный пункт КАТО" type="string" /><camunda:formField id="hlk_reg_tau_kato_locality" label="ID ТАУ КАТО Адрес регистрации: Населенный пункт" type="string" /><camunda:formField id="hlk_officeflat" label="Адрес регистрации: Номер квартиры/офиса" type="string" /><camunda:formField id="hlk_registrcountry" label="Страна резиденства/регистрации" type="string" /><camunda:formField id="hlk_adressmatch" label="Адрес проживания совпадает с адресом регистрации" type="string" /><camunda:formField id="hlk_postcode_fact" label="Адрес проживания: Почтовый индекс" type="string" /><camunda:formField id="hlk_residence_address_type_settlement_fl" label="Адрес проживания: Вид населенного пункта" type="string" /><camunda:formField id="hlk_residence_address_street_fl" label="Адрес проживания: Улица/проспект/мкр" type="string" /><camunda:formField id="hlk_residence_address_house" label="Адрес проживания: Номер дома" type="string" /><camunda:formField id="hlk_residence_address_flat_fl" label="Адрес проживания: Номер квартиры" type="string" /><camunda:formField id="hlk_kato_residence_region_id" label="ID КАТО Адрес проживания: Область" type="string" /><camunda:formField id="hlk_kato_residence_area_id" label="ID КАТО Адрес проживания: Район" type="string" /><camunda:formField id="hlk_kato_residence_locality_id" label="ID КАТО Адрес проживания: Населенный пункт" type="string" /><camunda:formField id="hlk_region_residence_address_fl" label="Адрес проживания: Область КАТО" type="string" /><camunda:formField id="hlk_address_residence_district_fl" label="Адрес проживания: Район КАТО" type="string" /><camunda:formField id="hlk_address_residence_settlement_fl" label="Адрес проживания: Населенный пункт КАТО" type="string" /><camunda:formField id="hlk_HabAdress_Area" label="Адрес факт/проживания: Область" type="string" /><camunda:formField id="hlk_HabAdress_District" label="Адрес факт/проживания: Район" type="string" /><camunda:formField id="hlk_HabAdress_Locality" label="Адрес факт/проживания: Населенный пункт" type="string" /><camunda:formField id="hlk_address_residence_country" label="Адрес проживания: Страна" type="string" /><camunda:formField id="hlk_tau_kato_locality" label="ID ТАУ КАТО Адрес проживания/фактический: Населенный пункт" type="string" /><camunda:formField id="hlk_regnumber" label="Регистрационный номер" type="string" /><camunda:formField id="hlk_regdate" label="Дата регистрации*" type="string" /><camunda:formField id="hlk_serialdocument" label="Серия документа" type="string" /><camunda:formField id="hlk_dateissue" label="Дата выдачи" type="string" /><camunda:formField id="hlk_document_expiration_date" label="Дата истечения срока действия документа" type="string" /><camunda:formField id="hlk_issueddocument" label="Кем выдан документ" type="string" /><camunda:formField id="hlk_typesdoc" label="Вид документа" type="string" /><camunda:formField id="hlk_numberdocument" label="Номер документа" type="string" /><camunda:formField id="hlk_Placeofissue" label="Место выдачи документа" type="string" /><camunda:formField id="hlk_doc_first_date" label="Дата первичной регистрации документа" type="string" /><camunda:formField id="hlk_phone" label="Телефон" type="string" /><camunda:formField id="hlk_NotificationMethod" label="Способ получения уведомления" type="string" /><camunda:formField id="hlk_email" label="E-mail" type="string" /><camunda:formField id="hlk_BankTransferDetails" label="Банковские реквизиты для перевода ДС" type="string" /><camunda:formField id="hlk_detailsforsecurities" label="Реквизиты для перевода ЦБ" type="string" /><camunda:formField id="hlk_ApplicationAccessionAgreement" label="Заявление о присоединении к Договору " type="string" /><camunda:formField id="hlk_OrderOpeningAccount" label="Приказ на открытие лицевого счета для ФЛ/ИП" type="string" /><camunda:formField id="hlk_IdentityDocumentScan" label="Документ, удостоверяющий личность" type="string" /><camunda:formField id="hlk_SignatureSealCard" label="Карточка с образцом подписи/печати" type="string" /><camunda:formField id="hlk_PowerAttorney" label="Доверенность" type="string" /><camunda:formField id="hlk_id" label="ID участника" type="string" /><camunda:formField id="hlk_shorttitle" label="Кратк. наименование " type="string" /><camunda:formField id="hlk_fulltitle" label="Полн. наименование" type="string" /><camunda:formField id="hlk_legalform" label="Организац.-правовая форма" type="string" /><camunda:formField id="hlk_is_issuer" label="Эмитент?" type="string" /><camunda:formField id="hlk_isbank" label="Банк?" type="string" /><camunda:formField id="hlk_regcountry" label="Страна резидентства" type="string" /><camunda:formField id="hlk_isbroker" label="Брокер?" type="string" /><camunda:formField id="hlk_oked" label="ОКЭД" type="string" /><camunda:formField id="hlk_source_doc" label="Источник документа" type="string" /><camunda:formField id="hlk_countryid" label="Страна регистрации" type="string" /><camunda:formField id="hlk_scanIDDocuments" label="Сканиров. документы удостоверяющего личность подписанта" type="string" /><camunda:formField id="hlk_scan_contract_bdd" label="Договор БДД" type="string" /><camunda:formField id="hlk_scan_order_ul" label="Приказ на открытие лицевого счета для ЮЛ" type="string" /><camunda:formField id="hlk_AccountNumber" label="Номер счета*" type="string" /><camunda:formField id="hlk_account_number_contract" label="Номер договора" type="string" /><camunda:formField id="SWIFT_MSG_REF" label="Референс свифт сообщения" type="string" /><camunda:formField id="hlk_isnpf" label="НПФ" type="string" /><camunda:formField id="hlk_isinsurance" label="Страховая компания" type="string" /><camunda:formField id="hlk_is_other_licensee" label="Прочий лицензиат" type="string" /><camunda:formField id="hlk_is_custody" label="Кастоди" type="string" /><camunda:formField id="hlk_country_location_ul" label="Страна местонахождения" type="string" /><camunda:formField id="hlk_location_address_postcode_ul" label="Фактический адрес: Почтовый индекс" type="string" /><camunda:formField id="hlk_location_address_type_settlement_ul" label="Фактический адрес: Вид населенного пункта" type="string" /><camunda:formField id="hlk_location_address_street" label="Фактический адрес: Улица/проспект/мкр" type="string" /><camunda:formField id="hlk_location_address_apartment_office" label="Фактический адрес: Номер квартиры/офиса" type="string" /><camunda:formField id="hlk_location_address_house" label="Фактический адрес: Номер дома" type="string" /><camunda:formField id="hlk_kato_fact_area_id" label="ID КАТО Фактический адрес: Район" type="string" /><camunda:formField id="hlk_kato_fact_region_id" label="ID КАТО Фактический адрес: Область" type="string" /><camunda:formField id="hlk_kato_fact_adress_locality_id" label="ID КАТО Фактический адрес: Населенный пункт" type="string" /><camunda:formField id="hlk_location_address_region" label="Фактический адрес: Область КАТО" type="string" /><camunda:formField id="hlk_location_address_district_ul" label="Фактический адрес: Район КАТО" type="string" /><camunda:formField id="hlk_location_address_locality_ul" label="Фактический адрес: Населенный пункт КАТО" type="string" /><camunda:formField id="hlk_AMLStatus" label="Код статуса проверки АМЛ" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1kvafon</bpmn:incoming><bpmn:incoming>SequenceFlow_1v88a9v</bpmn:incoming><bpmn:incoming>SequenceFlow_1562s8b</bpmn:incoming><bpmn:incoming>SequenceFlow_16mx1hu</bpmn:incoming><bpmn:incoming>SequenceFlow_00t6jst</bpmn:incoming><bpmn:incoming>SequenceFlow_1wrprs9</bpmn:incoming><bpmn:incoming>SequenceFlow_1cn42tc</bpmn:incoming><bpmn:incoming>SequenceFlow_0eeysq6</bpmn:incoming><bpmn:incoming>SequenceFlow_1kq4wjf</bpmn:incoming><bpmn:incoming>Flow_1ep5oxc</bpmn:incoming><bpmn:incoming>Flow_0nsxdby</bpmn:incoming><bpmn:outgoing>SequenceFlow_0c74zol</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_0vs4mgz" name="Определяем есть ли у клиента активный счет в цд"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "invoice",
	"filter": {
"attributes.hlk_account_owner.primaryId": "${hlk_client_app}",
"activityStatus" : "ACTIVE", 
"actual" : true,
"attributes.hlk_account_external" : false,
"attributes.hlk_account_type" : "Ценнобумажный",
"attributes.hlk_clearing_system.primaryId" : "5e46ac7457645400077899c7"
},
"projection": {
"attributes.hlk_Account_Number": 1
}
}</camunda:inputParameter><camunda:outputParameter name="accountNumber"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_Account_Number
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ssja1d</bpmn:incoming><bpmn:outgoing>SequenceFlow_1fq144i</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="UserTask_117k744" name="Подтверждение заявки" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Accept&#34;,&#34;label&#34;:&#34;Подтвердить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="{&#34;id&#34;: &#34;Cancel&#34;, &#34;label&#34;: &#34;Отклонить&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_close&#34;, &#34;label&#34;: &#34;Причина отклонения&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_02o0bvk</bpmn:incoming><bpmn:outgoing>SequenceFlow_01kl7ou</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1sh08hk</bpmn:outgoing><bpmn:outgoing>SequenceFlow_19471ly</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_1uogrbh" name="Статус заявки &#34;Обработка: Заявка зарегистрирована&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+зарегистрирована</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_01kl7ou</bpmn:incoming><bpmn:outgoing>Flow_1kxiwpk</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_14hu0g3" name="Статус заявки отклонена сотрудником СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+отклонена+сотрудником+СП</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_189w8mx</bpmn:incoming><bpmn:outgoing>SequenceFlow_1pbo45r</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_074jhwz" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1pbo45r</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dvx40l</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_161vsbt"><bpmn:incoming>SequenceFlow_1dvx40l</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_0ygfsqx" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1dweejk</bpmn:incoming><bpmn:outgoing>SequenceFlow_1oy1xlo</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0i660yu"><bpmn:incoming>SequenceFlow_1oy1xlo</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_1lac7t3" name="Статус заявки отклонена, найдено совпадение по спискам амл"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Клиент+не+прошел+проверку+AML</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0mtkhb9</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dweejk</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="UserTask_04bmx6l" name="Ручная проверка" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Accept&#34;,&#34;label&#34;:&#34;Подтвердить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="{&#34;id&#34;:&#34;Cancel&#34;,&#34;label&#34;:&#34;Отклонить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1pxaj5g</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ohkfz6</bpmn:outgoing><bpmn:outgoing>SequenceFlow_05zeb0l</bpmn:outgoing></bpmn:userTask><bpmn:exclusiveGateway id="ExclusiveGateway_1rxokr1"><bpmn:incoming>SequenceFlow_19yw89m</bpmn:incoming><bpmn:outgoing>SequenceFlow_1me9t0c</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1bw266j</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0zpygnk</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0yunvin</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0bi13eo" name="Изменяем статус заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=AML.Совпадений+не+найдено</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ohkfz6</bpmn:incoming><bpmn:incoming>SequenceFlow_1me9t0c</bpmn:incoming><bpmn:outgoing>SequenceFlow_039de98</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_08eqqi5"><bpmn:incoming>SequenceFlow_0f30nex</bpmn:incoming><bpmn:incoming>Flow_0en2kaz</bpmn:incoming><bpmn:outgoing>SequenceFlow_14mk1e9</bpmn:outgoing><bpmn:outgoing>SequenceFlow_083zwb2</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_1kre3sb" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_083zwb2</bpmn:incoming><bpmn:outgoing>SequenceFlow_1fdi6q8</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_050irwm"><bpmn:incoming>SequenceFlow_1ma8nj6</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_0g0ofoe" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1fdi6q8</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ma8nj6</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1gl5wnd" name="Изменяем статус заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Системная+ошибка+AML</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_15f60jo</bpmn:incoming><bpmn:outgoing>SequenceFlow_1pxaj5g</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_14k1k3t" name="Изменяем статус заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Выявлено+совпадение.+Ожидайте+решение+Compliance</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0yunvin</bpmn:incoming><bpmn:outgoing>SequenceFlow_1xv4awo</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_184cgtg" name="Ожидаем ответ"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_AMLStatus</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0j9c6qj</bpmn:incoming><bpmn:incoming>Flow_0wdy7fu</bpmn:incoming><bpmn:outgoing>SequenceFlow_19yw89m</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0ked2y5" name="Изменяем клиента?"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_customer</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="firstStep">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_12ogat8</bpmn:incoming><bpmn:outgoing>SequenceFlow_09hjogj</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="ScriptTask_1klcp5i" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="regDate"><bpmn:incoming>SequenceFlow_16fv996</bpmn:incoming><bpmn:outgoing>SequenceFlow_0pboxmt</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '')</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_1yjd8y7" sourceRef="UserTask_11m7xz0" targetRef="ServiceTask_0zwq4zh" /><bpmn:sequenceFlow id="SequenceFlow_16fv996" sourceRef="ServiceTask_12ayrt8" targetRef="ScriptTask_1klcp5i" /><bpmn:sequenceFlow id="SequenceFlow_0pboxmt" sourceRef="ScriptTask_1klcp5i" targetRef="ServiceTask_01yrzv3" /><bpmn:sequenceFlow id="SequenceFlow_01kl7ou" sourceRef="UserTask_117k744" targetRef="ServiceTask_1uogrbh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Accept'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1sh08hk" sourceRef="UserTask_117k744" targetRef="ScriptTask_1bf2a5u"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Cancel'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1dvx40l" sourceRef="ServiceTask_074jhwz" targetRef="EndEvent_161vsbt" /><bpmn:sequenceFlow id="SequenceFlow_14mk1e9" sourceRef="ExclusiveGateway_08eqqi5" targetRef="Activity_1a7xvzx"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(step == "true" &amp;&amp; contractType == "Брокерское обслуживание ЮЛ")||(step=="true" &amp;&amp; found == "false")}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1dweejk" sourceRef="ServiceTask_1lac7t3" targetRef="ServiceTask_0ygfsqx" /><bpmn:sequenceFlow id="SequenceFlow_1oy1xlo" sourceRef="ServiceTask_0ygfsqx" targetRef="EndEvent_0i660yu" /><bpmn:sequenceFlow id="SequenceFlow_1me9t0c" sourceRef="ExclusiveGateway_1rxokr1" targetRef="ServiceTask_0bi13eo"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == '0'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0ohkfz6" sourceRef="UserTask_04bmx6l" targetRef="ServiceTask_0bi13eo"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Accept'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1bw266j" sourceRef="ExclusiveGateway_1rxokr1" targetRef="ServiceTask_141ex9d"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == '3'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0zpygnk" sourceRef="ExclusiveGateway_1rxokr1" targetRef="ServiceTask_1czn4pj"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == '2'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_05zeb0l" sourceRef="UserTask_04bmx6l" targetRef="ServiceTask_1czn4pj"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Cancel'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1pxaj5g" sourceRef="ServiceTask_1gl5wnd" targetRef="UserTask_04bmx6l" /><bpmn:sequenceFlow id="SequenceFlow_19yw89m" sourceRef="ServiceTask_184cgtg" targetRef="ExclusiveGateway_1rxokr1" /><bpmn:sequenceFlow id="SequenceFlow_0yunvin" sourceRef="ExclusiveGateway_1rxokr1" targetRef="ServiceTask_14k1k3t"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == '1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1xv4awo" sourceRef="ServiceTask_14k1k3t" targetRef="IntermediateCatchEvent_15qd5v5" /><bpmn:sequenceFlow id="SequenceFlow_083zwb2" sourceRef="ExclusiveGateway_08eqqi5" targetRef="ServiceTask_1kre3sb"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${step == "false" || (contractType != "Брокерское обслуживание ЮЛ" &amp;&amp; found == "true")}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1fdi6q8" sourceRef="ServiceTask_1kre3sb" targetRef="ServiceTask_0g0ofoe" /><bpmn:sequenceFlow id="SequenceFlow_1ma8nj6" sourceRef="ServiceTask_0g0ofoe" targetRef="EndEvent_050irwm" /><bpmn:exclusiveGateway id="ExclusiveGateway_1uieydq"><bpmn:incoming>SequenceFlow_1fq144i</bpmn:incoming><bpmn:incoming>Flow_1gb1c0r</bpmn:incoming><bpmn:outgoing>SequenceFlow_0zrrfiv</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0145g3v</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0wcqrj7</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_004nzs6" name="Генерируем номер счета и договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/sequence/next/Account?default=1028103861</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="accountNumber">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1386jbf</bpmn:incoming><bpmn:outgoing>SequenceFlow_0rhzl98</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_085b0gy" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0145g3v</bpmn:incoming><bpmn:outgoing>SequenceFlow_1r4of02</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1c4qifq" name="Создаем заявку на изменение реквизитов счета" camunda:asyncBefore="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "accountChng")
.prop("hlk_Account_Number" , accountNumber)
.prop("hlk_account_type_contract" , "Брокерское обслуживание ЮЛ")
.prop("hlk_app_date" , regDate)
.prop("hlk_invoice_subaccount_type" , "Субсчет держателя")
.prop("hlk_InContract_ID_Client" , partnerId)
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type","0")
.prop("hlk_autostart", true)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0m6hg77</bpmn:incoming><bpmn:outgoing>SequenceFlow_0xux1qs</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="ParallelGateway_16llh36" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_1r4of02</bpmn:incoming><bpmn:outgoing>SequenceFlow_0m6hg77</bpmn:outgoing><bpmn:outgoing>SequenceFlow_12t1c7z</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_0xkgtxr" name="Ожидаем сообщения о готовности к старту от подпроцесса" messageRef="Message_0bb2puz"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="ez_step">accountCreated</camunda:outputParameter><camunda:outputParameter name="accountProcess">${processKey}</camunda:outputParameter><camunda:outputParameter name="accountId">${instanceId}</camunda:outputParameter><camunda:outputParameter name="accountTemplateId">${templateId}</camunda:outputParameter><camunda:outputParameter name="accountType">${type}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectEditorUrl">${ezdocObjectEditorUrl}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectUrl">${ezdocObjectUrl}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_12t1c7z</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dsk1ce</bpmn:outgoing></bpmn:receiveTask><bpmn:parallelGateway id="ParallelGateway_1s8xjxz"><bpmn:incoming>SequenceFlow_0xux1qs</bpmn:incoming><bpmn:incoming>SequenceFlow_1dsk1ce</bpmn:incoming><bpmn:outgoing>SequenceFlow_0xdvyzk</bpmn:outgoing></bpmn:parallelGateway><bpmn:callActivity id="CallActivity_0h5utps" name="Запускаем процесс регистрации счета" calledElement="TEMPLATE_INSTANCE_PROCESS_hlk_securities_account_6e551763-f964-457e-89bc-9a53378b5d7c"><bpmn:extensionElements><camunda:in sourceExpression="${accountId}" target="instanceId" /><camunda:in sourceExpression="${accountTemplateId}" target="templateId" /><camunda:in sourceExpression="${accountType}" target="type" /><camunda:in sourceExpression="${accountEzDocObjectEditorUrl}" target="ezdocObjectEditorUrl" /><camunda:in sourceExpression="${accountEzDocObjectUrl}" target="ezdocObjectUrl" /><camunda:in sourceExpression="${initiator}" target="initiator" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in businessKey="${accountType.toLowerCase()}_${accountId}" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_171574t</bpmn:incoming><bpmn:outgoing>SequenceFlow_1q6tqg6</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_1fb2ted" name="Обновляем счет"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/INVOICE/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_type_account_int" : "ценнобумажный",
"hlk_account_owner" : 
{
   "value":"${ShortNameCurrentCtpt}",
   "primaryId":"${hlk_client_app}",
   "source" : "legalEntity",
   "_class" : "egar.ezdoc.model.entity.attribute.DictionaryValue"
}
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1e6z4nj</bpmn:incoming><bpmn:outgoing>Flow_0j3is8b</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_18v2xnd" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_16mp7hp</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ouej16</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0m5gwfy" name="Достаем ссылку на клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_iin_bin</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="iin">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1dedlra</bpmn:incoming><bpmn:outgoing>SequenceFlow_1e6z4nj</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_0kpsn3g" name="Отправляем SWIFT" calledElement="MT501Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0rkywsa</bpmn:incoming><bpmn:outgoing>SequenceFlow_075tjcm</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_1d7dby5" name="Получаем референс"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "swiftMessageEntity",
         "filter": { 
		"instanceId": "${accountId}",
		"instanceType": "BOOK"
	},
	"projection": { 
		"refId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="SWIFT_MSG_REF"><camunda:script scriptFormat="JavaScript">JSON.parse(response).cursor.firstBatch[0].refId;</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1hmqx4f</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ia4s3o</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_00zwumc" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/SWIFT_MSG_REF?incrementVersion=true&amp;value=${SWIFT_MSG_REF}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ia4s3o</bpmn:incoming><bpmn:outgoing>SequenceFlow_0r7a1d3</bpmn:outgoing></bpmn:serviceTask><bpmn:receiveTask id="ReceiveTask_1srnezc" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_1dci79x"><bpmn:incoming>Flow_1d2iuqh</bpmn:incoming><bpmn:outgoing>Flow_0i2gkri</bpmn:outgoing></bpmn:receiveTask><bpmn:serviceTask id="ServiceTask_0eh4p30" name="Сохраняем 539"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/attach/${swiftId}?type=BOOK&amp;instanceId=${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_00yex8y</bpmn:incoming><bpmn:outgoing>Flow_10t48w8</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_19gnltg" name="Смотрим статус"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_OPERATION_STATUS</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1oa24ei</bpmn:incoming><bpmn:incoming>Flow_0i2gkri</bpmn:incoming><bpmn:outgoing>Flow_00yex8y</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1p00qtu" name="Меняем статус заявки на изменение счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+исполнена.+SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1lg41uz</bpmn:incoming><bpmn:outgoing>SequenceFlow_16mp7hp</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_12ajhck" default="SequenceFlow_15g7clm"><bpmn:incoming>Flow_10t48w8</bpmn:incoming><bpmn:outgoing>SequenceFlow_15g7clm</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0eqydvf</bpmn:outgoing><bpmn:outgoing>Flow_0a16nek</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_1rvxa1p" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_15g7clm</bpmn:incoming><bpmn:incoming>Flow_1eidfw6</bpmn:incoming><bpmn:outgoing>SequenceFlow_15sq5z5</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_19cuu35" name="Меняем статус заявки SWIFT принят"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0a16nek</bpmn:incoming><bpmn:outgoing>SequenceFlow_01z0an3</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1wyo77f" name="Меняем статус заявки SWIFT принят для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_01z0an3</bpmn:incoming><bpmn:outgoing>Flow_1d2iuqh</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_05rbxmf" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_15sq5z5</bpmn:incoming><bpmn:outgoing>SequenceFlow_040erzn</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_13wszbj" name="Меняем статус заявки SWIFT исполнен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0eqydvf</bpmn:incoming><bpmn:outgoing>SequenceFlow_1lg41uz</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0p3bry0" name="Меняем статус заявки SWIFT отправлен для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_075tjcm</bpmn:incoming><bpmn:outgoing>SequenceFlow_1yo9teu</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1vr11n8" name="Меняем статус заявки SWIFT отправлен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1yo9teu</bpmn:incoming><bpmn:outgoing>SequenceFlow_1hmqx4f</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_02xtlas" name="Создаем заявку на регистрацию счета" camunda:asyncBefore="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "account")
.prop("hlk_Account_Number" , accountNumber)
.prop("hlk_account_type_contract" , "Брокерское обслуживание ЮЛ")
.prop("hlk_account_number_contract" , accountNumber.substring(accountNumber.length()-6))
.prop("hlk_app_date" , regDate)
.prop("hlk_invoice_subaccount_type" , "Субсчет держателя")
.prop("hlk_InContract_ID_Client" , clientPrimaryId)
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type","0")
.prop("hlk_autostart" , true)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1xtwzcx</bpmn:incoming><bpmn:outgoing>SequenceFlow_1wi9gqa</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="ParallelGateway_1512xxj" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_0o81xzg</bpmn:incoming><bpmn:outgoing>SequenceFlow_1xtwzcx</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0crpdu9</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_1j8z9q7" name="Ожидаем сообщения о готовности к старту от подпроцесса" messageRef="Message_0bb2puz"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="ez_step">accountCreated</camunda:outputParameter><camunda:outputParameter name="accountProcess">${processKey}</camunda:outputParameter><camunda:outputParameter name="accountId">${instanceId}</camunda:outputParameter><camunda:outputParameter name="accountTemplateId">${templateId}</camunda:outputParameter><camunda:outputParameter name="accountType">${type}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectEditorUrl">${ezdocObjectEditorUrl}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectUrl">${ezdocObjectUrl}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0crpdu9</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gz01hi</bpmn:outgoing></bpmn:receiveTask><bpmn:parallelGateway id="ParallelGateway_1dv8o3m"><bpmn:incoming>SequenceFlow_1wi9gqa</bpmn:incoming><bpmn:incoming>SequenceFlow_0gz01hi</bpmn:incoming><bpmn:outgoing>SequenceFlow_12u2vmq</bpmn:outgoing></bpmn:parallelGateway><bpmn:callActivity id="CallActivity_0lxrxz4" name="Запускаем процесс регистрации счета" calledElement="TEMPLATE_INSTANCE_PROCESS_hlk_securities_account_6e551763-f964-457e-89bc-9a53378b5d7c"><bpmn:extensionElements><camunda:in sourceExpression="${accountId}" target="instanceId" /><camunda:in sourceExpression="${accountTemplateId}" target="templateId" /><camunda:in sourceExpression="${accountType}" target="type" /><camunda:in sourceExpression="${accountEzDocObjectEditorUrl}" target="ezdocObjectEditorUrl" /><camunda:in sourceExpression="${accountEzDocObjectUrl}" target="ezdocObjectUrl" /><camunda:in sourceExpression="${initiator}" target="initiator" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in businessKey="${accountType.toLowerCase()}_${accountId}" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0m2fwxv</bpmn:incoming><bpmn:outgoing>SequenceFlow_1anq4c9</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_0f4n0v3" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1v7b4o0</bpmn:incoming><bpmn:outgoing>SequenceFlow_10c4nq3</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1q0yvbu" name="Достаем ссылку на клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_iin_bin</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="iin">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_143fjl6</bpmn:incoming><bpmn:outgoing>SequenceFlow_07nb2ir</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_1ofyrht" name="Отправляем SWIFT" calledElement="MT501Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0kohaui</bpmn:incoming><bpmn:outgoing>SequenceFlow_0h3vdxs</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_1a1m736" name="Получаем референс"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "swiftMessageEntity",
         "filter": { 
		"instanceId": "${accountId}",
		"instanceType": "BOOK"
	},
	"projection": { 
		"refId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="SWIFT_MSG_REF"><camunda:script scriptFormat="JavaScript">JSON.parse(response).cursor.firstBatch[0].refId;</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1ble6ab</bpmn:incoming><bpmn:outgoing>SequenceFlow_1euy9xl</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1chtkbf" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/SWIFT_MSG_REF?incrementVersion=true&amp;value=${SWIFT_MSG_REF}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1euy9xl</bpmn:incoming><bpmn:outgoing>SequenceFlow_1lvi3l8</bpmn:outgoing></bpmn:serviceTask><bpmn:receiveTask id="ReceiveTask_1rad4b4" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_1dci79x"><bpmn:incoming>SequenceFlow_0q9coro</bpmn:incoming><bpmn:outgoing>Flow_0ymhv1z</bpmn:outgoing></bpmn:receiveTask><bpmn:serviceTask id="ServiceTask_0hax1ps" name="Сохраняем 539"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/attach/${swiftId}?type=BOOK&amp;instanceId=${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_08fc57y</bpmn:incoming><bpmn:outgoing>SequenceFlow_1wfbkyt</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1122zoj" name="Меняем статус заявки на изменение счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+исполнена.+SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_18sjs39</bpmn:incoming><bpmn:outgoing>SequenceFlow_1v7b4o0</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0uf7mox" default="SequenceFlow_0kxondf"><bpmn:incoming>SequenceFlow_1wfbkyt</bpmn:incoming><bpmn:outgoing>SequenceFlow_0kxondf</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0nbc4i6</bpmn:outgoing><bpmn:outgoing>Flow_0rb6259</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_1w2x7sm" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0kxondf</bpmn:incoming><bpmn:incoming>Flow_1pe6yh4</bpmn:incoming><bpmn:outgoing>SequenceFlow_1gocvi6</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_06xlb0q" name="Генерируем печатные формы" calledElement="AccountOrderGeneration"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0pox39p</bpmn:incoming><bpmn:outgoing>SequenceFlow_1fstj7w</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_09zh963" name="Меняем статус заявки SWIFT принят"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0rb6259</bpmn:incoming><bpmn:outgoing>Flow_185aknc</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1yahd04" name="Меняем статус заявки SWIFT принят для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_185aknc</bpmn:incoming><bpmn:outgoing>SequenceFlow_0q9coro</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1c5ry26" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1gocvi6</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dmufjl</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1rro56h" name="Меняем статус заявки SWIFT исполнен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0nbc4i6</bpmn:incoming><bpmn:outgoing>SequenceFlow_0pox39p</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1gj21n7" name="Меняем статус заявки SWIFT отправлен для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0h3vdxs</bpmn:incoming><bpmn:outgoing>SequenceFlow_1b3mxhk</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_05t0vxy" name="Меняем статус заявки SWIFT отправлен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1b3mxhk</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ble6ab</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1vw0moj" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ecfp30</bpmn:incoming><bpmn:outgoing>SequenceFlow_1fk15g8</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1jzfekn" name="Генерируем номер счета и договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/sequence/next/Account?default=1028103861</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="accountNumber">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_05rvoo8</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ecfp30</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0zrrfiv" sourceRef="ExclusiveGateway_1uieydq" targetRef="ExclusiveGateway_1y61cub"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == "false" &amp;&amp; firstStep == "false"&amp;&amp; contractFound == "false"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0145g3v" sourceRef="ExclusiveGateway_1uieydq" targetRef="ServiceTask_085b0gy"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0wcqrj7" sourceRef="ExclusiveGateway_1uieydq" targetRef="ExclusiveGateway_1858d3c"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${found == "false" &amp;&amp; firstStep == "true" &amp;&amp; contractFound == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1r4of02" sourceRef="ServiceTask_085b0gy" targetRef="ParallelGateway_16llh36" /><bpmn:sequenceFlow id="SequenceFlow_0m6hg77" sourceRef="ParallelGateway_16llh36" targetRef="ServiceTask_1c4qifq" /><bpmn:sequenceFlow id="SequenceFlow_0xux1qs" sourceRef="ServiceTask_1c4qifq" targetRef="ParallelGateway_1s8xjxz" /><bpmn:sequenceFlow id="SequenceFlow_12t1c7z" sourceRef="ParallelGateway_16llh36" targetRef="ReceiveTask_0xkgtxr" /><bpmn:sequenceFlow id="SequenceFlow_1dsk1ce" sourceRef="ReceiveTask_0xkgtxr" targetRef="ParallelGateway_1s8xjxz" /><bpmn:sequenceFlow id="SequenceFlow_0xdvyzk" sourceRef="ParallelGateway_1s8xjxz" targetRef="ScriptTask_0bug6t7" /><bpmn:sequenceFlow id="SequenceFlow_1q6tqg6" sourceRef="CallActivity_0h5utps" targetRef="ScriptTask_0km7u6z" /><bpmn:sequenceFlow id="SequenceFlow_1e6z4nj" sourceRef="ServiceTask_0m5gwfy" targetRef="ServiceTask_1fb2ted" /><bpmn:sequenceFlow id="SequenceFlow_16mp7hp" sourceRef="ServiceTask_1p00qtu" targetRef="ServiceTask_18v2xnd" /><bpmn:sequenceFlow id="SequenceFlow_075tjcm" sourceRef="CallActivity_0kpsn3g" targetRef="ServiceTask_0p3bry0" /><bpmn:sequenceFlow id="SequenceFlow_1hmqx4f" sourceRef="ServiceTask_1vr11n8" targetRef="ServiceTask_1d7dby5" /><bpmn:sequenceFlow id="SequenceFlow_0ia4s3o" sourceRef="ServiceTask_1d7dby5" targetRef="ServiceTask_00zwumc" /><bpmn:sequenceFlow id="SequenceFlow_0r7a1d3" sourceRef="ServiceTask_00zwumc" targetRef="Activity_1ycbip0" /><bpmn:sequenceFlow id="SequenceFlow_15g7clm" sourceRef="ExclusiveGateway_12ajhck" targetRef="ServiceTask_1rvxa1p" /><bpmn:sequenceFlow id="SequenceFlow_0eqydvf" sourceRef="ExclusiveGateway_12ajhck" targetRef="ServiceTask_13wszbj"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "00"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_15sq5z5" sourceRef="ServiceTask_1rvxa1p" targetRef="ServiceTask_05rbxmf" /><bpmn:sequenceFlow id="SequenceFlow_1lg41uz" sourceRef="ServiceTask_13wszbj" targetRef="ServiceTask_1p00qtu" /><bpmn:sequenceFlow id="SequenceFlow_01z0an3" sourceRef="ServiceTask_19cuu35" targetRef="ServiceTask_1wyo77f" /><bpmn:sequenceFlow id="SequenceFlow_1yo9teu" sourceRef="ServiceTask_0p3bry0" targetRef="ServiceTask_1vr11n8" /><bpmn:sequenceFlow id="SequenceFlow_1xtwzcx" sourceRef="ParallelGateway_1512xxj" targetRef="ServiceTask_02xtlas" /><bpmn:sequenceFlow id="SequenceFlow_1wi9gqa" sourceRef="ServiceTask_02xtlas" targetRef="ParallelGateway_1dv8o3m" /><bpmn:sequenceFlow id="SequenceFlow_1fk15g8" sourceRef="ServiceTask_1vw0moj" targetRef="ExclusiveGateway_1rargnb" /><bpmn:sequenceFlow id="SequenceFlow_0crpdu9" sourceRef="ParallelGateway_1512xxj" targetRef="ReceiveTask_1j8z9q7" /><bpmn:sequenceFlow id="SequenceFlow_0gz01hi" sourceRef="ReceiveTask_1j8z9q7" targetRef="ParallelGateway_1dv8o3m" /><bpmn:sequenceFlow id="SequenceFlow_12u2vmq" sourceRef="ParallelGateway_1dv8o3m" targetRef="ScriptTask_1aergck" /><bpmn:sequenceFlow id="SequenceFlow_1anq4c9" sourceRef="CallActivity_0lxrxz4" targetRef="ScriptTask_1pnygir" /><bpmn:sequenceFlow id="SequenceFlow_07nb2ir" sourceRef="ServiceTask_1q0yvbu" targetRef="Activity_1dhhl51" /><bpmn:sequenceFlow id="SequenceFlow_1v7b4o0" sourceRef="ServiceTask_1122zoj" targetRef="ServiceTask_0f4n0v3" /><bpmn:sequenceFlow id="SequenceFlow_10c4nq3" sourceRef="ServiceTask_0f4n0v3" targetRef="Activity_0m8dq2e" /><bpmn:sequenceFlow id="SequenceFlow_0h3vdxs" sourceRef="CallActivity_1ofyrht" targetRef="ServiceTask_1gj21n7" /><bpmn:sequenceFlow id="SequenceFlow_1ble6ab" sourceRef="ServiceTask_05t0vxy" targetRef="ServiceTask_1a1m736" /><bpmn:sequenceFlow id="SequenceFlow_1euy9xl" sourceRef="ServiceTask_1a1m736" targetRef="ServiceTask_1chtkbf" /><bpmn:sequenceFlow id="SequenceFlow_1lvi3l8" sourceRef="ServiceTask_1chtkbf" targetRef="Activity_19g6lx4" /><bpmn:sequenceFlow id="SequenceFlow_0q9coro" sourceRef="ServiceTask_1yahd04" targetRef="ReceiveTask_1rad4b4" /><bpmn:sequenceFlow id="SequenceFlow_1wfbkyt" sourceRef="ServiceTask_0hax1ps" targetRef="ExclusiveGateway_0uf7mox" /><bpmn:sequenceFlow id="SequenceFlow_0kxondf" sourceRef="ExclusiveGateway_0uf7mox" targetRef="ServiceTask_1w2x7sm" /><bpmn:sequenceFlow id="SequenceFlow_0nbc4i6" sourceRef="ExclusiveGateway_0uf7mox" targetRef="ServiceTask_1rro56h"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "00"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1gocvi6" sourceRef="ServiceTask_1w2x7sm" targetRef="ServiceTask_1c5ry26" /><bpmn:sequenceFlow id="SequenceFlow_0pox39p" sourceRef="ServiceTask_1rro56h" targetRef="CallActivity_06xlb0q" /><bpmn:sequenceFlow id="SequenceFlow_1b3mxhk" sourceRef="ServiceTask_1gj21n7" targetRef="ServiceTask_05t0vxy" /><bpmn:sequenceFlow id="SequenceFlow_0ecfp30" sourceRef="ServiceTask_1jzfekn" targetRef="ServiceTask_1vw0moj" /><bpmn:serviceTask id="ServiceTask_1cmovem" name="Создаем заявку на регистрацию счета" camunda:asyncBefore="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "account")
.prop("hlk_Account_Number" , accountNumber)
.prop("hlk_account_type_contract" , "Брокерское обслуживание ЮЛ")
.prop("hlk_account_number_contract" , accountNumber.substring(accountNumber.length()-6))
.prop("hlk_app_date" , regDate)
.prop("hlk_invoice_subaccount_type" , "Субсчет держателя")
.prop("hlk_InContract_ID_Client" , clientPrimaryId)
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type","0")
.prop("hlk_autostart" , true)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0o6utfn</bpmn:incoming><bpmn:outgoing>SequenceFlow_0lf8n3d</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="ParallelGateway_0jfz99u" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_0zpc351</bpmn:incoming><bpmn:outgoing>SequenceFlow_0o6utfn</bpmn:outgoing><bpmn:outgoing>SequenceFlow_084utvc</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_1cpmpxg" name="Ожидаем сообщения о готовности к старту от подпроцесса" messageRef="Message_0bb2puz"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="ez_step">accountCreated</camunda:outputParameter><camunda:outputParameter name="accountProcess">${processKey}</camunda:outputParameter><camunda:outputParameter name="accountId">${instanceId}</camunda:outputParameter><camunda:outputParameter name="accountTemplateId">${templateId}</camunda:outputParameter><camunda:outputParameter name="accountType">${type}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectEditorUrl">${ezdocObjectEditorUrl}</camunda:outputParameter><camunda:outputParameter name="accountEzDocObjectUrl">${ezdocObjectUrl}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_084utvc</bpmn:incoming><bpmn:outgoing>SequenceFlow_0bhzk29</bpmn:outgoing></bpmn:receiveTask><bpmn:parallelGateway id="ParallelGateway_1nvbu6g"><bpmn:incoming>SequenceFlow_0lf8n3d</bpmn:incoming><bpmn:incoming>SequenceFlow_0bhzk29</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ew1tcy</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id="ParallelGateway_0oyk5nm" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_0nspu5f</bpmn:incoming><bpmn:outgoing>SequenceFlow_12xh0fm</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1k5xo6p</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_0gse7xv" name="Ожидаем сообщения о готовности к старту от подпроцесса" messageRef="Message_0bb2puz"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="ez_step">agreementCreated</camunda:outputParameter><camunda:outputParameter name="agreementProcess">${processKey}</camunda:outputParameter><camunda:outputParameter name="agreementId">${instanceId}</camunda:outputParameter><camunda:outputParameter name="agreementTemplateId">${templateId}</camunda:outputParameter><camunda:outputParameter name="agreementType">${type}</camunda:outputParameter><camunda:outputParameter name="agreementEzDocObjectEditorUrl">${ezdocObjectEditorUrl}</camunda:outputParameter><camunda:outputParameter name="agreementEzDocObjectUrl">${ezdocObjectUrl}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>SequenceFlow_12xh0fm</bpmn:incoming><bpmn:outgoing>SequenceFlow_0t02au9</bpmn:outgoing></bpmn:receiveTask><bpmn:parallelGateway id="ParallelGateway_1eeffn0"><bpmn:incoming>SequenceFlow_0t02au9</bpmn:incoming><bpmn:incoming>SequenceFlow_00m2sam</bpmn:incoming><bpmn:outgoing>SequenceFlow_1rwf2e0</bpmn:outgoing></bpmn:parallelGateway><bpmn:serviceTask id="ServiceTask_0l2vuj6" name="Создаем заявку на регистрацию договора" camunda:asyncBefore="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_EDS_Confirmation" , false)
.prop("hlk_executor" , initiator)
.prop("hlk_contract_status" , "Открыт")
.prop("hlk_account_type_contract" , "Брокерское обслуживание ЮЛ")
.prop("hlk_source_doc" , "Вручную")
.prop("ObjectType" , "agreement")
.prop("hlk_app_date" , regDate)
.prop("hlk_Contract_Start_Date" , regDate)
.prop("hlk_InContract_ID_Client" , clientPrimaryId)
.prop("hlk_client_FL", ShortNameCurrentCtpt)
.prop("hlk_counterparty_type","0")
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1k5xo6p</bpmn:incoming><bpmn:outgoing>SequenceFlow_00m2sam</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_019nw18" name="Сообщаем об окончании процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_152fzn2</bpmn:incoming><bpmn:outgoing>SequenceFlow_1szcady</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0ixw5tm"><bpmn:incoming>SequenceFlow_1szcady</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_1wfx7o0" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1w1rnoi</bpmn:incoming><bpmn:outgoing>SequenceFlow_11qk5dj</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_18ylp9u" name="Сообщаем об окончании подпроцесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0nhg2ij</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gw4j8s</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1s1bzfn" name="Сообщаем об окончании подпроцесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0gw4j8s</bpmn:incoming><bpmn:outgoing>SequenceFlow_1nsskue</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1dcmes7" name="Достаем ссылку на клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_iin_bin</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="iin">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1qf2e4i</bpmn:incoming><bpmn:outgoing>SequenceFlow_1f7y0am</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_1swedsz" name="Отправляем SWIFT" calledElement="MT501Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_08a0tho</bpmn:incoming><bpmn:outgoing>SequenceFlow_1jljfyz</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_1m8pcee" name="Получаем референс"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "swiftMessageEntity",
         "filter": { 
		"instanceId": "${accountId}",
		"instanceType": "BOOK"
	},
	"projection": { 
		"refId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="SWIFT_MSG_REF"><camunda:script scriptFormat="JavaScript">JSON.parse(response).cursor.firstBatch[0].refId;</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0n3mon5</bpmn:incoming><bpmn:outgoing>SequenceFlow_0613icj</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0ayl810" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/SWIFT_MSG_REF?incrementVersion=true&amp;value=${SWIFT_MSG_REF}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0613icj</bpmn:incoming><bpmn:outgoing>Flow_1hyg3u8</bpmn:outgoing></bpmn:serviceTask><bpmn:receiveTask id="ReceiveTask_0v67pgx" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_1dci79x"><bpmn:incoming>SequenceFlow_0on2akm</bpmn:incoming><bpmn:outgoing>Flow_1kuuj80</bpmn:outgoing></bpmn:receiveTask><bpmn:serviceTask id="ServiceTask_1fk5klx" name="Сохраняем 539"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/attach/${swiftId}?type=BOOK&amp;instanceId=${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_05xy7fm</bpmn:incoming><bpmn:outgoing>SequenceFlow_0f1c4ih</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0sv0mmc" name="Смотрим статус"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_OPERATION_STATUS</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1kuuj80</bpmn:incoming><bpmn:incoming>Flow_1mw211v</bpmn:incoming><bpmn:outgoing>SequenceFlow_1me1tl5</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0ds9z6z" name="Меняем статус заявки на регистрацию счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+исполнена.+SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1csi5mu</bpmn:incoming><bpmn:outgoing>SequenceFlow_1lcxjna</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1qems6q" name="Меняем статус заявки на регистрацию договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${agreementId}?label=Заявка+исполнена.+Договор+зарегистрирован</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1lcxjna</bpmn:incoming><bpmn:outgoing>SequenceFlow_0nhg2ij</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_0ck756x" default="SequenceFlow_14rfcbf"><bpmn:incoming>SequenceFlow_0f1c4ih</bpmn:incoming><bpmn:outgoing>SequenceFlow_14rfcbf</bpmn:outgoing><bpmn:outgoing>SequenceFlow_18fdw48</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1dcz248</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0m4ermj" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_14rfcbf</bpmn:incoming><bpmn:outgoing>SequenceFlow_0bhkjhz</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_1xb48l8" name="Генерируем печатные формы" calledElement="AccountOrderGeneration"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in sourceExpression="${accountId}" target="accountId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0y8cnb6</bpmn:incoming><bpmn:incoming>SequenceFlow_1esin3s</bpmn:incoming><bpmn:outgoing>SequenceFlow_08ktsbq</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_1rqzokw" name="Меняем статус заявки SWIFT принят"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_18fdw48</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ut2aiz</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0xlneud" name="Меняем статус заявки SWIFT принят для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+принят</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ut2aiz</bpmn:incoming><bpmn:outgoing>SequenceFlow_0on2akm</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1oi76m6" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0bhkjhz</bpmn:incoming><bpmn:outgoing>SequenceFlow_0rpab3b</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0gchh1h" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${agreementId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0rpab3b</bpmn:incoming><bpmn:outgoing>SequenceFlow_0qil233</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="ScriptTask_0b85v1t" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="acceptDate"><bpmn:incoming>SequenceFlow_0d5warq</bpmn:incoming><bpmn:outgoing>SequenceFlow_151uui9</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '').substring(0, 10)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_0tbl0a7" name="Считаем разницу между датами" scriptFormat="javascript" camunda:resultVariable="difference"><bpmn:incoming>SequenceFlow_151uui9</bpmn:incoming><bpmn:outgoing>SequenceFlow_03w4hos</bpmn:outgoing><bpmn:script>Math.floor(Math.abs(new Date(acceptDate) - new Date(regDate))/(1000 * 60 * 60 * 24));</bpmn:script></bpmn:scriptTask><bpmn:exclusiveGateway id="ExclusiveGateway_1lggtwh" default="SequenceFlow_1u7yefs"><bpmn:incoming>SequenceFlow_03w4hos</bpmn:incoming><bpmn:outgoing>SequenceFlow_0y8cnb6</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1u7yefs</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_0o6sv5l" name="Меняем дату регистрации договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${agreementId}/setAttribute/hlk_Contract_Start_Date?incrementVersion=true&amp;value=${acceptDate}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">**</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1u7yefs</bpmn:incoming><bpmn:outgoing>SequenceFlow_1esin3s</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_0eau1ge" name="Запускаем процесс регистрации счета" calledElement="TEMPLATE_INSTANCE_PROCESS_hlk_securities_account_6e551763-f964-457e-89bc-9a53378b5d7c"><bpmn:extensionElements><camunda:in sourceExpression="${accountId}" target="instanceId" /><camunda:in sourceExpression="${accountTemplateId}" target="templateId" /><camunda:in sourceExpression="${accountType}" target="type" /><camunda:in sourceExpression="${accountEzDocObjectEditorUrl}" target="ezdocObjectEditorUrl" /><camunda:in sourceExpression="${accountEzDocObjectUrl}" target="ezdocObjectUrl" /><camunda:in sourceExpression="${initiator}" target="initiator" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in businessKey="${accountType.toLowerCase()}_${accountId}" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1mfcgsi</bpmn:incoming><bpmn:outgoing>SequenceFlow_1a4zbz6</bpmn:outgoing></bpmn:callActivity><bpmn:callActivity id="CallActivity_1no4c6z" name="Запускаем процесс регистрации договора" calledElement="TEMPLATE_INSTANCE_PROCESS_hlk_AppRegContracts_41524162-fa02-47df-9197-2338660d72f4"><bpmn:extensionElements><camunda:in sourceExpression="${agreementId}" target="instanceId" /><camunda:in sourceExpression="${agreementTemplateId}" target="templateId" /><camunda:in sourceExpression="${agreementType}" target="type" /><camunda:in sourceExpression="${agreementEzDocObjectEditorUrl}" target="ezdocObjectEditorUrl" /><camunda:in sourceExpression="${agreementEzDocObjectUrl}" target="ezdocObjectUrl" /><camunda:in sourceExpression="${initiator}" target="initiator" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /><camunda:in businessKey="${agreementType.toLowerCase()}_${agreementId}" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1s2dn1j</bpmn:incoming><bpmn:outgoing>SequenceFlow_090x4gz</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_0wwx1zt" name="Получаем тип договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${agreementId}/getAttribute/hlk_account_type_contract</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_090x4gz</bpmn:incoming><bpmn:outgoing>SequenceFlow_1yysloo</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1gz8lt5" default="SequenceFlow_1rab3s8"><bpmn:incoming>SequenceFlow_0ff47px</bpmn:incoming><bpmn:outgoing>SequenceFlow_0hg9usu</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1rab3s8</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_1val6ib" name="Меняем статус заявки на регистрацию договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${agreementId}?label=Заявка+исполнена.+Договор+зарегистрирован</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1rab3s8</bpmn:incoming><bpmn:outgoing>SequenceFlow_12t45ln</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0xiq461" name="Сообщаем об окончании подпроцесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_12t45ln</bpmn:incoming><bpmn:outgoing>SequenceFlow_12rylk5</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1geaeyf" name="Сообщаем об окончании процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0knxejt</bpmn:incoming><bpmn:outgoing>SequenceFlow_190oh0n</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_0fhix8e"><bpmn:incoming>SequenceFlow_190oh0n</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_08f7xkg" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_035bnmm</bpmn:incoming><bpmn:outgoing>SequenceFlow_0knxejt</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0q9g2w4" name="Создаем клиента" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/LEGAL_ENTITY/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_counterparty_type" : "2",
"ShortName" : "${ShortNameCurrentCtpt}",
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_12rylk5</bpmn:incoming><bpmn:outgoing>SequenceFlow_1kjlcsw</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0qqqeeg" name="Создаем договор" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"EXCEL_NAME" : "CONTRACT"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1nnm9p0</bpmn:incoming><bpmn:outgoing>SequenceFlow_035bnmm</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_13j2pw0" name="Достаем ссылку на клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_iin_bin</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="iin">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1efwwyp</bpmn:incoming><bpmn:outgoing>SequenceFlow_1nnm9p0</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1iqn2r0" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0hg9usu</bpmn:incoming><bpmn:outgoing>SequenceFlow_1xj9frr</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0agjzp1" name="Получаем номер договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${agreementId}/getAttribute/hlk_account_number_contract</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="Contract">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1xj9frr</bpmn:incoming><bpmn:outgoing>SequenceFlow_195kuub</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1oq71o7" name="Достаем ссылку на клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/ShortName</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="ShortName">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_11qk5dj</bpmn:incoming><bpmn:outgoing>SequenceFlow_15s3j7v</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_13rdxrn" name="Меняем статус заявки SWIFT исполнен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1dcz248</bpmn:incoming><bpmn:outgoing>SequenceFlow_0d5warq</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_02qt3oo" name="Меняем статус заявки SWIFT отправлен для счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1jljfyz</bpmn:incoming><bpmn:outgoing>SequenceFlow_19drmz5</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0h1ma5z" name="Меняем статус заявки SWIFT отправлен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=SWIFT+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_19drmz5</bpmn:incoming><bpmn:outgoing>SequenceFlow_0n3mon5</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0o6utfn" sourceRef="ParallelGateway_0jfz99u" targetRef="ServiceTask_1cmovem" /><bpmn:sequenceFlow id="SequenceFlow_0lf8n3d" sourceRef="ServiceTask_1cmovem" targetRef="ParallelGateway_1nvbu6g" /><bpmn:sequenceFlow id="SequenceFlow_084utvc" sourceRef="ParallelGateway_0jfz99u" targetRef="ReceiveTask_1cpmpxg" /><bpmn:sequenceFlow id="SequenceFlow_0bhzk29" sourceRef="ReceiveTask_1cpmpxg" targetRef="ParallelGateway_1nvbu6g" /><bpmn:sequenceFlow id="SequenceFlow_1ew1tcy" sourceRef="ParallelGateway_1nvbu6g" targetRef="ScriptTask_0c9j5a9" /><bpmn:sequenceFlow id="SequenceFlow_12xh0fm" sourceRef="ParallelGateway_0oyk5nm" targetRef="ReceiveTask_0gse7xv" /><bpmn:sequenceFlow id="SequenceFlow_1k5xo6p" sourceRef="ParallelGateway_0oyk5nm" targetRef="ServiceTask_0l2vuj6" /><bpmn:sequenceFlow id="SequenceFlow_0t02au9" sourceRef="ReceiveTask_0gse7xv" targetRef="ParallelGateway_1eeffn0" /><bpmn:sequenceFlow id="SequenceFlow_00m2sam" sourceRef="ServiceTask_0l2vuj6" targetRef="ParallelGateway_1eeffn0" /><bpmn:sequenceFlow id="SequenceFlow_1rwf2e0" sourceRef="ParallelGateway_1eeffn0" targetRef="ScriptTask_0eei9nh" /><bpmn:sequenceFlow id="SequenceFlow_1szcady" sourceRef="ServiceTask_019nw18" targetRef="EndEvent_0ixw5tm" /><bpmn:sequenceFlow id="SequenceFlow_11qk5dj" sourceRef="ServiceTask_1wfx7o0" targetRef="ServiceTask_1oq71o7" /><bpmn:sequenceFlow id="SequenceFlow_1f7y0am" sourceRef="ServiceTask_1dcmes7" targetRef="Activity_1s4xarq" /><bpmn:sequenceFlow id="SequenceFlow_0nhg2ij" sourceRef="ServiceTask_1qems6q" targetRef="ServiceTask_18ylp9u" /><bpmn:sequenceFlow id="SequenceFlow_0gw4j8s" sourceRef="ServiceTask_18ylp9u" targetRef="ServiceTask_1s1bzfn" /><bpmn:sequenceFlow id="SequenceFlow_1a4zbz6" sourceRef="CallActivity_0eau1ge" targetRef="ScriptTask_1k21fbj" /><bpmn:sequenceFlow id="SequenceFlow_1jljfyz" sourceRef="CallActivity_1swedsz" targetRef="ServiceTask_02qt3oo" /><bpmn:sequenceFlow id="SequenceFlow_0n3mon5" sourceRef="ServiceTask_0h1ma5z" targetRef="ServiceTask_1m8pcee" /><bpmn:sequenceFlow id="SequenceFlow_0613icj" sourceRef="ServiceTask_1m8pcee" targetRef="ServiceTask_0ayl810" /><bpmn:sequenceFlow id="SequenceFlow_0on2akm" sourceRef="ServiceTask_0xlneud" targetRef="ReceiveTask_0v67pgx" /><bpmn:sequenceFlow id="SequenceFlow_1me1tl5" sourceRef="ServiceTask_0sv0mmc" targetRef="Activity_1tu5ax1" /><bpmn:sequenceFlow id="SequenceFlow_0f1c4ih" sourceRef="ServiceTask_1fk5klx" targetRef="ExclusiveGateway_0ck756x" /><bpmn:sequenceFlow id="SequenceFlow_1lcxjna" sourceRef="ServiceTask_0ds9z6z" targetRef="ServiceTask_1qems6q" /><bpmn:sequenceFlow id="SequenceFlow_14rfcbf" sourceRef="ExclusiveGateway_0ck756x" targetRef="ServiceTask_0m4ermj" /><bpmn:sequenceFlow id="SequenceFlow_18fdw48" sourceRef="ExclusiveGateway_0ck756x" targetRef="ServiceTask_1rqzokw"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "30"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1dcz248" sourceRef="ExclusiveGateway_0ck756x" targetRef="ServiceTask_13rdxrn"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "00"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0bhkjhz" sourceRef="ServiceTask_0m4ermj" targetRef="ServiceTask_1oi76m6" /><bpmn:sequenceFlow id="SequenceFlow_0y8cnb6" sourceRef="ExclusiveGateway_1lggtwh" targetRef="CallActivity_1xb48l8"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${difference &lt;= 3}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1esin3s" sourceRef="ServiceTask_0o6sv5l" targetRef="CallActivity_1xb48l8" /><bpmn:sequenceFlow id="SequenceFlow_0ut2aiz" sourceRef="ServiceTask_1rqzokw" targetRef="ServiceTask_0xlneud" /><bpmn:sequenceFlow id="SequenceFlow_0rpab3b" sourceRef="ServiceTask_1oi76m6" targetRef="ServiceTask_0gchh1h" /><bpmn:sequenceFlow id="SequenceFlow_0d5warq" sourceRef="ServiceTask_13rdxrn" targetRef="ScriptTask_0b85v1t" /><bpmn:sequenceFlow id="SequenceFlow_151uui9" sourceRef="ScriptTask_0b85v1t" targetRef="ScriptTask_0tbl0a7" /><bpmn:sequenceFlow id="SequenceFlow_03w4hos" sourceRef="ScriptTask_0tbl0a7" targetRef="ExclusiveGateway_1lggtwh" /><bpmn:sequenceFlow id="SequenceFlow_1u7yefs" sourceRef="ExclusiveGateway_1lggtwh" targetRef="ServiceTask_0o6sv5l" /><bpmn:sequenceFlow id="SequenceFlow_090x4gz" sourceRef="CallActivity_1no4c6z" targetRef="ServiceTask_0wwx1zt" /><bpmn:sequenceFlow id="SequenceFlow_0hg9usu" sourceRef="ExclusiveGateway_1gz8lt5" targetRef="ServiceTask_1iqn2r0"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "Брокерское обслуживание ЮЛ"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1rab3s8" sourceRef="ExclusiveGateway_1gz8lt5" targetRef="ServiceTask_1val6ib" /><bpmn:sequenceFlow id="SequenceFlow_12t45ln" sourceRef="ServiceTask_1val6ib" targetRef="ServiceTask_0xiq461" /><bpmn:sequenceFlow id="SequenceFlow_12rylk5" sourceRef="ServiceTask_0xiq461" targetRef="ServiceTask_0q9g2w4" /><bpmn:sequenceFlow id="SequenceFlow_0knxejt" sourceRef="ServiceTask_08f7xkg" targetRef="ServiceTask_1geaeyf" /><bpmn:sequenceFlow id="SequenceFlow_190oh0n" sourceRef="ServiceTask_1geaeyf" targetRef="EndEvent_0fhix8e" /><bpmn:sequenceFlow id="SequenceFlow_035bnmm" sourceRef="ServiceTask_0qqqeeg" targetRef="ServiceTask_08f7xkg" /><bpmn:sequenceFlow id="SequenceFlow_1kjlcsw" sourceRef="ServiceTask_0q9g2w4" targetRef="Activity_0qqnbt0" /><bpmn:sequenceFlow id="SequenceFlow_1nnm9p0" sourceRef="ServiceTask_13j2pw0" targetRef="ServiceTask_0qqqeeg" /><bpmn:sequenceFlow id="SequenceFlow_1xj9frr" sourceRef="ServiceTask_1iqn2r0" targetRef="ServiceTask_0agjzp1" /><bpmn:sequenceFlow id="SequenceFlow_15s3j7v" sourceRef="ServiceTask_1oq71o7" targetRef="Activity_06n74vj" /><bpmn:sequenceFlow id="SequenceFlow_19drmz5" sourceRef="ServiceTask_02qt3oo" targetRef="ServiceTask_0h1ma5z" /><bpmn:serviceTask id="ServiceTask_1b90zkk" name="определяем primaryId клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_18j406a</bpmn:incoming><bpmn:outgoing>SequenceFlow_0x72uka</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1p5d0s8" sourceRef="ServiceTask_01yrzv3" targetRef="ServiceTask_0th3stl" /><bpmn:serviceTask id="ServiceTask_0nhzqp5" name="Определяем тип свифта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_swift_type?incrementVersion=true&amp;value=100</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_195kuub</bpmn:incoming><bpmn:outgoing>SequenceFlow_0zpc351</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_195kuub" sourceRef="ServiceTask_0agjzp1" targetRef="ServiceTask_0nhzqp5" /><bpmn:sequenceFlow id="SequenceFlow_0zpc351" sourceRef="ServiceTask_0nhzqp5" targetRef="ParallelGateway_0jfz99u" /><bpmn:serviceTask id="ServiceTask_07qbk09" name="Определяем тип свифта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_swift_type?incrementVersion=true&amp;value=100</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_007b0l4</bpmn:incoming><bpmn:outgoing>SequenceFlow_0zia8a6</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1n448wl" name="Определяем тип свифта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_swift_type?incrementVersion=true&amp;value=400</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0c3pgko</bpmn:incoming><bpmn:outgoing>SequenceFlow_0wot84t</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1gln2m5" name="Технический блок:&#10;Копируем instanceId" camunda:asyncBefore="true" camunda:expression="${instanceIdCopy}" camunda:resultVariable="instanceId"><bpmn:incoming>SequenceFlow_1yysloo</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ff47px</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1yysloo" sourceRef="ServiceTask_0wwx1zt" targetRef="ServiceTask_1gln2m5" /><bpmn:sequenceFlow id="SequenceFlow_0ff47px" sourceRef="ServiceTask_1gln2m5" targetRef="ExclusiveGateway_1gz8lt5" /><bpmn:serviceTask id="ServiceTask_04gjtjo" name="Достаем айди заявки на регистрацию"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_app_id</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="primaryId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1j43obu</bpmn:incoming><bpmn:outgoing>SequenceFlow_080bapz</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="ScriptTask_1wgjfp7" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="regDate"><bpmn:incoming>SequenceFlow_09hjogj</bpmn:incoming><bpmn:outgoing>SequenceFlow_1vr8esx</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '').substring(0, 10)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_09hjogj" sourceRef="ServiceTask_0ked2y5" targetRef="ScriptTask_1wgjfp7" /><bpmn:serviceTask id="ServiceTask_141ex9d" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"email":"uao@halykfinance.kz",
"subject":"Уведомление о проверке клиента в AML",
"text":"При проверке клиента ${ShortName} в системе AML возникла системная ошибка"
}</camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1bw266j</bpmn:incoming><bpmn:outgoing>SequenceFlow_15f60jo</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_15f60jo" sourceRef="ServiceTask_141ex9d" targetRef="ServiceTask_1gl5wnd" /><bpmn:serviceTask id="ServiceTask_1czn4pj" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"email":"uao@halykfinance.kz",
"subject":"Уведомление о проверке клиента в AML",
"text":"Клиент ${ShortName} не прошел проверку в AML"
}</camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0zpygnk</bpmn:incoming><bpmn:incoming>SequenceFlow_05zeb0l</bpmn:incoming><bpmn:outgoing>SequenceFlow_0mtkhb9</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0mtkhb9" sourceRef="ServiceTask_1czn4pj" targetRef="ServiceTask_1lac7t3" /><bpmn:serviceTask id="ServiceTask_02rqx87" name="Полуаем email клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_email</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="mail">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0qmr9d2</bpmn:incoming><bpmn:incoming>Flow_0dzzjku</bpmn:incoming><bpmn:incoming>Flow_0472cjc</bpmn:incoming><bpmn:outgoing>SequenceFlow_1npo7sm</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_180sflj" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_account_number_contract?incrementVersion=true&amp;value=${accountNumber.substring(accountNumber.length()-6)}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0rhzl98</bpmn:incoming><bpmn:outgoing>SequenceFlow_1lek1z7</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0rhzl98" sourceRef="ServiceTask_004nzs6" targetRef="ServiceTask_180sflj" /><bpmn:sequenceFlow id="SequenceFlow_1lek1z7" sourceRef="ServiceTask_180sflj" targetRef="ExclusiveGateway_1jhjxao" /><bpmn:serviceTask id="ServiceTask_112lc2m" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0z9u429</bpmn:incoming><bpmn:outgoing>SequenceFlow_1bma81o</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0i0nx5m" name="определяем primaryId клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1vr8esx</bpmn:incoming><bpmn:outgoing>SequenceFlow_0z9u429</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0z9u429" sourceRef="ServiceTask_0i0nx5m" targetRef="ServiceTask_112lc2m" /><bpmn:sequenceFlow id="SequenceFlow_1vr8esx" sourceRef="ScriptTask_1wgjfp7" targetRef="ServiceTask_0i0nx5m" /><bpmn:serviceTask id="ServiceTask_0z6dsh7" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_account_number_contract?incrementVersion=true&amp;value=${agreementNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1bma81o</bpmn:incoming><bpmn:outgoing>SequenceFlow_0nsatyu</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1bma81o" sourceRef="ServiceTask_112lc2m" targetRef="ServiceTask_0z6dsh7" /><bpmn:sequenceFlow id="SequenceFlow_0nsatyu" sourceRef="ServiceTask_0z6dsh7" targetRef="ServiceTask_00r8gok" /><bpmn:serviceTask id="ServiceTask_015pl0j" name="определяем ShortName"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_shorttitle</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="ShortName">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_080bapz</bpmn:incoming><bpmn:outgoing>SequenceFlow_0bo3rng</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1gnm4e5" name="Записываем в объект"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"ShortName" : "${ShortName}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0bo3rng</bpmn:incoming><bpmn:outgoing>SequenceFlow_0v4p1h8</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0dqo37u" name="Забираем нормальный ShortName"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/ShortName</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="ShortName">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0v4p1h8</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dt6ega</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0bo3rng" sourceRef="ServiceTask_015pl0j" targetRef="ServiceTask_1gnm4e5" /><bpmn:sequenceFlow id="SequenceFlow_0v4p1h8" sourceRef="ServiceTask_1gnm4e5" targetRef="ServiceTask_0dqo37u" /><bpmn:sequenceFlow id="SequenceFlow_080bapz" sourceRef="ServiceTask_04gjtjo" targetRef="ServiceTask_015pl0j" /><bpmn:sequenceFlow id="SequenceFlow_1dt6ega" sourceRef="ServiceTask_0dqo37u" targetRef="ServiceTask_0jszgbp" /><bpmn:exclusiveGateway id="ExclusiveGateway_0q0wst2" default="SequenceFlow_11rth4v"><bpmn:incoming>Flow_1h0aowp</bpmn:incoming><bpmn:outgoing>SequenceFlow_1k31usl</bpmn:outgoing><bpmn:outgoing>SequenceFlow_11rth4v</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_1k31usl" sourceRef="ExclusiveGateway_0q0wst2" targetRef="Activity_1h2xw26"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${errorCode == ""}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_11rth4v" sourceRef="ExclusiveGateway_0q0wst2" targetRef="Activity_0zv5lnp" /><bpmn:sequenceFlow id="SequenceFlow_08ktsbq" sourceRef="CallActivity_1xb48l8" targetRef="Activity_1pmjttc" /><bpmn:exclusiveGateway id="ExclusiveGateway_1mvnvow" default="SequenceFlow_111sisl"><bpmn:incoming>Flow_03o59ji</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dvd18y</bpmn:outgoing><bpmn:outgoing>SequenceFlow_111sisl</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_1dvd18y" sourceRef="ExclusiveGateway_1mvnvow" targetRef="Activity_0ddiemd"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${errorCode == ""}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_111sisl" sourceRef="ExclusiveGateway_1mvnvow" targetRef="Activity_1j4r9x2" /><bpmn:scriptTask id="ScriptTask_0db6km4" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="acceptDate"><bpmn:incoming>SequenceFlow_1fstj7w</bpmn:incoming><bpmn:outgoing>SequenceFlow_0nmrg5b</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '').substring(0, 10)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_1fstj7w" sourceRef="CallActivity_06xlb0q" targetRef="ScriptTask_0db6km4" /><bpmn:sequenceFlow id="SequenceFlow_0nmrg5b" sourceRef="ScriptTask_0db6km4" targetRef="Activity_07ox5je" /><bpmn:serviceTask id="ServiceTask_0h1p3cx" name="определяем ShortName"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_shorttitle</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="ShortName">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1g9c542</bpmn:incoming><bpmn:outgoing>SequenceFlow_04jevoy</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1yyuulq" name="Записываем в объект"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"ShortName" : "${ShortName}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_04jevoy</bpmn:incoming><bpmn:outgoing>SequenceFlow_1vh4tda</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0x6k7s0" name="Забираем нормальный ShortName"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/ShortName</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="ShortName">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1vh4tda</bpmn:incoming><bpmn:outgoing>SequenceFlow_113dtlj</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_04jevoy" sourceRef="ServiceTask_0h1p3cx" targetRef="ServiceTask_1yyuulq" /><bpmn:sequenceFlow id="SequenceFlow_1vh4tda" sourceRef="ServiceTask_1yyuulq" targetRef="ServiceTask_0x6k7s0" /><bpmn:serviceTask id="ServiceTask_1q5z8z4" name="определяем primaryId клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0zeivpr</bpmn:incoming><bpmn:outgoing>Flow_16006dp</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1tkqtge" name="Создаем клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/LEGAL_ENTITY/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_counterparty_type" : "2",
"hlk_app_id" : "${appId}",
"ShortName" : "${ShortNameCurrentCtpt}",
"hlk_holerr" : "${hlk_account_type_holder}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_19ckp33</bpmn:incoming><bpmn:outgoing>SequenceFlow_0f30nex</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_039de98" sourceRef="ServiceTask_0bi13eo" targetRef="Gateway_1w55w5r" /><bpmn:sequenceFlow id="SequenceFlow_0f30nex" sourceRef="ServiceTask_1tkqtge" targetRef="ExclusiveGateway_08eqqi5" /><bpmn:serviceTask id="ServiceTask_1ffizk3" name="Достаем primaryId заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId1"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1npo7sm</bpmn:incoming><bpmn:outgoing>SequenceFlow_1rxetx3</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1npo7sm" sourceRef="ServiceTask_02rqx87" targetRef="ServiceTask_1ffizk3" /><bpmn:sequenceFlow id="SequenceFlow_1rxetx3" sourceRef="ServiceTask_1ffizk3" targetRef="ScriptTask_1blt2pg" /><bpmn:serviceTask id="ServiceTask_1f5p7kp" name="Определяем есть ли у клиента активный счет в цд"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "invoice",
	"filter": {
		"attributes.hlk_account_owner.primaryId": "${hlk_client_app}",
         "attributes.hlk_clearing_system.primaryId" : "5e46ac7457645400077899c7",
"activityStatus" : "ACTIVE", 
"actual" : true,
                "attributes.hlk_account_type" : "Ценнобумажный"
	},
	"projection": {
		"attributes.hlk_Account_Number": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="accountNumber"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_Account_Number
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0etusxc</bpmn:incoming><bpmn:outgoing>SequenceFlow_07gztl1</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_07gztl1" sourceRef="ServiceTask_1f5p7kp" targetRef="Activity_11xkws6" /><bpmn:callActivity id="CallActivity_0qn4k11" name="Генерируем форму 16" camunda:asyncBefore="true" calledElement="Form16Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${instanceId}" target="instanceId" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1i3kp1j</bpmn:incoming><bpmn:outgoing>SequenceFlow_1virgag</bpmn:outgoing></bpmn:callActivity><bpmn:sequenceFlow id="SequenceFlow_113dtlj" sourceRef="ServiceTask_0x6k7s0" targetRef="ServiceTask_1x7zg3w" /><bpmn:sequenceFlow id="SequenceFlow_1virgag" sourceRef="CallActivity_0qn4k11" targetRef="ServiceTask_1h0za71" /><bpmn:sequenceFlow id="SequenceFlow_0qil233" sourceRef="ServiceTask_0gchh1h" targetRef="Activity_09dwyxs" /><bpmn:sequenceFlow id="SequenceFlow_1dmufjl" sourceRef="ServiceTask_1c5ry26" targetRef="Activity_0dzr25m" /><bpmn:sequenceFlow id="SequenceFlow_040erzn" sourceRef="ServiceTask_05rbxmf" targetRef="Activity_0zf2sc5" /><bpmn:sequenceFlow id="SequenceFlow_0ouej16" sourceRef="ServiceTask_18v2xnd" targetRef="Activity_09idqmu" /><bpmn:sequenceFlow id="SequenceFlow_1fq144i" sourceRef="ServiceTask_0vs4mgz" targetRef="ExclusiveGateway_1uieydq" /><bpmn:callActivity id="CallActivity_1762oba" name="Открываем пакет счетов" camunda:asyncAfter="true" calledElement="AccountPoolCreateLegalEntity"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1nsskue</bpmn:incoming><bpmn:outgoing>SequenceFlow_1qf2e4i</bpmn:outgoing></bpmn:callActivity><bpmn:sequenceFlow id="SequenceFlow_1nsskue" sourceRef="ServiceTask_1s1bzfn" targetRef="CallActivity_1762oba" /><bpmn:sequenceFlow id="SequenceFlow_1qf2e4i" sourceRef="CallActivity_1762oba" targetRef="ServiceTask_1dcmes7" /><bpmn:serviceTask id="ServiceTask_1fmpyhv" name="Получаем аттрибуты"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttributes?systemName=hlk_gintinul&amp;systemName=hlk_signfatcaul&amp;systemName=hlk_residentusaul&amp;systemName=hlk_iin_bin&amp;systemName=hlk_residentFL&amp;systemName=hlk_typesdoc</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="attributes">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_040pzvc</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ehgc96</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="ScriptTask_1iopm0p" name="Проверяем правильность заполнения" scriptFormat="javascript" camunda:resultVariable="validationErrors"><bpmn:incoming>SequenceFlow_0ehgc96</bpmn:incoming><bpmn:outgoing>SequenceFlow_1jsx5yj</bpmn:outgoing><bpmn:script>var attrs = JSON.parse(attributes);
var errors = {};

//Сами проверки
if (!attrs.hlk_gintinul &amp;&amp; attrs.hlk_signfatcaul === 'FATCA' &amp;&amp; attrs.hlk_residentusaul) {
    errors.hlk_gintinul = {
        verified: false,
        decision: 'Параметр является обязательным, если выставлены Признак FATCA и Резидент США'
    };
} else {
    errors.hlk_gintinul = {
        verified: true
    }
}

if (!attrs.hlk_iin_bin &amp;&amp; (attrs.hlk_residentFL || attrs.hlk_typesdoc === 'Вид на жительство иностранца в Республике Казахстан')) {
    errors.hlk_iin_bin = {
        verified: false,
        decision: 'Обязательно к заполнению'
    };
} else {
    errors.hlk_iin_bin = {
        verified: true
    }
}

JSON.stringify(errors);</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="ServiceTask_01x0ifj" name="Записываем результат валидации"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/verification/${instanceId}</camunda:inputParameter><camunda:inputParameter name="payload">${validationErrors}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1jsx5yj</bpmn:incoming><bpmn:outgoing>SequenceFlow_053dp8e</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_1cxy58v" default="SequenceFlow_1kvafon"><bpmn:incoming>SequenceFlow_053dp8e</bpmn:incoming><bpmn:outgoing>SequenceFlow_1kvafon</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1qr6zk8</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_1kvafon" sourceRef="ExclusiveGateway_1cxy58v" targetRef="UserTask_0wgi5ca" /><bpmn:sequenceFlow id="SequenceFlow_1qr6zk8" sourceRef="ExclusiveGateway_1cxy58v" targetRef="CallActivity_1fympif"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="javascript">var verified =true;
var v = JSON.parse(validationErrors);
for (key in v) {
    verified = verified &amp;&amp; v[key].verified; 
}
verified;</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0ehgc96" sourceRef="ServiceTask_1fmpyhv" targetRef="ScriptTask_1iopm0p" /><bpmn:sequenceFlow id="SequenceFlow_1jsx5yj" sourceRef="ScriptTask_1iopm0p" targetRef="ServiceTask_01x0ifj" /><bpmn:sequenceFlow id="SequenceFlow_053dp8e" sourceRef="ServiceTask_01x0ifj" targetRef="ExclusiveGateway_1cxy58v" /><bpmn:callActivity id="CallActivity_0lyjj5s" name="Подпроцесс проверки" calledElement="ControlSaveLE"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out sourceExpression="${Error}" target="Error" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_06bk94w</bpmn:incoming><bpmn:outgoing>SequenceFlow_1h4dcf8</bpmn:outgoing></bpmn:callActivity><bpmn:exclusiveGateway id="ExclusiveGateway_01oaq8k" default="SequenceFlow_040pzvc"><bpmn:incoming>SequenceFlow_1h4dcf8</bpmn:incoming><bpmn:outgoing>SequenceFlow_040pzvc</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1v88a9v</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_1h4dcf8" sourceRef="CallActivity_0lyjj5s" targetRef="ExclusiveGateway_01oaq8k" /><bpmn:sequenceFlow id="SequenceFlow_040pzvc" sourceRef="ExclusiveGateway_01oaq8k" targetRef="ServiceTask_1fmpyhv" /><bpmn:sequenceFlow id="SequenceFlow_0c74zol" sourceRef="UserTask_0wgi5ca" targetRef="ServiceTask_0fuo1pw" /><bpmn:sequenceFlow id="SequenceFlow_1v88a9v" sourceRef="ExclusiveGateway_01oaq8k" targetRef="UserTask_0wgi5ca"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Error== '1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="ServiceTask_1nksezi" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"email":"n.sergeev@egartech.com",
"subject":"Возврат заявки на изменение реквизитов клиента на доработку исполнителю",
"text":"Заявка ${ezdocObjectEditorUrl} возвращена исполнителю на доработку ",
"attachments" : []
}</camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_19471ly</bpmn:incoming><bpmn:outgoing>SequenceFlow_06qmvdv</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_19471ly" sourceRef="UserTask_117k744" targetRef="ServiceTask_1nksezi"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Reject'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_06qmvdv" sourceRef="ServiceTask_1nksezi" targetRef="ScriptTask_1e5o08p" /><bpmn:serviceTask id="ServiceTask_11t23vy" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0mzqh81</bpmn:incoming><bpmn:outgoing>SequenceFlow_0jojyjf</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0f0g121" name="Устанавливаем признак вернувшейся заявки" camunda:expression="true" camunda:resultVariable="cdRejected"><bpmn:incoming>SequenceFlow_0jojyjf</bpmn:incoming><bpmn:outgoing>SequenceFlow_1562s8b</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0jojyjf" sourceRef="ServiceTask_11t23vy" targetRef="ServiceTask_0f0g121" /><bpmn:sequenceFlow id="SequenceFlow_1562s8b" sourceRef="ServiceTask_0f0g121" targetRef="UserTask_0wgi5ca" /><bpmn:serviceTask id="ServiceTask_0ncul00" name="Сообщаем об окончании подпроцесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0gpondg</bpmn:incoming><bpmn:outgoing>SequenceFlow_02o3g29</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0jptpz3" name="Устанавливаем признак вернувшейся заявки" camunda:expression="true" camunda:resultVariable="cdRejected"><bpmn:incoming>SequenceFlow_02o3g29</bpmn:incoming><bpmn:outgoing>SequenceFlow_16mx1hu</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_02o3g29" sourceRef="ServiceTask_0ncul00" targetRef="ServiceTask_0jptpz3" /><bpmn:sequenceFlow id="SequenceFlow_16mx1hu" sourceRef="ServiceTask_0jptpz3" targetRef="UserTask_0wgi5ca" /><bpmn:serviceTask id="ServiceTask_1x7hblv" name="Сообщаем об окончании подпроцесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0c6j72g</bpmn:incoming><bpmn:outgoing>SequenceFlow_0tdp6pu</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0lkjzpc" name="Сообщаем об окончании подпроцесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0tdp6pu</bpmn:incoming><bpmn:outgoing>SequenceFlow_1olm7k3</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0tdp6pu" sourceRef="ServiceTask_1x7hblv" targetRef="ServiceTask_0lkjzpc" /><bpmn:serviceTask id="ServiceTask_1sww34z" name="Устанавливаем признак вернувшейся заявки" camunda:expression="true" camunda:resultVariable="cdRejected"><bpmn:incoming>SequenceFlow_1olm7k3</bpmn:incoming><bpmn:incoming>Flow_1w4h6fv</bpmn:incoming><bpmn:outgoing>SequenceFlow_1wrprs9</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1olm7k3" sourceRef="ServiceTask_0lkjzpc" targetRef="ServiceTask_1sww34z" /><bpmn:sequenceFlow id="SequenceFlow_1wrprs9" sourceRef="ServiceTask_1sww34z" targetRef="UserTask_0wgi5ca" /><bpmn:exclusiveGateway id="ExclusiveGateway_1y61cub" default="SequenceFlow_0ajm77l"><bpmn:incoming>SequenceFlow_0zrrfiv</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ajm77l</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0b6nhmo</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0ajm77l" sourceRef="ExclusiveGateway_1y61cub" targetRef="Gateway_0i6akqr" /><bpmn:sequenceFlow id="SequenceFlow_0b6nhmo" sourceRef="ExclusiveGateway_1y61cub" targetRef="ExclusiveGateway_1jhjxao"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cdRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="ExclusiveGateway_1858d3c" default="SequenceFlow_19zbljy"><bpmn:incoming>SequenceFlow_0wcqrj7</bpmn:incoming><bpmn:outgoing>SequenceFlow_19zbljy</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0dsbyxg</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_19zbljy" sourceRef="ExclusiveGateway_1858d3c" targetRef="Gateway_0hvgqbf" /><bpmn:sequenceFlow id="SequenceFlow_0dsbyxg" sourceRef="ExclusiveGateway_1858d3c" targetRef="ExclusiveGateway_1rargnb"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cdRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="ServiceTask_1fgsl8x" name="Устанавливаем признак вернувшейся заявки" camunda:expression="false" camunda:resultVariable="cdRejected"><bpmn:incoming>SequenceFlow_1pj91hi</bpmn:incoming><bpmn:outgoing>SequenceFlow_1isnk6f</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_16fctvc" sourceRef="StartEvent_14dtves" targetRef="Activity_09xxz3u" /><bpmn:sequenceFlow id="SequenceFlow_1isnk6f" sourceRef="ServiceTask_1fgsl8x" targetRef="Activity_1jb9wpw" /><bpmn:exclusiveGateway id="ExclusiveGateway_1jhjxao" default="SequenceFlow_0nspu5f"><bpmn:incoming>SequenceFlow_1lek1z7</bpmn:incoming><bpmn:incoming>SequenceFlow_0b6nhmo</bpmn:incoming><bpmn:incoming>Flow_1ucx4jy</bpmn:incoming><bpmn:outgoing>SequenceFlow_0nspu5f</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0nspu5f" sourceRef="ExclusiveGateway_1jhjxao" targetRef="ParallelGateway_0oyk5nm" /><bpmn:exclusiveGateway id="ExclusiveGateway_1rargnb" default="SequenceFlow_0o81xzg"><bpmn:incoming>SequenceFlow_0dsbyxg</bpmn:incoming><bpmn:incoming>SequenceFlow_1fk15g8</bpmn:incoming><bpmn:incoming>Flow_1y34w8y</bpmn:incoming><bpmn:outgoing>SequenceFlow_0o81xzg</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0o81xzg" sourceRef="ExclusiveGateway_1rargnb" targetRef="ParallelGateway_1512xxj" /><bpmn:scriptTask id="ScriptTask_1aergck" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_12u2vmq</bpmn:incoming><bpmn:outgoing>SequenceFlow_0m2fwxv</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_0m2fwxv" sourceRef="ScriptTask_1aergck" targetRef="CallActivity_0lxrxz4" /><bpmn:scriptTask id="ScriptTask_0eei9nh" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1rwf2e0</bpmn:incoming><bpmn:outgoing>SequenceFlow_1s2dn1j</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_1s2dn1j" sourceRef="ScriptTask_0eei9nh" targetRef="CallActivity_1no4c6z" /><bpmn:scriptTask id="ScriptTask_1pnygir" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1anq4c9</bpmn:incoming><bpmn:outgoing>SequenceFlow_007b0l4</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_007b0l4" sourceRef="ScriptTask_1pnygir" targetRef="ServiceTask_07qbk09" /><bpmn:scriptTask id="ScriptTask_0c9j5a9" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1ew1tcy</bpmn:incoming><bpmn:outgoing>SequenceFlow_1mfcgsi</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_1mfcgsi" sourceRef="ScriptTask_0c9j5a9" targetRef="CallActivity_0eau1ge" /><bpmn:scriptTask id="ScriptTask_1k21fbj" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1a4zbz6</bpmn:incoming><bpmn:outgoing>SequenceFlow_1s5w2yw</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="ScriptTask_0bug6t7" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_0xdvyzk</bpmn:incoming><bpmn:outgoing>SequenceFlow_171574t</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_171574t" sourceRef="ScriptTask_0bug6t7" targetRef="CallActivity_0h5utps" /><bpmn:scriptTask id="ScriptTask_0km7u6z" name="Технический блок: Копируем instanceId" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1q6tqg6</bpmn:incoming><bpmn:outgoing>SequenceFlow_0c3pgko</bpmn:outgoing><bpmn:script>execution.setVariable('instanceId', instanceIdCopy)
execution.setVariable('templateId', templateIdCopy)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_0c3pgko" sourceRef="ScriptTask_0km7u6z" targetRef="ServiceTask_1n448wl" /><bpmn:scriptTask id="ScriptTask_1blt2pg" name="Технический блок: Создаем буфер" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_1rxetx3</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ky20d0</bpmn:outgoing><bpmn:script>execution.setVariable('instanceIdCopy', instanceId);
execution.setVariable('templateIdCopy', templateId)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_0ky20d0" sourceRef="ScriptTask_1blt2pg" targetRef="Activity_19kt2yc" /><bpmn:sequenceFlow id="SequenceFlow_1pbo45r" sourceRef="ServiceTask_14hu0g3" targetRef="ServiceTask_074jhwz" /><bpmn:serviceTask id="ServiceTask_1k17qto" name="Статус заявки: Заполнение:Заявка отклонена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Заявка+отклонена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1ei1a7w</bpmn:incoming><bpmn:outgoing>SequenceFlow_00t6jst</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_00t6jst" sourceRef="ServiceTask_1k17qto" targetRef="UserTask_0wgi5ca" /><bpmn:serviceTask id="ServiceTask_1x7zg3w" name="Полуаем атрибуты типов клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_customer</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="step">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_113dtlj</bpmn:incoming><bpmn:outgoing>SequenceFlow_15isswe</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="ExclusiveGateway_187z9ku" default="SequenceFlow_02zis51"><bpmn:incoming>SequenceFlow_15isswe</bpmn:incoming><bpmn:outgoing>SequenceFlow_1i3kp1j</bpmn:outgoing><bpmn:outgoing>SequenceFlow_02zis51</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_15isswe" sourceRef="ServiceTask_1x7zg3w" targetRef="ExclusiveGateway_187z9ku" /><bpmn:sequenceFlow id="SequenceFlow_1i3kp1j" sourceRef="ExclusiveGateway_187z9ku" targetRef="CallActivity_0qn4k11"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${step == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_02zis51" sourceRef="ExclusiveGateway_187z9ku" targetRef="ServiceTask_1h0za71" /><bpmn:serviceTask id="ServiceTask_12x3swo" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_cancelation_reason?incrementVersion=true&amp;value=${hlk_reason_close.replace(" ","+")}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_06h7dt8</bpmn:incoming><bpmn:outgoing>SequenceFlow_189w8mx</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_189w8mx" sourceRef="ServiceTask_12x3swo" targetRef="ServiceTask_14hu0g3" /><bpmn:serviceTask id="ServiceTask_1e9qggi" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_remake_reason?incrementVersion=true&amp;value=${hlk_reason_return.replace(" ","+")}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1r15e8v</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ei1a7w</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1ei1a7w" sourceRef="ServiceTask_1e9qggi" targetRef="ServiceTask_1k17qto" /><bpmn:serviceTask id="ServiceTask_1pmtn18" name="Достаем primaryId заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ex5ery</bpmn:incoming><bpmn:outgoing>Flow_0oorffv</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_19jjbem" name="Записываем в объект"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_app_id?incrementVersion=true&amp;value=${primaryId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0oorffv</bpmn:incoming><bpmn:outgoing>Flow_0etusxc</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0x72uka" sourceRef="ServiceTask_1b90zkk" targetRef="ServiceTask_11a82u5" /><bpmn:serviceTask id="ServiceTask_0th3stl" name="Достаем ид клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_partner_id</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="partnerId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1p5d0s8</bpmn:incoming><bpmn:outgoing>SequenceFlow_18j406a</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_18j406a" sourceRef="ServiceTask_0th3stl" targetRef="ServiceTask_1b90zkk" /><bpmn:serviceTask id="ServiceTask_1ywbkbj" name="Получаем вид субсчета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${accountId}/getAttribute/hlk_invoice_subaccount_type</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1s5w2yw</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ige2oo</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0ige2oo" sourceRef="ServiceTask_1ywbkbj" targetRef="ServiceTask_0icb321" /><bpmn:sequenceFlow id="SequenceFlow_1s5w2yw" sourceRef="ScriptTask_1k21fbj" targetRef="ServiceTask_1ywbkbj" /><bpmn:serviceTask id="ServiceTask_0x7ydnt" name="Получаем вид субсчета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${accountId}/getAttribute/hlk_invoice_subaccount_type</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0zia8a6</bpmn:incoming><bpmn:outgoing>SequenceFlow_1iyma1c</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1iyma1c" sourceRef="ServiceTask_0x7ydnt" targetRef="ServiceTask_02ebpfw" /><bpmn:sequenceFlow id="SequenceFlow_0zia8a6" sourceRef="ServiceTask_07qbk09" targetRef="ServiceTask_0x7ydnt" /><bpmn:serviceTask id="ServiceTask_18tews0" name="Получаем вид субсчета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${accountId}/getAttribute/hlk_invoice_subaccount_type</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0wot84t</bpmn:incoming><bpmn:outgoing>SequenceFlow_1lyjxru</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1lyjxru" sourceRef="ServiceTask_18tews0" targetRef="ServiceTask_0fwv960" /><bpmn:sequenceFlow id="SequenceFlow_0wot84t" sourceRef="ServiceTask_1n448wl" targetRef="ServiceTask_18tews0" /><bpmn:serviceTask id="ServiceTask_0fwv960" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_invoice_subaccount_type" : "${answer}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1lyjxru</bpmn:incoming><bpmn:outgoing>SequenceFlow_0rkywsa</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0rkywsa" sourceRef="ServiceTask_0fwv960" targetRef="CallActivity_0kpsn3g" /><bpmn:serviceTask id="ServiceTask_02ebpfw" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_invoice_subaccount_type" : "${answer}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1iyma1c</bpmn:incoming><bpmn:outgoing>SequenceFlow_0kohaui</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0kohaui" sourceRef="ServiceTask_02ebpfw" targetRef="CallActivity_1ofyrht" /><bpmn:serviceTask id="ServiceTask_0icb321" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_invoice_subaccount_type" : "${answer}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ige2oo</bpmn:incoming><bpmn:outgoing>SequenceFlow_08a0tho</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_08a0tho" sourceRef="ServiceTask_0icb321" targetRef="CallActivity_1swedsz" /><bpmn:serviceTask id="ServiceTask_11a82u5" name="Достаем ид заявки на регистрацию"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_app_id</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="appId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0x72uka</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ex5ery</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0ex5ery" sourceRef="ServiceTask_11a82u5" targetRef="ServiceTask_1pmtn18" /><bpmn:serviceTask id="ServiceTask_1ad4c3q" name="clientType=ЮЛ" camunda:expression="ЮЛ" camunda:resultVariable="clientType"><bpmn:incoming>SequenceFlow_1vvu05q</bpmn:incoming><bpmn:outgoing>Flow_0qzzt17</bpmn:outgoing></bpmn:serviceTask><bpmn:callActivity id="CallActivity_1fympif" name="Подпроцесс проверки ИИН" calledElement="IIN_Unic"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1qr6zk8</bpmn:incoming><bpmn:outgoing>SequenceFlow_0veu8yv</bpmn:outgoing></bpmn:callActivity><bpmn:exclusiveGateway id="ExclusiveGateway_1rii5fo" default="SequenceFlow_1kp5g6a"><bpmn:incoming>SequenceFlow_0veu8yv</bpmn:incoming><bpmn:outgoing>SequenceFlow_1kp5g6a</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1cn42tc</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id="CallActivity_1hyg9e8" name="Подпроцесс проверки Номер документа" calledElement="NumberDocument_Unic"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1kp5g6a</bpmn:incoming><bpmn:outgoing>SequenceFlow_0r03im4</bpmn:outgoing></bpmn:callActivity><bpmn:exclusiveGateway id="ExclusiveGateway_1a91217" default="SequenceFlow_1g9c542"><bpmn:incoming>SequenceFlow_0r03im4</bpmn:incoming><bpmn:outgoing>SequenceFlow_1g9c542</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0eeysq6</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0veu8yv" sourceRef="CallActivity_1fympif" targetRef="ExclusiveGateway_1rii5fo" /><bpmn:sequenceFlow id="SequenceFlow_1kp5g6a" sourceRef="ExclusiveGateway_1rii5fo" targetRef="CallActivity_1hyg9e8" /><bpmn:sequenceFlow id="SequenceFlow_0r03im4" sourceRef="CallActivity_1hyg9e8" targetRef="ExclusiveGateway_1a91217" /><bpmn:sequenceFlow id="SequenceFlow_1g9c542" sourceRef="ExclusiveGateway_1a91217" targetRef="ServiceTask_0h1p3cx" /><bpmn:sequenceFlow id="SequenceFlow_1cn42tc" sourceRef="ExclusiveGateway_1rii5fo" targetRef="UserTask_0wgi5ca"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Error== '1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_0eeysq6" sourceRef="ExclusiveGateway_1a91217" targetRef="UserTask_0wgi5ca"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Error== '1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="ServiceTask_0fuo1pw" name="Статус заявки &#34;Обработка: Параметры заполнены&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Параметры+заполнены</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0c74zol</bpmn:incoming><bpmn:outgoing>SequenceFlow_06bk94w</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_06bk94w" sourceRef="ServiceTask_0fuo1pw" targetRef="CallActivity_0lyjj5s" /><bpmn:serviceTask id="ServiceTask_00r8gok" name="clientPrimaryId =hlk_client_app" camunda:expression="${hlk_client_app}" camunda:resultVariable="clientPrimaryId"><bpmn:incoming>SequenceFlow_0nsatyu</bpmn:incoming><bpmn:outgoing>SequenceFlow_1vvu05q</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1vvu05q" sourceRef="ServiceTask_00r8gok" targetRef="ServiceTask_1ad4c3q" /><bpmn:serviceTask id="ServiceTask_1h0za71" name="Статус заявки: Заполнение: Подтверждение заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Подтверждение+заявки</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1virgag</bpmn:incoming><bpmn:incoming>SequenceFlow_02zis51</bpmn:incoming><bpmn:outgoing>SequenceFlow_02o0bvk</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_02o0bvk" sourceRef="ServiceTask_1h0za71" targetRef="UserTask_117k744" /><bpmn:serviceTask id="ServiceTask_1wns2ze" name="Статус заявки: Заполнение: Выбор клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Выбор+клиента</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1iw9rwd</bpmn:incoming><bpmn:outgoing>SequenceFlow_1650dk0</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1650dk0" sourceRef="ServiceTask_1wns2ze" targetRef="UserTask_11m7xz0" /><bpmn:serviceTask id="ServiceTask_0zwq4zh" name="Статус заявки: Обработка: Клиент выбран"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Клиент+выбран</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1yjd8y7</bpmn:incoming><bpmn:outgoing>SequenceFlow_1cyaubc</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1cyaubc" sourceRef="ServiceTask_0zwq4zh" targetRef="ServiceTask_12ayrt8" /><bpmn:intermediateCatchEvent id="IntermediateCatchEvent_15qd5v5"><bpmn:incoming>SequenceFlow_1xv4awo</bpmn:incoming><bpmn:outgoing>SequenceFlow_0j9c6qj</bpmn:outgoing><bpmn:signalEventDefinition id="SignalEventDefinition_1bd0osx" signalRef="Signal_1371e4u" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="SequenceFlow_0j9c6qj" sourceRef="IntermediateCatchEvent_15qd5v5" targetRef="ServiceTask_184cgtg" /><bpmn:serviceTask id="ServiceTask_0jszgbp" name="Статус заявки &#34;Заполнение: Внесение измений&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Заполнение:+Внесение+изменений</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1dt6ega</bpmn:incoming><bpmn:outgoing>SequenceFlow_1kq4wjf</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1kq4wjf" sourceRef="ServiceTask_0jszgbp" targetRef="UserTask_0wgi5ca" /><bpmn:scriptTask id="ScriptTask_1e5o08p" name="Декодируем url для отправки причины отмены" scriptFormat="groovy" camunda:resultVariable="hlk_reason_return"><bpmn:incoming>SequenceFlow_06qmvdv</bpmn:incoming><bpmn:outgoing>SequenceFlow_1r15e8v</bpmn:outgoing><bpmn:script>import groovy.*

def hlk_reason_return = execution.getVariable("hlk_reason_return")

hlk_reason_return = java.net.URLEncoder.encode(hlk_reason_return, "UTF-8")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_1r15e8v" sourceRef="ScriptTask_1e5o08p" targetRef="ServiceTask_1e9qggi" /><bpmn:scriptTask id="ScriptTask_1bf2a5u" name="Декодируем url для отправки причины отклонения" scriptFormat="groovy" camunda:resultVariable="hlk_reason_close"><bpmn:incoming>SequenceFlow_1sh08hk</bpmn:incoming><bpmn:outgoing>SequenceFlow_06h7dt8</bpmn:outgoing><bpmn:script>import groovy.*

def hlk_reason_close = execution.getVariable("hlk_reason_close")

hlk_reason_return = java.net.URLEncoder.encode(hlk_reason_close, "UTF-8")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_06h7dt8" sourceRef="ScriptTask_1bf2a5u" targetRef="ServiceTask_12x3swo" /><bpmn:serviceTask id="ServiceTask_1euc52x" name="definition of &#34;key&#34;" camunda:expression="legalEntity" camunda:resultVariable="key"><bpmn:incoming>Flow_09uhmpw</bpmn:incoming><bpmn:outgoing>SequenceFlow_1pj91hi</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1pj91hi" sourceRef="ServiceTask_1euc52x" targetRef="ServiceTask_1fgsl8x" /><bpmn:subProcess id="Activity_1qj3i5x"><bpmn:incoming>Flow_1t5fdiv</bpmn:incoming><bpmn:outgoing>Flow_0222b0c</bpmn:outgoing><bpmn:scriptTask id="Activity_0245618" name="waiting for signal" scriptFormat="javascript"><bpmn:incoming>Flow_1ocoxrm</bpmn:incoming><bpmn:outgoing>Flow_080xwdy</bpmn:outgoing><bpmn:script>print(new Date() + " waiting for signal " + instanceId)</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_0lz7zge" name="Таймаут?" camunda:expression="false" camunda:resultVariable="timeout"><bpmn:incoming>Flow_19k4ohb</bpmn:incoming><bpmn:outgoing>Flow_04a793e</bpmn:outgoing></bpmn:serviceTask><bpmn:intermediateCatchEvent id="Event_1hmrkms" camunda:asyncAfter="true"><bpmn:incoming>Flow_080xwdy</bpmn:incoming><bpmn:outgoing>Flow_19k4ohb</bpmn:outgoing><bpmn:signalEventDefinition id="SignalEventDefinition_16ka9s2" signalRef="Signal_1371e4u" /></bpmn:intermediateCatchEvent><bpmn:serviceTask id="Activity_1twe6o1" name="Отправка в AML"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ожидает+ответа+AML</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1ihes21</bpmn:incoming><bpmn:outgoing>Flow_0e8oion</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_16nwdhz"><bpmn:incoming>Flow_04a793e</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0wtvs4s" /></bpmn:endEvent><bpmn:intermediateCatchEvent id="Event_06t2wxr"><bpmn:incoming>Flow_0e8oion</bpmn:incoming><bpmn:outgoing>Flow_0l53x4f</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_0w0y5x3"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT900S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:endEvent id="Event_11edrtq"><bpmn:incoming>Flow_1frcc18</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_02kkq56" /></bpmn:endEvent><bpmn:serviceTask id="Activity_11ogtto" name="Таймаут?" camunda:expression="true" camunda:resultVariable="timeout"><bpmn:incoming>Flow_0l53x4f</bpmn:incoming><bpmn:outgoing>Flow_1frcc18</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="Gateway_157v3hk"><bpmn:incoming>Flow_0yr5ki0</bpmn:incoming><bpmn:outgoing>Flow_1ocoxrm</bpmn:outgoing><bpmn:outgoing>Flow_01q7ety</bpmn:outgoing></bpmn:parallelGateway><bpmn:startEvent id="Event_116s3r7"><bpmn:outgoing>Flow_0yr5ki0</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id="Flow_0l53x4f" sourceRef="Event_06t2wxr" targetRef="Activity_11ogtto" /><bpmn:sequenceFlow id="Flow_1frcc18" sourceRef="Activity_11ogtto" targetRef="Event_11edrtq" /><bpmn:sequenceFlow id="Flow_0e8oion" sourceRef="Activity_1twe6o1" targetRef="Event_06t2wxr" /><bpmn:sequenceFlow id="Flow_04a793e" sourceRef="Activity_0lz7zge" targetRef="Event_16nwdhz" /><bpmn:sequenceFlow id="Flow_1ocoxrm" sourceRef="Gateway_157v3hk" targetRef="Activity_0245618" /><bpmn:sequenceFlow id="Flow_19k4ohb" sourceRef="Event_1hmrkms" targetRef="Activity_0lz7zge" /><bpmn:sequenceFlow id="Flow_080xwdy" sourceRef="Activity_0245618" targetRef="Event_1hmrkms" /><bpmn:sequenceFlow id="Flow_0yr5ki0" sourceRef="Event_116s3r7" targetRef="Gateway_157v3hk" /><bpmn:sequenceFlow id="Flow_1ihes21" sourceRef="Activity_1r4g9i6" targetRef="Activity_1twe6o1" /><bpmn:sequenceFlow id="Flow_01q7ety" sourceRef="Gateway_157v3hk" targetRef="Activity_1r4g9i6" /><bpmn:serviceTask id="Activity_1r4g9i6" name="Отправка в AML" camunda:asyncBefore="true" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Отправлено+в+AML</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_01q7ety</bpmn:incoming><bpmn:outgoing>Flow_1ihes21</bpmn:outgoing></bpmn:serviceTask></bpmn:subProcess><bpmn:serviceTask id="Activity_19kt2yc" name="answer" camunda:expression="${execution.setVariable(&#39;answer&#39;, &#39;-1&#39;)}"><bpmn:incoming>SequenceFlow_0ky20d0</bpmn:incoming><bpmn:outgoing>Flow_1k3s7pt</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1k3s7pt" sourceRef="Activity_19kt2yc" targetRef="Activity_1g1xtxx" /><bpmn:exclusiveGateway id="Gateway_1rv8yds" default="Flow_1x1tm3b"><bpmn:incoming>Flow_0222b0c</bpmn:incoming><bpmn:outgoing>Flow_0wdy7fu</bpmn:outgoing><bpmn:outgoing>Flow_1x1tm3b</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0wdy7fu" sourceRef="Gateway_1rv8yds" targetRef="ServiceTask_184cgtg"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${timeout == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0222b0c" sourceRef="Activity_1qj3i5x" targetRef="Gateway_1rv8yds" /><bpmn:serviceTask id="Activity_0e6kg4e" name="Формируем сообщение об ошибке" camunda:expression="Таймаут+ожидания+ответа+от+АМЛ" camunda:resultVariable="errorDescription"><bpmn:incoming>Flow_1x1tm3b</bpmn:incoming><bpmn:outgoing>Flow_1ep5oxc</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1x1tm3b" sourceRef="Gateway_1rv8yds" targetRef="Activity_0e6kg4e" /><bpmn:sequenceFlow id="Flow_1ep5oxc" sourceRef="Activity_0e6kg4e" targetRef="UserTask_0wgi5ca" /><bpmn:subProcess id="Activity_1a7xvzx"><bpmn:incoming>SequenceFlow_14mk1e9</bpmn:incoming><bpmn:outgoing>Flow_14oi11c</bpmn:outgoing><bpmn:startEvent id="Event_0wmp6t5"><bpmn:outgoing>Flow_1xwp0w2</bpmn:outgoing></bpmn:startEvent><bpmn:intermediateCatchEvent id="Event_08u0fob"><bpmn:incoming>Flow_1902h4h</bpmn:incoming><bpmn:outgoing>Flow_0f01ms6</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_1p69fjt"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT360S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:endEvent id="Event_1fek8qj"><bpmn:incoming>Flow_0monwk5</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_062az49" /></bpmn:endEvent><bpmn:endEvent id="Event_0b45xkf"><bpmn:incoming>Flow_0vuvn0r</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0q5068r" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1kvhgg1" name="Таймаут?" camunda:expression="true" camunda:resultVariable="timeout"><bpmn:incoming>Flow_0f01ms6</bpmn:incoming><bpmn:outgoing>Flow_0monwk5</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_05ztcwa" name="Таймаут?" camunda:expression="false" camunda:resultVariable="timeout"><bpmn:incoming>Flow_17zls98</bpmn:incoming><bpmn:outgoing>Flow_0vuvn0r</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="Gateway_1h5oqom"><bpmn:incoming>Flow_1xwp0w2</bpmn:incoming><bpmn:outgoing>Flow_0fjnms9</bpmn:outgoing><bpmn:outgoing>Flow_1902h4h</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id="Flow_1xwp0w2" sourceRef="Event_0wmp6t5" targetRef="Gateway_1h5oqom" /><bpmn:sequenceFlow id="Flow_0fjnms9" sourceRef="Gateway_1h5oqom" targetRef="Event_1r39h59" /><bpmn:sequenceFlow id="Flow_1902h4h" sourceRef="Gateway_1h5oqom" targetRef="Event_08u0fob" /><bpmn:sequenceFlow id="Flow_0f01ms6" sourceRef="Event_08u0fob" targetRef="Activity_1kvhgg1" /><bpmn:sequenceFlow id="Flow_0monwk5" sourceRef="Activity_1kvhgg1" targetRef="Event_1fek8qj" /><bpmn:sequenceFlow id="Flow_0vuvn0r" sourceRef="Activity_05ztcwa" targetRef="Event_0b45xkf" /><bpmn:intermediateCatchEvent id="Event_1r39h59" camunda:asyncAfter="true"><bpmn:incoming>Flow_0fjnms9</bpmn:incoming><bpmn:outgoing>Flow_17zls98</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_0eaciys" messageRef="Message_146gzw9" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_17zls98" sourceRef="Event_1r39h59" targetRef="Activity_05ztcwa" /></bpmn:subProcess><bpmn:exclusiveGateway id="Gateway_1f3aqwv" default="Flow_07larul"><bpmn:incoming>Flow_14oi11c</bpmn:incoming><bpmn:outgoing>Flow_1norh5i</bpmn:outgoing><bpmn:outgoing>Flow_07larul</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_14oi11c" sourceRef="Activity_1a7xvzx" targetRef="Gateway_1f3aqwv" /><bpmn:serviceTask id="Activity_1d5wpnz" name="Изменяем статус заявки: Ошибка при создании клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+при+создании+клиента+в+базе+данных</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1norh5i</bpmn:incoming><bpmn:outgoing>Flow_0nsxdby</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1norh5i" sourceRef="Gateway_1f3aqwv" targetRef="Activity_1d5wpnz"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${timeout == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_07larul" sourceRef="Gateway_1f3aqwv" targetRef="Activity_0cxo3zn" /><bpmn:sequenceFlow id="Flow_0nsxdby" sourceRef="Activity_1d5wpnz" targetRef="UserTask_0wgi5ca" /><bpmn:subProcess id="Activity_0qqnbt0"><bpmn:incoming>SequenceFlow_1kjlcsw</bpmn:incoming><bpmn:outgoing>Flow_1efwwyp</bpmn:outgoing><bpmn:startEvent id="Event_0umku0t"><bpmn:outgoing>Flow_19q5b39</bpmn:outgoing></bpmn:startEvent><bpmn:intermediateCatchEvent id="Event_0kdsaxx"><bpmn:incoming>Flow_13hnz1u</bpmn:incoming><bpmn:outgoing>Flow_17zkrfg</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_1v19d5k"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT360S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:endEvent id="Event_10mpq9m"><bpmn:incoming>Flow_0yxsawy</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1fn3iol" /></bpmn:endEvent><bpmn:endEvent id="Event_08gwi8d"><bpmn:incoming>Flow_01wl793</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1spjeye" /></bpmn:endEvent><bpmn:serviceTask id="Activity_056lk9t" name="Таймаут?" camunda:expression="true" camunda:resultVariable="timeout"><bpmn:incoming>Flow_17zkrfg</bpmn:incoming><bpmn:outgoing>Flow_0yxsawy</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0rauxyh" name="Таймаут?" camunda:expression="false" camunda:resultVariable="timeout"><bpmn:incoming>Flow_1u3dcut</bpmn:incoming><bpmn:outgoing>Flow_01wl793</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="Gateway_0wq95hy"><bpmn:incoming>Flow_19q5b39</bpmn:incoming><bpmn:outgoing>Flow_05nvy9h</bpmn:outgoing><bpmn:outgoing>Flow_13hnz1u</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id="Flow_19q5b39" sourceRef="Event_0umku0t" targetRef="Gateway_0wq95hy" /><bpmn:sequenceFlow id="Flow_05nvy9h" sourceRef="Gateway_0wq95hy" targetRef="Event_1w7wbre" /><bpmn:sequenceFlow id="Flow_13hnz1u" sourceRef="Gateway_0wq95hy" targetRef="Event_0kdsaxx" /><bpmn:sequenceFlow id="Flow_17zkrfg" sourceRef="Event_0kdsaxx" targetRef="Activity_056lk9t" /><bpmn:sequenceFlow id="Flow_0yxsawy" sourceRef="Activity_056lk9t" targetRef="Event_10mpq9m" /><bpmn:sequenceFlow id="Flow_01wl793" sourceRef="Activity_0rauxyh" targetRef="Event_08gwi8d" /><bpmn:intermediateCatchEvent id="Event_1w7wbre" camunda:asyncAfter="true"><bpmn:incoming>Flow_05nvy9h</bpmn:incoming><bpmn:outgoing>Flow_1u3dcut</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_0sdkdt5" messageRef="Message_040gkr0" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_1u3dcut" sourceRef="Event_1w7wbre" targetRef="Activity_0rauxyh" /></bpmn:subProcess><bpmn:sequenceFlow id="Flow_1efwwyp" sourceRef="Activity_0qqnbt0" targetRef="ServiceTask_13j2pw0" /><bpmn:subProcess id="Activity_118o280"><bpmn:incoming>Flow_1hyg3u8</bpmn:incoming><bpmn:outgoing>Flow_0oi7mh1</bpmn:outgoing><bpmn:startEvent id="Event_03zwgzt"><bpmn:outgoing>Flow_058rwnt</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id="Gateway_1r35ok7"><bpmn:incoming>Flow_058rwnt</bpmn:incoming><bpmn:outgoing>Flow_0xzq38q</bpmn:outgoing><bpmn:outgoing>Flow_1rkyl01</bpmn:outgoing><bpmn:outgoing>Flow_19a5giz</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="Activity_1sb91gn" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_1nf70uf"><bpmn:incoming>Flow_1rkyl01</bpmn:incoming><bpmn:outgoing>Flow_036en4t</bpmn:outgoing></bpmn:receiveTask><bpmn:userTask id="Activity_173g2s1" name="Возврат к заполнению" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_0xzq38q</bpmn:incoming><bpmn:outgoing>Flow_0kbm7ov</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_1104o2a" name="Устанавливаем признак" camunda:expression="true" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0kbm7ov</bpmn:incoming><bpmn:outgoing>Flow_1rhqc33</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_1pmo0wj"><bpmn:incoming>Flow_1rhqc33</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0ok4q7r" /></bpmn:endEvent><bpmn:endEvent id="Event_0kydloq"><bpmn:incoming>Flow_1fyxrbm</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1riqk20" /></bpmn:endEvent><bpmn:serviceTask id="Activity_0e6ajcj" name="Устанавливаем признак" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_036en4t</bpmn:incoming><bpmn:outgoing>Flow_1fyxrbm</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1fyxrbm" sourceRef="Activity_0e6ajcj" targetRef="Event_0kydloq" /><bpmn:sequenceFlow id="Flow_036en4t" sourceRef="Activity_1sb91gn" targetRef="Activity_0e6ajcj" /><bpmn:sequenceFlow id="Flow_1rhqc33" sourceRef="Activity_1104o2a" targetRef="Event_1pmo0wj" /><bpmn:sequenceFlow id="Flow_0kbm7ov" sourceRef="Activity_173g2s1" targetRef="Activity_1104o2a" /><bpmn:sequenceFlow id="Flow_0xzq38q" sourceRef="Gateway_1r35ok7" targetRef="Activity_173g2s1" /><bpmn:sequenceFlow id="Flow_1rkyl01" sourceRef="Gateway_1r35ok7" targetRef="Activity_1sb91gn" /><bpmn:sequenceFlow id="Flow_058rwnt" sourceRef="Event_03zwgzt" targetRef="Gateway_1r35ok7" /><bpmn:userTask id="Activity_0g8mhd8" name="Ручная привязка МТ 539" camunda:candidateGroups="cb_directordp, cb_headmiddleofice, cb_managermiddleoffice, jira-users"><bpmn:extensionElements><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Otbor539&#34;,&#34;label&#34;:&#34;Ручной отбор MT539&#34;,&#34;type&#34;:&#34;swift&#34;}" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>Flow_09c6bqf</bpmn:incoming><bpmn:incoming>Flow_19a5giz</bpmn:incoming><bpmn:outgoing>Flow_0f68cbr</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_060fwlr" name="Устанавливаем признак isRejected = false" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0f2v6bb</bpmn:incoming><bpmn:outgoing>Flow_0nk3ssy</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_0qvvpk7"><bpmn:incoming>Flow_0nk3ssy</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0xru99f" /></bpmn:endEvent><bpmn:serviceTask id="Activity_0bc5vbw" name="Проводим метчинг"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/condition/evaluate/539FindPair?leftType=SWIFT&amp;leftId=${swiftId}&amp;rightType=BOOK&amp;rightId=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="matchingResult">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0f68cbr</bpmn:incoming><bpmn:outgoing>Flow_0wop5qp</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0g3b58t" default="Flow_0f2v6bb"><bpmn:incoming>Flow_0wop5qp</bpmn:incoming><bpmn:outgoing>Flow_0f2v6bb</bpmn:outgoing><bpmn:outgoing>Flow_1lkzl8d</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_12b1u5z" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+прикрепленного+SWIFT</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1lkzl8d</bpmn:incoming><bpmn:outgoing>Flow_09c6bqf</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_09c6bqf" sourceRef="Activity_12b1u5z" targetRef="Activity_0g8mhd8" /><bpmn:sequenceFlow id="Flow_0f68cbr" sourceRef="Activity_0g8mhd8" targetRef="Activity_0bc5vbw" /><bpmn:sequenceFlow id="Flow_0f2v6bb" sourceRef="Gateway_0g3b58t" targetRef="Activity_060fwlr" /><bpmn:sequenceFlow id="Flow_0nk3ssy" sourceRef="Activity_060fwlr" targetRef="Event_0qvvpk7" /><bpmn:sequenceFlow id="Flow_0wop5qp" sourceRef="Activity_0bc5vbw" targetRef="Gateway_0g3b58t" /><bpmn:sequenceFlow id="Flow_1lkzl8d" sourceRef="Gateway_0g3b58t" targetRef="Activity_12b1u5z"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${matchingResult == 'false'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_19a5giz" sourceRef="Gateway_1r35ok7" targetRef="Activity_0g8mhd8" /></bpmn:subProcess><bpmn:sequenceFlow id="Flow_1hyg3u8" sourceRef="ServiceTask_0ayl810" targetRef="Activity_118o280" /><bpmn:sequenceFlow id="Flow_1kuuj80" sourceRef="ReceiveTask_0v67pgx" targetRef="ServiceTask_0sv0mmc" /><bpmn:exclusiveGateway id="Gateway_16ps3bp" default="Flow_1mw211v"><bpmn:incoming>Flow_0oi7mh1</bpmn:incoming><bpmn:outgoing>Flow_1mw211v</bpmn:outgoing><bpmn:outgoing>Flow_0uus94c</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0oi7mh1" sourceRef="Activity_118o280" targetRef="Gateway_16ps3bp" /><bpmn:sequenceFlow id="Flow_1mw211v" sourceRef="Gateway_16ps3bp" targetRef="ServiceTask_0sv0mmc" /><bpmn:serviceTask id="Activity_1tu5ax1" name="Смотрим Дату"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_DOCREG_DATE</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="SWIFT_DOCREG_DATE"><camunda:script scriptFormat="javascript">response.replace(/"/g, '').substring(0, 10)</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1me1tl5</bpmn:incoming><bpmn:outgoing>Flow_05xy7fm</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_05xy7fm" sourceRef="Activity_1tu5ax1" targetRef="ServiceTask_1fk5klx" /><bpmn:serviceTask id="Activity_0dxnmsu" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+FASTI.+Требует+доработки+исполнителем</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0uus94c</bpmn:incoming><bpmn:outgoing>Flow_1epn8od</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1x2r7k2" name="Сообщаем об окончании подпроцесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1pip2mk</bpmn:incoming><bpmn:outgoing>Flow_15d4oq8</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0b1jal9" name="Сообщаем об окончании подпроцесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_15d4oq8</bpmn:incoming><bpmn:outgoing>Flow_0dq01c7</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0h0y75f" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${accountId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1epn8od</bpmn:incoming><bpmn:outgoing>Flow_1iyoyoa</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_18i86mf" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${agreementId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1iyoyoa</bpmn:incoming><bpmn:outgoing>Flow_1pip2mk</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0ouos0e" name="Устанавливаем признак" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0dq01c7</bpmn:incoming><bpmn:outgoing>Flow_1w4h6fv</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1epn8od" sourceRef="Activity_0dxnmsu" targetRef="Activity_0h0y75f" /><bpmn:sequenceFlow id="Flow_1pip2mk" sourceRef="Activity_18i86mf" targetRef="Activity_1x2r7k2" /><bpmn:sequenceFlow id="Flow_15d4oq8" sourceRef="Activity_1x2r7k2" targetRef="Activity_0b1jal9" /><bpmn:sequenceFlow id="Flow_0dq01c7" sourceRef="Activity_0b1jal9" targetRef="Activity_0ouos0e" /><bpmn:sequenceFlow id="Flow_1iyoyoa" sourceRef="Activity_0h0y75f" targetRef="Activity_18i86mf" /><bpmn:sequenceFlow id="Flow_0uus94c" sourceRef="Gateway_16ps3bp" targetRef="Activity_0dxnmsu"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1w4h6fv" sourceRef="Activity_0ouos0e" targetRef="ServiceTask_1sww34z" /><bpmn:serviceTask id="Activity_0kjw8wx" name="Достаем primaryId заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0b43xwg</bpmn:incoming><bpmn:outgoing>Flow_1rvobn0</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_07elovy" name="Записываем в объект"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_updatedId?incrementVersion=true&amp;value=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1rvobn0</bpmn:incoming><bpmn:outgoing>Flow_14fcmh5</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1rvobn0" sourceRef="Activity_0kjw8wx" targetRef="Activity_07elovy" /><bpmn:sequenceFlow id="Flow_14fcmh5" sourceRef="Activity_07elovy" targetRef="Activity_0czapze" /><bpmn:serviceTask id="Activity_0czapze" name="устанавливаем признак обновления клиента" camunda:expression="${execution.setVariable(&#39;clientUpdated&#39;, false)}"><bpmn:incoming>Flow_14fcmh5</bpmn:incoming><bpmn:outgoing>Flow_1iw9rwd</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1iw9rwd" sourceRef="Activity_0czapze" targetRef="ServiceTask_1wns2ze" /><bpmn:serviceTask id="Activity_1jb9wpw" name="определяем источник"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_source_doc</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="source">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1isnk6f</bpmn:incoming><bpmn:outgoing>Flow_0b43xwg</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0b43xwg" sourceRef="Activity_1jb9wpw" targetRef="Activity_0kjw8wx" /><bpmn:sequenceFlow id="Flow_0oorffv" sourceRef="ServiceTask_1pmtn18" targetRef="ServiceTask_19jjbem" /><bpmn:sequenceFlow id="Flow_0etusxc" sourceRef="ServiceTask_19jjbem" targetRef="ServiceTask_1f5p7kp" /><bpmn:serviceTask id="Activity_0cxo3zn" name="Изменяем статус заявки"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=AML.Совпадений+не+найдено.+Клиент+создан</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_07larul</bpmn:incoming><bpmn:outgoing>Flow_0zeivpr</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0zeivpr" sourceRef="Activity_0cxo3zn" targetRef="ServiceTask_1q5z8z4" /><bpmn:serviceTask id="Activity_1g1xtxx" name="Получаем тип клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttributes?systemName=hlk_account_type_holder</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="hlk_account_type_holder"><camunda:script scriptFormat="javascript">JSON.parse(response).hlk_account_type_holder</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1k3s7pt</bpmn:incoming><bpmn:outgoing>Flow_1t5fdiv</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1t5fdiv" sourceRef="Activity_1g1xtxx" targetRef="Activity_1qj3i5x" /><bpmn:subProcess id="Activity_1ycbip0"><bpmn:incoming>SequenceFlow_0r7a1d3</bpmn:incoming><bpmn:outgoing>Flow_0u7hlx8</bpmn:outgoing><bpmn:startEvent id="Event_1xm1e6g"><bpmn:outgoing>Flow_0gpmgcv</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id="Gateway_0bw3ebw"><bpmn:incoming>Flow_0gpmgcv</bpmn:incoming><bpmn:outgoing>Flow_0fo6um6</bpmn:outgoing><bpmn:outgoing>Flow_1und1s1</bpmn:outgoing><bpmn:outgoing>Flow_10u38du</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="Activity_0w9iyq4" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_160mc1u"><bpmn:incoming>Flow_1und1s1</bpmn:incoming><bpmn:outgoing>Flow_09cdfij</bpmn:outgoing></bpmn:receiveTask><bpmn:userTask id="Activity_0eruggz" name="Возврат к заполнению" camunda:candidateGroups="cb_directordp, cb_headmiddleofice, cb_managermiddleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_10u38du</bpmn:incoming><bpmn:outgoing>Flow_18gecye</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_00k6zc2" name="Устанавливаем признак" camunda:expression="true" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_18gecye</bpmn:incoming><bpmn:outgoing>Flow_1o6dcuv</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_1p2s0ub"><bpmn:incoming>Flow_1o6dcuv</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1uyyi5y" /></bpmn:endEvent><bpmn:endEvent id="Event_14w6oiu"><bpmn:incoming>Flow_1ghy9sq</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0nx3i15" /></bpmn:endEvent><bpmn:serviceTask id="Activity_0paasr7" name="Устанавливаем признак" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_09cdfij</bpmn:incoming><bpmn:outgoing>Flow_1ghy9sq</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="Activity_1uz6cbg" name="Ручная привязка МТ 539" camunda:candidateGroups="cb_directordp, cb_headmiddleofice, cb_managermiddleoffice, jira-users"><bpmn:extensionElements><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Otbor539&#34;,&#34;label&#34;:&#34;Ручной отбор MT539&#34;,&#34;type&#34;:&#34;swift&#34;}" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>Flow_0fo6um6</bpmn:incoming><bpmn:incoming>Flow_0ze9uwq</bpmn:incoming><bpmn:outgoing>Flow_0mu567m</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_0ti04al" name="Устанавливаем признак isRejected = false" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_1o2rnou</bpmn:incoming><bpmn:outgoing>Flow_1hh0yij</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_0g3kkh1"><bpmn:incoming>Flow_1hh0yij</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0bg4ed7" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1ecc0c7" name="Проводим метчинг"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/condition/evaluate/539FindPair?leftType=SWIFT&amp;leftId=${swiftId}&amp;rightType=BOOK&amp;rightId=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="matchingResult">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0mu567m</bpmn:incoming><bpmn:outgoing>Flow_14ilj1d</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0jm5nja" default="Flow_1o2rnou"><bpmn:incoming>Flow_14ilj1d</bpmn:incoming><bpmn:outgoing>Flow_1f9ceda</bpmn:outgoing><bpmn:outgoing>Flow_1o2rnou</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_097l4b5" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+прикрепленного+SWIFT</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1f9ceda</bpmn:incoming><bpmn:outgoing>Flow_0ze9uwq</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0fo6um6" sourceRef="Gateway_0bw3ebw" targetRef="Activity_1uz6cbg" /><bpmn:sequenceFlow id="Flow_1f9ceda" sourceRef="Gateway_0jm5nja" targetRef="Activity_097l4b5"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${matchingResult == 'false'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_14ilj1d" sourceRef="Activity_1ecc0c7" targetRef="Gateway_0jm5nja" /><bpmn:sequenceFlow id="Flow_1hh0yij" sourceRef="Activity_0ti04al" targetRef="Event_0g3kkh1" /><bpmn:sequenceFlow id="Flow_1o2rnou" sourceRef="Gateway_0jm5nja" targetRef="Activity_0ti04al" /><bpmn:sequenceFlow id="Flow_0mu567m" sourceRef="Activity_1uz6cbg" targetRef="Activity_1ecc0c7" /><bpmn:sequenceFlow id="Flow_0ze9uwq" sourceRef="Activity_097l4b5" targetRef="Activity_1uz6cbg" /><bpmn:sequenceFlow id="Flow_0gpmgcv" sourceRef="Event_1xm1e6g" targetRef="Gateway_0bw3ebw" /><bpmn:sequenceFlow id="Flow_1und1s1" sourceRef="Gateway_0bw3ebw" targetRef="Activity_0w9iyq4" /><bpmn:sequenceFlow id="Flow_10u38du" sourceRef="Gateway_0bw3ebw" targetRef="Activity_0eruggz" /><bpmn:sequenceFlow id="Flow_18gecye" sourceRef="Activity_0eruggz" targetRef="Activity_00k6zc2" /><bpmn:sequenceFlow id="Flow_1o6dcuv" sourceRef="Activity_00k6zc2" targetRef="Event_1p2s0ub" /><bpmn:sequenceFlow id="Flow_09cdfij" sourceRef="Activity_0w9iyq4" targetRef="Activity_0paasr7" /><bpmn:sequenceFlow id="Flow_1ghy9sq" sourceRef="Activity_0paasr7" targetRef="Event_14w6oiu" /></bpmn:subProcess><bpmn:exclusiveGateway id="Gateway_0e3ahxh" default="Flow_1oa24ei"><bpmn:incoming>Flow_0u7hlx8</bpmn:incoming><bpmn:outgoing>Flow_1oa24ei</bpmn:outgoing><bpmn:outgoing>Flow_1eidfw6</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1oa24ei" sourceRef="Gateway_0e3ahxh" targetRef="ServiceTask_19gnltg" /><bpmn:sequenceFlow id="Flow_1eidfw6" sourceRef="Gateway_0e3ahxh" targetRef="ServiceTask_1rvxa1p"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0u7hlx8" sourceRef="Activity_1ycbip0" targetRef="Gateway_0e3ahxh" /><bpmn:sequenceFlow id="Flow_00yex8y" sourceRef="ServiceTask_19gnltg" targetRef="ServiceTask_0eh4p30" /><bpmn:sequenceFlow id="Flow_10t48w8" sourceRef="ServiceTask_0eh4p30" targetRef="ExclusiveGateway_12ajhck" /><bpmn:sequenceFlow id="Flow_0a16nek" sourceRef="ExclusiveGateway_12ajhck" targetRef="ServiceTask_19cuu35"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "30"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1d2iuqh" sourceRef="ServiceTask_1wyo77f" targetRef="ReceiveTask_1srnezc" /><bpmn:sequenceFlow id="Flow_0i2gkri" sourceRef="ReceiveTask_1srnezc" targetRef="ServiceTask_19gnltg" /><bpmn:subProcess id="Activity_19g6lx4"><bpmn:incoming>SequenceFlow_1lvi3l8</bpmn:incoming><bpmn:outgoing>Flow_0n4r3hw</bpmn:outgoing><bpmn:startEvent id="Event_1mu1bnt"><bpmn:outgoing>Flow_1upo0k4</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id="Gateway_1syp1go"><bpmn:incoming>Flow_1upo0k4</bpmn:incoming><bpmn:outgoing>Flow_0k5t7aa</bpmn:outgoing><bpmn:outgoing>Flow_1iy7lf9</bpmn:outgoing><bpmn:outgoing>Flow_0i8jij3</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="Activity_0z7qcjx" name="539 ждем" camunda:asyncAfter="true" messageRef="Message_160mc1u"><bpmn:incoming>Flow_1iy7lf9</bpmn:incoming><bpmn:outgoing>Flow_0tfe4c8</bpmn:outgoing></bpmn:receiveTask><bpmn:userTask id="Activity_1gt660y" name="Возврат к заполнению" camunda:candidateGroups="cb_directordp, cb_headmiddleofice, cb_managermiddleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_0i8jij3</bpmn:incoming><bpmn:outgoing>Flow_18dovw3</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_01286gj" name="Устанавливаем признак" camunda:expression="true" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_18dovw3</bpmn:incoming><bpmn:outgoing>Flow_0pv0ot6</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_1d2ndda"><bpmn:incoming>Flow_0pv0ot6</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1b0p64v" /></bpmn:endEvent><bpmn:endEvent id="Event_1e1z2m1"><bpmn:incoming>Flow_0im08ms</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_08cbjr5" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1kxrell" name="Устанавливаем признак" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_0tfe4c8</bpmn:incoming><bpmn:outgoing>Flow_0im08ms</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="Activity_09fgvqd" name="Ручная привязка МТ 539" camunda:candidateGroups="cb_directordp, cb_headmiddleofice, cb_managermiddleoffice, jira-users"><bpmn:extensionElements><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Otbor539&#34;,&#34;label&#34;:&#34;Ручной отбор MT539&#34;,&#34;type&#34;:&#34;swift&#34;}" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>Flow_0k5t7aa</bpmn:incoming><bpmn:incoming>Flow_0ydijhl</bpmn:incoming><bpmn:outgoing>Flow_1ugct73</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_0gxibca" name="Устанавливаем признак isRejected = false" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_1hittwm</bpmn:incoming><bpmn:outgoing>Flow_14gxo7i</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_1scvcbt"><bpmn:incoming>Flow_14gxo7i</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_0k9pai5" /></bpmn:endEvent><bpmn:serviceTask id="Activity_1eoc6x1" name="Проводим метчинг"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/condition/evaluate/539FindPair?leftType=SWIFT&amp;leftId=${swiftId}&amp;rightType=BOOK&amp;rightId=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="matchingResult">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1ugct73</bpmn:incoming><bpmn:outgoing>Flow_0ma77he</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_1w9hah0" default="Flow_1hittwm"><bpmn:incoming>Flow_0ma77he</bpmn:incoming><bpmn:outgoing>Flow_05rawu4</bpmn:outgoing><bpmn:outgoing>Flow_1hittwm</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_0pe4eh7" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка+прикрепленного+SWIFT</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_05rawu4</bpmn:incoming><bpmn:outgoing>Flow_0ydijhl</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0k5t7aa" sourceRef="Gateway_1syp1go" targetRef="Activity_09fgvqd" /><bpmn:sequenceFlow id="Flow_05rawu4" sourceRef="Gateway_1w9hah0" targetRef="Activity_0pe4eh7"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${matchingResult == 'false'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0ma77he" sourceRef="Activity_1eoc6x1" targetRef="Gateway_1w9hah0" /><bpmn:sequenceFlow id="Flow_14gxo7i" sourceRef="Activity_0gxibca" targetRef="Event_1scvcbt" /><bpmn:sequenceFlow id="Flow_1hittwm" sourceRef="Gateway_1w9hah0" targetRef="Activity_0gxibca" /><bpmn:sequenceFlow id="Flow_1ugct73" sourceRef="Activity_09fgvqd" targetRef="Activity_1eoc6x1" /><bpmn:sequenceFlow id="Flow_0ydijhl" sourceRef="Activity_0pe4eh7" targetRef="Activity_09fgvqd" /><bpmn:sequenceFlow id="Flow_1upo0k4" sourceRef="Event_1mu1bnt" targetRef="Gateway_1syp1go" /><bpmn:sequenceFlow id="Flow_1iy7lf9" sourceRef="Gateway_1syp1go" targetRef="Activity_0z7qcjx" /><bpmn:sequenceFlow id="Flow_0i8jij3" sourceRef="Gateway_1syp1go" targetRef="Activity_1gt660y" /><bpmn:sequenceFlow id="Flow_18dovw3" sourceRef="Activity_1gt660y" targetRef="Activity_01286gj" /><bpmn:sequenceFlow id="Flow_0pv0ot6" sourceRef="Activity_01286gj" targetRef="Event_1d2ndda" /><bpmn:sequenceFlow id="Flow_0tfe4c8" sourceRef="Activity_0z7qcjx" targetRef="Activity_1kxrell" /><bpmn:sequenceFlow id="Flow_0im08ms" sourceRef="Activity_1kxrell" targetRef="Event_1e1z2m1" /></bpmn:subProcess><bpmn:exclusiveGateway id="Gateway_0eielhd" default="Flow_1i4j30h"><bpmn:incoming>Flow_0n4r3hw</bpmn:incoming><bpmn:outgoing>Flow_1i4j30h</bpmn:outgoing><bpmn:outgoing>Flow_1pe6yh4</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0n4r3hw" sourceRef="Activity_19g6lx4" targetRef="Gateway_0eielhd" /><bpmn:serviceTask id="Activity_149xmuv" name="Смотрим статус"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/${swiftId}/getAttribute/SWIFT_OPERATION_STATUS</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="answer">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1i4j30h</bpmn:incoming><bpmn:incoming>Flow_0ymhv1z</bpmn:incoming><bpmn:outgoing>Flow_08fc57y</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1i4j30h" sourceRef="Gateway_0eielhd" targetRef="Activity_149xmuv" /><bpmn:sequenceFlow id="Flow_1pe6yh4" sourceRef="Gateway_0eielhd" targetRef="ServiceTask_1w2x7sm"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_08fc57y" sourceRef="Activity_149xmuv" targetRef="ServiceTask_0hax1ps" /><bpmn:sequenceFlow id="Flow_185aknc" sourceRef="ServiceTask_09zh963" targetRef="ServiceTask_1yahd04" /><bpmn:sequenceFlow id="Flow_0rb6259" sourceRef="ExclusiveGateway_0uf7mox" targetRef="ServiceTask_09zh963"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${answer == "30"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0ymhv1z" sourceRef="ReceiveTask_1rad4b4" targetRef="Activity_149xmuv" /><bpmn:sequenceFlow id="Flow_19ckp33" sourceRef="Gateway_1w55w5r" targetRef="ServiceTask_1tkqtge" /><bpmn:exclusiveGateway id="Gateway_1w55w5r" default="Flow_19ckp33"><bpmn:incoming>SequenceFlow_039de98</bpmn:incoming><bpmn:outgoing>Flow_19ckp33</bpmn:outgoing><bpmn:outgoing>Flow_0u8vj1o</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0u8vj1o" sourceRef="Gateway_1w55w5r" targetRef="Activity_1deli84"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${hlk_account_type_holder == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="Activity_1pmjttc" name="Достаем номер договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${agreementId}/getAttribute/hlk_account_number_contract</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="agreementNumber">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_08ktsbq</bpmn:incoming><bpmn:outgoing>Flow_1auep04</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1auep04" sourceRef="Activity_1pmjttc" targetRef="Activity_1sq8ah4" /><bpmn:serviceTask id="Activity_1sq8ah4" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Открытие БС " + ShortName)
.prop("text","Внимание! БС № " + accountNumber + " на имя " + ShortName + "успешно открыт в ЦД, Договор № " + agreementNumber + " от " + regDate + "успешно зарегистрирован")
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1auep04</bpmn:incoming><bpmn:outgoing>Flow_0m24be1</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0m24be1" sourceRef="Activity_1sq8ah4" targetRef="Activity_0a4lew4" /><bpmn:serviceTask id="Activity_0a4lew4" name="Отправляем уведомление клиенту" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email",mail)
.prop("subject","Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("text","Уважаемый клиент, настоящим АО «Halyk Finance» информирует об открытии на Ваше имя брокерского счета №" + " " + accountNumber + " " + "в рамках Договора брокерского обслуживания №" + " " + agreementNumber + " " + "от" + " " + regDate + ". Условия Договора и контактные данные доступны на сайте AO «Halyk Finance» https://halykfinance.kz/brokerskoe-obsluzhivanie/?lang=ru")
.prop("attachments", [generated])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0m24be1</bpmn:incoming><bpmn:outgoing>Flow_1h0aowp</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1h0aowp" sourceRef="Activity_0a4lew4" targetRef="ExclusiveGateway_0q0wst2" /><bpmn:serviceTask id="Activity_1h2xw26" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Отправка уведомления об открытии БС" + accountNumber + " " + "на имя" + " " + ShortName)
.prop("text","Внимание! Уведомление об открытии БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + " " + "на e-mail:" + mail + " " + "успешно отправлено.")
.prop("attachments", [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1k31usl</bpmn:incoming><bpmn:outgoing>Flow_0ez1xl0</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0ez1xl0" sourceRef="Activity_1h2xw26" targetRef="Activity_1y8yteu" /><bpmn:serviceTask id="Activity_1y8yteu" name="Создаем запись в журнале почтовых уведомлений" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType", "Notification")
.prop("hlk_email", mail ? mail : S('{"x":null}').prop("x"))
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_mail_theme" , "Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("hlk_mail_status" , "Успешно отправлено")
.prop("hlk_mail_date" , acceptDate)
.prop("hlk_counterparty_type","0")
.prop("hlk_document", S("{}")
.prop("name" , generated)
.prop("reference" , generated)
.prop("_class","egar.ezdoc.model.entity.attribute.FileReference"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ez1xl0</bpmn:incoming><bpmn:outgoing>Flow_0qnb3fl</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0qnb3fl" sourceRef="Activity_1y8yteu" targetRef="Gateway_0lwhrcj" /><bpmn:exclusiveGateway id="Gateway_0lwhrcj"><bpmn:incoming>Flow_0qnb3fl</bpmn:incoming><bpmn:incoming>Flow_0d4y9o5</bpmn:incoming><bpmn:outgoing>Flow_1csi5mu</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1csi5mu" sourceRef="Gateway_0lwhrcj" targetRef="ServiceTask_0ds9z6z" /><bpmn:serviceTask id="Activity_0zv5lnp" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Отправка уведомления об открытии БС № " + accountNumber + " " + "на имя ShortName")
.prop("text","Внимание! Ошибка при отправке уведомления об открытии № " + accountNumber + " на имя ShortName на e-mail:mail. Уведомление не отправлено по причине errorCode")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_11rth4v</bpmn:incoming><bpmn:outgoing>Flow_02khz34</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_02khz34" sourceRef="Activity_0zv5lnp" targetRef="Activity_16qev4r" /><bpmn:serviceTask id="Activity_16qev4r" name="Создаем запись в журнале почтовых уведомлений" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "Notification")
.prop("hlk_email" , mail ? mail : S('{"x":null}').prop("x"))
.prop("hlk_client_app" , ShortNameCurrentCtpt)
.prop("hlk_mail_theme" , "Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("hlk_mail_status" , "Ошибка отправки." + " " + errorCode)
.prop("hlk_mail_date" , acceptDate)
.prop("hlk_counterparty_type","0")
.prop("hlk_document", S("{}")
.prop("name" , generated)
.prop("reference" , generated)
.prop("_class","egar.ezdoc.model.entity.attribute.FileReference"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_02khz34</bpmn:incoming><bpmn:outgoing>Flow_0d4y9o5</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0d4y9o5" sourceRef="Activity_16qev4r" targetRef="Gateway_0lwhrcj" /><bpmn:serviceTask id="Activity_09dwyxs" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Изменение реквизитов БС" + " " + ShortName)
.prop("text","Внимание! Ошибка при изменении реквизитов БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + ".  Изменение реквизитов не исполнено в ЦД по причине, ошибка SWIFT.")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0qil233</bpmn:incoming><bpmn:outgoing>Flow_0c6j72g</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0c6j72g" sourceRef="Activity_09dwyxs" targetRef="ServiceTask_1x7hblv" /><bpmn:serviceTask id="Activity_07ox5je" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Открытие БС " + ShortName)
.prop("text","Внимание! БС № " + accountNumber + " на имя " + ShortName + "успешно открыт в ЦД, Договор № " + agreementNumber + " от " + regDate + "успешно зарегистрирован")
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0nmrg5b</bpmn:incoming><bpmn:outgoing>Flow_198misn</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_198misn" sourceRef="Activity_07ox5je" targetRef="Activity_03zpkcr" /><bpmn:serviceTask id="Activity_03zpkcr" name="Отправляем уведомление клиенту" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email",mail)
.prop("subject","Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("text","Уважаемый клиент, настоящим АО «Halyk Finance» информирует об открытии на Ваше имя брокерского счета №" + " " + accountNumber + " " + "в рамках Договора брокерского обслуживания №" + " " + agreementNumber + " " + "от" + " " + regDate + ". Условия Договора и контактные данные доступны на сайте AO «Halyk Finance» https://halykfinance.kz/brokerskoe-obsluzhivanie/?lang=ru")
.prop("attachments", [generated])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_198misn</bpmn:incoming><bpmn:outgoing>Flow_03o59ji</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_03o59ji" sourceRef="Activity_03zpkcr" targetRef="ExclusiveGateway_1mvnvow" /><bpmn:serviceTask id="Activity_0ddiemd" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Отправка уведомления об открытии БС" + accountNumber + " " + "на имя" + " " + ShortName)
.prop("text","Внимание! Уведомление об открытии БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + " " + "на e-mail:" + mail + " " + "успешно отправлено.")
.prop("attachments", [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1dvd18y</bpmn:incoming><bpmn:outgoing>Flow_0dxrg7a</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0dxrg7a" sourceRef="Activity_0ddiemd" targetRef="Activity_05074j5" /><bpmn:serviceTask id="Activity_05074j5" name="Создаем запись в журнале почтовых уведомлений"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType", "Notification")
.prop("hlk_email", mail ? mail : S('{"x":null}').prop("x"))
.prop("hlk_client_app", ShortNameCurrentCtpt)
.prop("hlk_mail_theme" , "Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("hlk_mail_status" , "Успешно отправлено")
.prop("hlk_mail_date" , acceptDate)
.prop("hlk_counterparty_type","0")
.prop("hlk_document", S("{}")
.prop("name" , generated)
.prop("reference" , generated)
.prop("_class","egar.ezdoc.model.entity.attribute.FileReference"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0dxrg7a</bpmn:incoming><bpmn:outgoing>Flow_1um426w</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1um426w" sourceRef="Activity_05074j5" targetRef="Gateway_1delme2" /><bpmn:exclusiveGateway id="Gateway_1delme2"><bpmn:incoming>Flow_1um426w</bpmn:incoming><bpmn:incoming>Flow_106s9n4</bpmn:incoming><bpmn:outgoing>Flow_18sjs39</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_1j4r9x2" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Отправка уведомления об открытии БС № " + accountNumber + " " + "на имя ShortName")
.prop("text","Внимание! Ошибка при отправке уведомления об открытии № " + accountNumber + " на имя ShortName на e-mail:" + mail +". Уведомление не отправлено по причине errorCode")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_111sisl</bpmn:incoming><bpmn:outgoing>Flow_1seh4kn</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1seh4kn" sourceRef="Activity_1j4r9x2" targetRef="Activity_1r73727" /><bpmn:serviceTask id="Activity_1r73727" name="Создаем запись в журнале почтовых уведомлений" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "Notification")
.prop("hlk_email" , mail ? mail : S('{"x":null}').prop("x"))
.prop("hlk_client_app" , ShortNameCurrentCtpt)
.prop("hlk_mail_theme" , "Уведомление об открытии брокерского счета в АО «Halyk Finance»")
.prop("hlk_mail_status" , "Ошибка отправки." + " " + errorCode)
.prop("hlk_mail_date" , acceptDate)
.prop("hlk_counterparty_type","0")
.prop("hlk_document", S("{}")
.prop("name" , generated)
.prop("reference" , generated)
.prop("_class","egar.ezdoc.model.entity.attribute.FileReference"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1seh4kn</bpmn:incoming><bpmn:outgoing>Flow_106s9n4</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_106s9n4" sourceRef="Activity_1r73727" targetRef="Gateway_1delme2" /><bpmn:sequenceFlow id="Flow_18sjs39" sourceRef="Gateway_1delme2" targetRef="ServiceTask_1122zoj" /><bpmn:serviceTask id="Activity_0dzr25m" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Изменение реквизитов БС" + " " + ShortName)
.prop("text","Внимание! Ошибка при изменении реквизитов БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + ".  Изменение реквизитов не исполнено в ЦД по причине, ошибка SWIFT.")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1dmufjl</bpmn:incoming><bpmn:outgoing>Flow_0gpondg</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0gpondg" sourceRef="Activity_0dzr25m" targetRef="ServiceTask_0ncul00" /><bpmn:serviceTask id="Activity_09idqmu" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Изменение реквизитов БС ShortName")
.prop("text","Внимание! Изменение реквизитов БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + " " + "успешно исполнено ЦД.")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ouej16</bpmn:incoming><bpmn:outgoing>Flow_1dedlra</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1dedlra" sourceRef="Activity_09idqmu" targetRef="ServiceTask_0m5gwfy" /><bpmn:serviceTask id="Activity_0zf2sc5" name="Отправляем уведомление в СП" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("email","uao@halykfinance.kz")
.prop("subject","Ошибка! Изменение реквизитов БС" + " " + ShortName)
.prop("text","Внимание! Ошибка при изменении реквизитов БС №" + " " + accountNumber + " " + "на имя" + " " + ShortName + ".  Изменение реквизитов не исполнено в ЦД по причине, ошибка SWIFT.")
.prop("attachments" , [ ])
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="errorCode">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_040erzn</bpmn:incoming><bpmn:outgoing>Flow_0mzqh81</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0mzqh81" sourceRef="Activity_0zf2sc5" targetRef="ServiceTask_11t23vy" /><bpmn:serviceTask id="Activity_11xkws6" name="Определяем тип договора клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "book",
	"filter": {
		"attributes.hlk_client_FL.primaryId": "${hlk_client_app}"
	},
	"projection": {
		"attributes.hlk_account_type_contract": 1,
                "attributes.hlk_account_number_contract": 1,
                "hlk_Contract_Start_Date":1
	}
}</camunda:inputParameter><camunda:outputParameter name="contractFound"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="contractType"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_account_type_contract
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="found"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="agreementNumber"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_account_number_contract
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="registrationDate"><camunda:script scriptFormat="JavaScript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_Contract_Start_Date
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_07gztl1</bpmn:incoming><bpmn:outgoing>Flow_12ogat8</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_12ogat8" sourceRef="Activity_11xkws6" targetRef="ServiceTask_0ked2y5" /><bpmn:serviceTask id="Activity_1s4xarq" name="Создаем счет"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/integration/queue/send/BOOK/by/${instanceId}/to/INVOICE</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_type_account_int" , "ценнобумажный")
.prop("hlk_account_owner",S("{}")
.prop("value" , ShortNameCurrentCtpt)
.prop("primaryId" , clientPrimaryId)
.prop("source" , "legalEntity"))
.prop("hlk_Account_Number" , accountNumber)
.prop("AccountNumber" , accountNumber)
.prop("hlk_personal_account" , true)
.prop("hlk_DefaultAccount" , true)
.prop("hlk_account_external" , false)
.prop("hlk_blocked_account" , false)
.prop("hlk_account_type","Ценнобумажный")
.prop("hlk_account_status" , "Открыт")
.prop("hlk_clearing_system" , "АО ЦЕНТРАЛЬНЫЙ ДЕПОЗИТАРИЙ ЦЕННЫХ БУМАГ")
.prop("hlk_account_bin" , "970740000154")
.prop("hlk_accont_name_registrar_holder" ,"Halyk Finance")
.prop("hlk_account_opening_date" , SWIFT_DOCREG_DATE)
.prop("hlk_autostart" , true)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="status"><camunda:script scriptFormat="javascript">JSON.parse(response).status</camunda:script></camunda:outputParameter><camunda:outputParameter name="message"><camunda:script scriptFormat="javascript">JSON.parse(response).message</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1f7y0am</bpmn:incoming><bpmn:outgoing>Flow_0627p82</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0627p82" sourceRef="Activity_1s4xarq" targetRef="Activity_0lrpzys" /><bpmn:serviceTask id="Activity_0lrpzys" name="Создаем договор"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/BOOK/${agreementId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("EXCEL_NAME" , "CONTRACT")
.prop("hlk_account" , accountNumber)
.prop("hlk_client_FL",S("{}")
.prop("value" , ShortNameCurrentCtpt)
.prop("primaryId" , clientPrimaryId)
.prop("source" , "legalEntity"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0627p82</bpmn:incoming><bpmn:outgoing>Flow_1w1rnoi</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1w1rnoi" sourceRef="Activity_0lrpzys" targetRef="ServiceTask_1wfx7o0" /><bpmn:serviceTask id="Activity_0dqgdil" name="Создаем книгу"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/integration/queue/send/BOOK/by/${agreementId}/to/BOOK</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "book")
.prop("hlk_full_name" , ShortNameCurrentCtpt)
.prop("ShortName" , ShortNameCurrentCtpt)
.prop("hlk_book_owner",S("{}")
.prop("value" , ShortNameCurrentCtpt)
.prop("primaryId" , clientPrimaryId)
.prop("source" , "legalEntity"))
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="status"><camunda:script scriptFormat="javascript">JSON.parse(response).status</camunda:script></camunda:outputParameter><camunda:outputParameter name="message"><camunda:script scriptFormat="javascript">JSON.parse(response).message</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1wqhocq</bpmn:incoming><bpmn:outgoing>Flow_152fzn2</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_152fzn2" sourceRef="Activity_0dqgdil" targetRef="ServiceTask_019nw18" /><bpmn:serviceTask id="Activity_06n74vj" name="Создаем запись о ранжировании"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/integration/queue/send/BOOK/by/${agreementId}/to/BOOK</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ObjectType" , "Range")
.prop("hlk_client_app" , ShortNameCurrentCtpt)
.prop("hlk_range_AssignedRiskGroup1" , "Сбалансированная")
.prop("hlk_range_date" , acceptDate)
.prop("hlk_range_InvoiceNumber" , accountNumber)
.prop("hlk_range_IDAssignedRiskGroup1" , "1")
.prop("hlk_range_BasisAssignment1" , "По результатам анкетирования")
.prop("hlk_counterparty_type","0") 
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="status"><camunda:script scriptFormat="javascript">JSON.parse(response).status</camunda:script></camunda:outputParameter><camunda:outputParameter name="message"><camunda:script scriptFormat="javascript">JSON.parse(response).message</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_15s3j7v</bpmn:incoming><bpmn:outgoing>Flow_1hvq6x7</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1hvq6x7" sourceRef="Activity_06n74vj" targetRef="Activity_1jqfyrd" /><bpmn:serviceTask id="Activity_1jqfyrd" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/individual/${referenceId}/setAttribute/hlk_asset_account_open?incrementVersion=false&amp;value=true</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1hvq6x7</bpmn:incoming><bpmn:outgoing>Flow_1wqhocq</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1wqhocq" sourceRef="Activity_1jqfyrd" targetRef="Activity_0dqgdil" /><bpmn:scriptTask id="Activity_0m8dq2e" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="acceptDate"><bpmn:incoming>SequenceFlow_10c4nq3</bpmn:incoming><bpmn:outgoing>Flow_143fjl6</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '')</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_1dhhl51" name="Создаем счет"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/INVOICE/${accountId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("hlk_type_account_int" , "ценнобумажный")
.prop("hlk_account_owner",S("{}")
.prop("value" , ShortNameCurrentCtpt)
.prop("primaryId" , clientPrimaryId)
.prop("source" , "legalEntity"))
.prop("AccountNumber" , accountNumber)
.prop("AccountNumber" , accountNumber)
.prop("hlk_personal_account" , true)
.prop("hlk_DefaultAccount" , true)
.prop("hlk_account_external" , false)
.prop("hlk_blocked_account" , false)
.prop("hlk_account_type" , "Ценнобумажный")
.prop("hlk_account_status" , "Открыт")
.prop("hlk_clearing_system" , "АО ЦЕНТРАЛЬНЫЙ ДЕПОЗИТАРИЙ ЦЕННЫХ БУМАГ")
.prop("hlk_account_bin" , "970740000154")
.prop("hlk_accont_name_registrar_holder" ,"Halyk Finance")
.prop("hlk_account_opening_date" , acceptDate)
.prop("hlk_autostart" , true)
.prop("hlk_acc_client_id" , clientPrimaryId)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_07nb2ir</bpmn:incoming><bpmn:outgoing>Flow_0se4ykc</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1sx08gf" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0fm641f</bpmn:incoming><bpmn:outgoing>Flow_0yf6bmy</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_11naw59" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1dvj0o1</bpmn:incoming><bpmn:outgoing>Flow_0fm641f</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1u4nxzl" name="Ищем книгу "><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	
"find": "book", 	
"filter": {
"templatePrimaryId": "5da5be402ab79c00084ee4c5",
"attributes.hlk_book_owner.primaryId": "${hlk_client_app}", 
"activityStatus" : "ACTIVE"},
"projection": { 		"_id": 1 	}
}</camunda:inputParameter><camunda:outputParameter name="foundBook"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="BookId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0se4ykc</bpmn:incoming><bpmn:outgoing>Flow_1vp0rsb</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0ty7qbo" name="Меняем название книги"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${BookId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ShortName",ShortNameCurrentCtpt)
.prop("hlk_full_name",ShortNameCurrentCtpt)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1vp0rsb</bpmn:incoming><bpmn:outgoing>Flow_107uivx</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_13gi5b9" name="Сообщаем об окончании процесса книги"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${BookId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_107uivx</bpmn:incoming><bpmn:outgoing>Flow_1dvj0o1</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_19xoffc"><bpmn:incoming>Flow_0yf6bmy</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="Flow_0fm641f" sourceRef="Activity_11naw59" targetRef="Activity_1sx08gf" /><bpmn:sequenceFlow id="Flow_0yf6bmy" sourceRef="Activity_1sx08gf" targetRef="Event_19xoffc" /><bpmn:sequenceFlow id="Flow_1dvj0o1" sourceRef="Activity_13gi5b9" targetRef="Activity_11naw59" /><bpmn:sequenceFlow id="Flow_1vp0rsb" sourceRef="Activity_1u4nxzl" targetRef="Activity_0ty7qbo" /><bpmn:sequenceFlow id="Flow_107uivx" sourceRef="Activity_0ty7qbo" targetRef="Activity_13gi5b9" /><bpmn:sequenceFlow id="Flow_143fjl6" sourceRef="Activity_0m8dq2e" targetRef="ServiceTask_1q0yvbu" /><bpmn:sequenceFlow id="Flow_0se4ykc" sourceRef="Activity_1dhhl51" targetRef="Activity_1u4nxzl" /><bpmn:serviceTask id="Activity_022di22" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0eyovus</bpmn:incoming><bpmn:outgoing>Flow_11w7bmg</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_1rum7bz"><bpmn:incoming>Flow_11w7bmg</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="Activity_0v6wahq" name="Статус заявки - исполнена"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Обработка:+Заявка+исполнена</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0mcvjmu</bpmn:incoming><bpmn:outgoing>Flow_0eyovus</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0uneg07" name="Ищем книгу "><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	
"find": "book", 	
"filter": {
"templatePrimaryId": "5da5be402ab79c00084ee4c5",
"attributes.hlk_book_owner.primaryId": "${hlk_client_app}", 
"activityStatus" : "ACTIVE"},
"projection": { 		"_id": 1 	}
}</camunda:inputParameter><camunda:outputParameter name="foundBook"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="BookId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0j3is8b</bpmn:incoming><bpmn:outgoing>Flow_0dz81lp</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1b5p6ly" name="Меняем название книги"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${BookId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ShortName",ShortNameCurrentCtpt)
.prop("hlk_full_name",ShortNameCurrentCtpt)
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0dz81lp</bpmn:incoming><bpmn:outgoing>Flow_1v14maa</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0m8jz9m" name="Сообщаем об окончании процесса книги"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${BookId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1v14maa</bpmn:incoming><bpmn:outgoing>Flow_0mcvjmu</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0eyovus" sourceRef="Activity_0v6wahq" targetRef="Activity_022di22" /><bpmn:sequenceFlow id="Flow_11w7bmg" sourceRef="Activity_022di22" targetRef="Event_1rum7bz" /><bpmn:sequenceFlow id="Flow_0mcvjmu" sourceRef="Activity_0m8jz9m" targetRef="Activity_0v6wahq" /><bpmn:sequenceFlow id="Flow_0dz81lp" sourceRef="Activity_0uneg07" targetRef="Activity_1b5p6ly" /><bpmn:sequenceFlow id="Flow_1v14maa" sourceRef="Activity_1b5p6ly" targetRef="Activity_0m8jz9m" /><bpmn:sequenceFlow id="Flow_0j3is8b" sourceRef="ServiceTask_1fb2ted" targetRef="Activity_0uneg07" /><bpmn:exclusiveGateway id="Gateway_0ckyun3" default="Flow_03u27oc"><bpmn:incoming>Flow_1ggfsns</bpmn:incoming><bpmn:outgoing>Flow_1flt1xe</bpmn:outgoing><bpmn:outgoing>Flow_03u27oc</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="Activity_11ketwn" name="ShortName текущего клиента" scriptFormat="javascript" camunda:resultVariable="ShortNameCurrentCtpt"><bpmn:incoming>Flow_0mrhgo8</bpmn:incoming><bpmn:outgoing>Flow_0a47r1o</bpmn:outgoing><bpmn:script>ShortName + " " + accountNumber.substring(accountNumber.length()-6)</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_0mz9una" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_account_number_contract?incrementVersion=true&amp;value=${accountNumber.substring(accountNumber.length()-6)}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0iyjqza</bpmn:incoming><bpmn:outgoing>Flow_1fn4ysh</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0xbr3ak" name="Записываем"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttribute/hlk_AccountNumber?incrementVersion=true&amp;value=${accountNumber}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1fn4ysh</bpmn:incoming><bpmn:outgoing>Flow_0mrhgo8</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1vooe4u" name="Генерируем номер счета и договора"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/sequence/next/Account?default=1028111137</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:outputParameter name="accountNumber">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1flt1xe</bpmn:incoming><bpmn:outgoing>Flow_0w7ltqr</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="Activity_13umgnb" name="ShortName текущего клиента" scriptFormat="javascript" camunda:resultVariable="ShortNameCurrentCtpt"><bpmn:incoming>Flow_03u27oc</bpmn:incoming><bpmn:outgoing>Flow_1ngmld5</bpmn:outgoing><bpmn:script>ShortName + " 00"</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_1cofxxb" name="определяем primaryId клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttribute/hlk_client_app</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_client_app">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ara9j1</bpmn:incoming><bpmn:outgoing>Flow_0rfp9q8</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0hu58sg" default="Flow_1ggfsns"><bpmn:incoming>Flow_0uzde0r</bpmn:incoming><bpmn:outgoing>Flow_1ggfsns</bpmn:outgoing><bpmn:outgoing>Flow_16mbhc2</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="Activity_0va304z" name="ShortName текущего клиента" scriptFormat="javascript" camunda:resultVariable="ShortNameCurrentCtpt"><bpmn:incoming>Flow_16mbhc2</bpmn:incoming><bpmn:outgoing>Flow_1rv03ov</bpmn:outgoing><bpmn:script>ShortName + " " + agreementNumber</bpmn:script></bpmn:scriptTask><bpmn:serviceTask id="Activity_0gwsagd" name="Ищем книгу текущего клиента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	
"find": "book", 	
"filter": {
"templatePrimaryId": "5da5be402ab79c00084ee4c5",
"attributes.hlk_book_owner.primaryId": "${hlk_client_app}", 
"activityStatus" : "ACTIVE"},
"projection": { 		"_id": 1 	}
}</camunda:inputParameter><camunda:outputParameter name="foundBook"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="BookId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0a47r1o</bpmn:incoming><bpmn:incoming>Flow_1ngmld5</bpmn:incoming><bpmn:incoming>Flow_1rv03ov</bpmn:incoming><bpmn:outgoing>Flow_0xzhdr1</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_073xqm5" default="Flow_0dzzjku"><bpmn:incoming>Flow_0xzhdr1</bpmn:incoming><bpmn:outgoing>Flow_1qf7pxg</bpmn:outgoing><bpmn:outgoing>Flow_0dzzjku</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_00jmxut" name="Добавляем номер счета в название книги клиента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${BookId}/setAttributes?incrementVersion=true</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("ShortName", ShortNameCurrentCtpt)
.prop("hlk_full_name", ShortNameCurrentCtpt)
.prop("hlk_book_owner",S("{}")
.prop("value" , ShortName)
.prop("primaryId" , hlk_client_app)
.prop("source" , "legalEntity"))
.toString()</camunda:script></camunda:inputParameter><camunda:outputParameter name="rrr">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1qf7pxg</bpmn:incoming><bpmn:outgoing>Flow_0jms8rb</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_11kn2e8" name="Сообщаем об окончании процесса"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${BookId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0jms8rb</bpmn:incoming><bpmn:outgoing>Flow_0472cjc</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0zzv5f3" name="Определяем номер договора у клиента" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"find": "book",
"filter": {
"activityStatus" : "ACTIVE", 
"templatePrimaryId": "5e2ea8e551915100088d013a",
"attributes.hlk_InContract_ID_Client.primaryId": "${hlk_client_app}"
},
"projection": {
"attributes.hlk_account_number_contract": 1
}
}</camunda:inputParameter><camunda:outputParameter name="agreementNumber"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0].attributes.hlk_account_number_contract
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="foundAgr"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0rfp9q8</bpmn:incoming><bpmn:outgoing>Flow_0uzde0r</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1ggfsns" sourceRef="Gateway_0hu58sg" targetRef="Gateway_0ckyun3" /><bpmn:sequenceFlow id="Flow_1flt1xe" sourceRef="Gateway_0ckyun3" targetRef="Activity_1vooe4u"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${step == "true" &amp;&amp; cdRejected == "false"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_03u27oc" sourceRef="Gateway_0ckyun3" targetRef="Activity_13umgnb" /><bpmn:sequenceFlow id="Flow_0mrhgo8" sourceRef="Activity_0xbr3ak" targetRef="Activity_11ketwn" /><bpmn:sequenceFlow id="Flow_0a47r1o" sourceRef="Activity_11ketwn" targetRef="Activity_0gwsagd" /><bpmn:sequenceFlow id="Flow_1fn4ysh" sourceRef="Activity_0mz9una" targetRef="Activity_0xbr3ak" /><bpmn:sequenceFlow id="Flow_1ngmld5" sourceRef="Activity_13umgnb" targetRef="Activity_0gwsagd" /><bpmn:sequenceFlow id="Flow_0uzde0r" sourceRef="Activity_0zzv5f3" targetRef="Gateway_0hu58sg" /><bpmn:sequenceFlow id="Flow_16mbhc2" sourceRef="Gateway_0hu58sg" targetRef="Activity_0va304z"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${foundAgr == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1rv03ov" sourceRef="Activity_0va304z" targetRef="Activity_0gwsagd" /><bpmn:sequenceFlow id="Flow_0xzhdr1" sourceRef="Activity_0gwsagd" targetRef="Gateway_073xqm5" /><bpmn:sequenceFlow id="Flow_1qf7pxg" sourceRef="Gateway_073xqm5" targetRef="Activity_00jmxut"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${foundBook == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0jms8rb" sourceRef="Activity_00jmxut" targetRef="Activity_11kn2e8" /><bpmn:serviceTask id="Activity_02n5kt5" name="Определяем, есть ли клиент с тем же именем"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "legalEntity", 	"filter": 
{
 "$or": 
[		
{
"listTemplatePrimaryId": "5d778677a7b11b00088f391f",
"attributes.ShortName": "${ShortName}", 
"primaryId": {$ne: "${clientPrimaryId}" },
"activityStatus" : "ACTIVE"
}, 	
{
"listTemplatePrimaryId": "5d945c25a7b11b0008da1025",
"attributes.ShortName": "${ShortName}", 
"primaryId": {$ne: "${clientPrimaryId}" },
"activityStatus" : "ACTIVE"
}, 	
{
"listTemplatePrimaryId": "5d945ccca7b11b0008da25d1",
"attributes.ShortName": "${ShortName}", 
"primaryId": {$ne: "${clientPrimaryId}" },
"activityStatus" : "ACTIVE"
}, 	
{
"listTemplatePrimaryId": "5d945d3ea7b11b0008da34ba",
"attributes.ShortName": "${ShortName}", 
"primaryId": {$ne: "${clientPrimaryId}" },
"activityStatus" : "ACTIVE"
}
]
},
"projection": { 		"_id": 1 	}
}</camunda:inputParameter><camunda:outputParameter name="foundTeska"><camunda:script scriptFormat="javascript">!!JSON.parse(response).cursor.firstBatch.length</camunda:script></camunda:outputParameter><camunda:outputParameter name="TeskaId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="isEmptyTeska"><camunda:script scriptFormat="javascript">S(response)
.prop("cursor")
.prop("firstBatch").elements().isEmpty()</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1fsxq3b</bpmn:incoming><bpmn:outgoing>Flow_1rsfvwu</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1hydj3t" name="Устанавливаем признак foundTeska = false" camunda:asyncAfter="true" camunda:expression="false" camunda:resultVariable="foundTeska"><bpmn:incoming>Flow_1kxiwpk</bpmn:incoming><bpmn:outgoing>Flow_1fsxq3b</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_1horkkc" default="Flow_0g17jwe"><bpmn:incoming>Flow_1rsfvwu</bpmn:incoming><bpmn:outgoing>Flow_0g17jwe</bpmn:outgoing><bpmn:outgoing>Flow_0ara9j1</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="Activity_1jfmb66" name="ShortName текущего клиента" scriptFormat="javascript" camunda:resultVariable="ShortNameCurrentCtpt"><bpmn:incoming>Flow_0g17jwe</bpmn:incoming><bpmn:outgoing>Flow_0qmr9d2</bpmn:outgoing><bpmn:script>ShortName</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_1fsxq3b" sourceRef="Activity_1hydj3t" targetRef="Activity_02n5kt5" /><bpmn:sequenceFlow id="Flow_1rsfvwu" sourceRef="Activity_02n5kt5" targetRef="Gateway_1horkkc" /><bpmn:sequenceFlow id="Flow_0g17jwe" sourceRef="Gateway_1horkkc" targetRef="Activity_1jfmb66" /><bpmn:sequenceFlow id="Flow_1kxiwpk" sourceRef="ServiceTask_1uogrbh" targetRef="Activity_1hydj3t" /><bpmn:sequenceFlow id="Flow_0ara9j1" sourceRef="Gateway_1horkkc" targetRef="Activity_1cofxxb"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isEmptyTeska == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0qmr9d2" sourceRef="Activity_1jfmb66" targetRef="ServiceTask_02rqx87" /><bpmn:sequenceFlow id="Flow_0dzzjku" sourceRef="Gateway_073xqm5" targetRef="ServiceTask_02rqx87" /><bpmn:sequenceFlow id="Flow_0472cjc" sourceRef="Activity_11kn2e8" targetRef="ServiceTask_02rqx87" /><bpmn:exclusiveGateway id="Gateway_0hvgqbf" default="Flow_1y34w8y"><bpmn:incoming>SequenceFlow_19zbljy</bpmn:incoming><bpmn:outgoing>Flow_05rvoo8</bpmn:outgoing><bpmn:outgoing>Flow_1y34w8y</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_05rvoo8" sourceRef="Gateway_0hvgqbf" targetRef="ServiceTask_1jzfekn"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isTeska == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1y34w8y" sourceRef="Gateway_0hvgqbf" targetRef="ExclusiveGateway_1rargnb" /><bpmn:serviceTask id="Activity_1deli84" name="Создаем клиента"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/sendInstanceTo/LEGAL_ENTITY/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_counterparty_type" : "2",
"hlk_app_id" : "${appId}",
"ShortName" : "${ShortNameCurrentCtpt}",
"hlk_holerr" : null
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0u8vj1o</bpmn:incoming><bpmn:outgoing>Flow_0en2kaz</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0en2kaz" sourceRef="Activity_1deli84" targetRef="ExclusiveGateway_08eqqi5" /><bpmn:sequenceFlow id="Flow_0rfp9q8" sourceRef="Activity_1cofxxb" targetRef="Activity_0zzv5f3" /><bpmn:exclusiveGateway id="Gateway_0i6akqr" default="Flow_1ucx4jy"><bpmn:incoming>SequenceFlow_0ajm77l</bpmn:incoming><bpmn:outgoing>Flow_1386jbf</bpmn:outgoing><bpmn:outgoing>Flow_1ucx4jy</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1386jbf" sourceRef="Gateway_0i6akqr" targetRef="ServiceTask_004nzs6"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isTeska == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1ucx4jy" sourceRef="Gateway_0i6akqr" targetRef="ExclusiveGateway_1jhjxao" /><bpmn:sequenceFlow id="Flow_0qzzt17" sourceRef="ServiceTask_1ad4c3q" targetRef="Activity_117ypij" /><bpmn:sequenceFlow id="Flow_1j43obu" sourceRef="Activity_117ypij" targetRef="ServiceTask_04gjtjo" /><bpmn:serviceTask id="Activity_117ypij" name="Устанавливаем признак isTeska = false" camunda:expression="false" camunda:resultVariable="isTeska"><bpmn:incoming>Flow_0qzzt17</bpmn:incoming><bpmn:outgoing>Flow_1j43obu</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0hvb84n" name="Устанавливаем признак isTeska = true" camunda:expression="true" camunda:resultVariable="isTeska"><bpmn:incoming>Flow_0w7ltqr</bpmn:incoming><bpmn:outgoing>Flow_0iyjqza</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0w7ltqr" sourceRef="Activity_1vooe4u" targetRef="Activity_0hvb84n" /><bpmn:sequenceFlow id="Flow_0iyjqza" sourceRef="Activity_0hvb84n" targetRef="Activity_0mz9una" /><bpmn:serviceTask id="Activity_09xxz3u" name="Устанавливаем признак found = false" camunda:expression="false" camunda:resultVariable="found"><bpmn:incoming>SequenceFlow_16fctvc</bpmn:incoming><bpmn:outgoing>Flow_09uhmpw</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_09uhmpw" sourceRef="Activity_09xxz3u" targetRef="ServiceTask_1euc52x" /><bpmn:exclusiveGateway id="Gateway_0zp89hk" default="Flow_1gb1c0r"><bpmn:incoming>Flow_16006dp</bpmn:incoming><bpmn:outgoing>Flow_0ssja1d</bpmn:outgoing><bpmn:outgoing>Flow_1gb1c0r</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_16006dp" sourceRef="ServiceTask_1q5z8z4" targetRef="Gateway_0zp89hk" /><bpmn:sequenceFlow id="Flow_0ssja1d" sourceRef="Gateway_0zp89hk" targetRef="ServiceTask_0vs4mgz"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isTeska == false &amp;&amp; found == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1gb1c0r" sourceRef="Gateway_0zp89hk" targetRef="ExclusiveGateway_1uieydq" /></bpmn:process><bpmn:message id="Message_0bb2puz" name="bookReady" /><bpmn:message id="Message_1dci79x" name="539Receive" /><bpmn:signal id="Signal_1371e4u" name="bookUpdateReceive${instanceId}" /><bpmn:message id="Message_0b3jm8v" name="clientUpdated" /><bpmn:signal id="Signal_01vag1l" name="p" /><bpmn:message id="Message_1nf70uf" name="539Receive" /><bpmn:message id="Message_160mc1u" name="539Receive" /><bpmn:message id="Message_146gzw9" name="clientUpdated" /><bpmn:message id="Message_040gkr0" name="clientUpdated" /><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TEMPLATE_INSTANCE_PROCESS_hlk_legal_cnhg_b2a1522c-7156-4d9b-9e5a-8d3004d9f388"><bpmndi:BPMNEdge id="Flow_1gb1c0r_di" bpmnElement="Flow_1gb1c0r"><di:waypoint x="7275" y="1738" /><di:waypoint x="7450" y="1738" /><di:waypoint x="7450" y="1645" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ssja1d_di" bpmnElement="Flow_0ssja1d"><di:waypoint x="7250" y="1713" /><di:waypoint x="7250" y="1673" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_16006dp_di" bpmnElement="Flow_16006dp"><di:waypoint x="7160" y="1739" /><di:waypoint x="7193" y="1739" /><di:waypoint x="7193" y="1738" /><di:waypoint x="7225" y="1738" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_09uhmpw_di" bpmnElement="Flow_09uhmpw"><di:waypoint x="194" y="2120" /><di:waypoint x="230" y="2120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0iyjqza_di" bpmnElement="Flow_0iyjqza"><di:waypoint x="5220" y="1380" /><di:waypoint x="5306" y="1380" /><di:waypoint x="5306" y="1317" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0w7ltqr_di" bpmnElement="Flow_0w7ltqr"><di:waypoint x="5170" y="1317" /><di:waypoint x="5170" y="1340" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1j43obu_di" bpmnElement="Flow_1j43obu"><di:waypoint x="3769" y="2000" /><di:waypoint x="3845" y="2000" /><di:waypoint x="3845" y="2078" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0qzzt17_di" bpmnElement="Flow_0qzzt17"><di:waypoint x="3719" y="2077" /><di:waypoint x="3719" y="2040" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ucx4jy_di" bpmnElement="Flow_1ucx4jy"><di:waypoint x="7640" y="1130" /><di:waypoint x="7760" y="1130" /><di:waypoint x="7866" y="1172" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1386jbf_di" bpmnElement="Flow_1386jbf"><di:waypoint x="7614" y="1155" /><di:waypoint x="7614" y="1190" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0rfp9q8_di" bpmnElement="Flow_0rfp9q8"><di:waypoint x="4700" y="1286" /><di:waypoint x="4730" y="1286" /><di:waypoint x="4730" y="1277" /><di:waypoint x="4760" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0en2kaz_di" bpmnElement="Flow_0en2kaz"><di:waypoint x="6693" y="1940" /><di:waypoint x="6840" y="1940" /><di:waypoint x="6867" y="1965" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1y34w8y_di" bpmnElement="Flow_1y34w8y"><di:waypoint x="7639" y="1699" /><di:waypoint x="7720" y="1699" /><di:waypoint x="7720" y="1620" /><di:waypoint x="7769" y="1620" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_05rvoo8_di" bpmnElement="Flow_05rvoo8"><di:waypoint x="7614" y="1724" /><di:waypoint x="7614" y="1782" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0472cjc_di" bpmnElement="Flow_0472cjc"><di:waypoint x="6074" y="1317" /><di:waypoint x="6074" y="1410" /><di:waypoint x="6014" y="1410" /><di:waypoint x="6014" y="1480" /><di:waypoint x="4860" y="1480" /><di:waypoint x="4860" y="2052" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0dzzjku_di" bpmnElement="Flow_0dzzjku"><di:waypoint x="5834" y="1302" /><di:waypoint x="5834" y="1450" /><di:waypoint x="4840" y="1450" /><di:waypoint x="4840" y="2052" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0qmr9d2_di" bpmnElement="Flow_0qmr9d2"><di:waypoint x="4740" y="1778" /><di:waypoint x="4740" y="1915" /><di:waypoint x="4800" y="1915" /><di:waypoint x="4800" y="2052" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ara9j1_di" bpmnElement="Flow_0ara9j1"><di:waypoint x="4650" y="1634" /><di:waypoint x="4650" y="1326" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1kxiwpk_di" bpmnElement="Flow_1kxiwpk"><di:waypoint x="4603" y="2056" /><di:waypoint x="4603" y="2023" /><di:waypoint x="4650" y="2023" /><di:waypoint x="4650" y="1989" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0g17jwe_di" bpmnElement="Flow_0g17jwe"><di:waypoint x="4675" y="1659" /><di:waypoint x="4740" y="1659" /><di:waypoint x="4740" y="1698" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1rsfvwu_di" bpmnElement="Flow_1rsfvwu"><di:waypoint x="4650" y="1799" /><di:waypoint x="4650" y="1684" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1fsxq3b_di" bpmnElement="Flow_1fsxq3b"><di:waypoint x="4650" y="1909" /><di:waypoint x="4650" y="1879" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0jms8rb_di" bpmnElement="Flow_0jms8rb"><di:waypoint x="5990" y="1277" /><di:waypoint x="6024" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1qf7pxg_di" bpmnElement="Flow_1qf7pxg"><di:waypoint x="5859" y="1277" /><di:waypoint x="5890" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0xzhdr1_di" bpmnElement="Flow_0xzhdr1"><di:waypoint x="5764" y="1277" /><di:waypoint x="5809" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1rv03ov_di" bpmnElement="Flow_1rv03ov"><di:waypoint x="4920" y="1110" /><di:waypoint x="4920" y="1030" /><di:waypoint x="5730" y="1030" /><di:waypoint x="5730" y="1237" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_16mbhc2_di" bpmnElement="Flow_16mbhc2"><di:waypoint x="4920" y="1252" /><di:waypoint x="4920" y="1190" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0uzde0r_di" bpmnElement="Flow_0uzde0r"><di:waypoint x="4860" y="1277" /><di:waypoint x="4895" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ngmld5_di" bpmnElement="Flow_1ngmld5"><di:waypoint x="5090" y="1150" /><di:waypoint x="5700" y="1150" /><di:waypoint x="5700" y="1237" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1fn4ysh_di" bpmnElement="Flow_1fn4ysh"><di:waypoint x="5356" y="1277" /><di:waypoint x="5390" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0a47r1o_di" bpmnElement="Flow_0a47r1o"><di:waypoint x="5626" y="1277" /><di:waypoint x="5664" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0mrhgo8_di" bpmnElement="Flow_0mrhgo8"><di:waypoint x="5490" y="1277" /><di:waypoint x="5526" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_03u27oc_di" bpmnElement="Flow_03u27oc"><di:waypoint x="5040" y="1252" /><di:waypoint x="5040" y="1190" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1flt1xe_di" bpmnElement="Flow_1flt1xe"><di:waypoint x="5065" y="1277" /><di:waypoint x="5120" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ggfsns_di" bpmnElement="Flow_1ggfsns"><di:waypoint x="4945" y="1277" /><di:waypoint x="5015" y="1277" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0j3is8b_di" bpmnElement="Flow_0j3is8b"><di:waypoint x="10870" y="2310" /><di:waypoint x="10910" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1v14maa_di" bpmnElement="Flow_1v14maa"><di:waypoint x="11170" y="2310" /><di:waypoint x="11220" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0dz81lp_di" bpmnElement="Flow_0dz81lp"><di:waypoint x="11010" y="2310" /><di:waypoint x="11070" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0mcvjmu_di" bpmnElement="Flow_0mcvjmu"><di:waypoint x="11320" y="2310" /><di:waypoint x="11370" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_11w7bmg_di" bpmnElement="Flow_11w7bmg"><di:waypoint x="11644" y="2310" /><di:waypoint x="11686" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0eyovus_di" bpmnElement="Flow_0eyovus"><di:waypoint x="11470" y="2310" /><di:waypoint x="11544" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0se4ykc_di" bpmnElement="Flow_0se4ykc"><di:waypoint x="11620" y="1780" /><di:waypoint x="11680" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_143fjl6_di" bpmnElement="Flow_143fjl6"><di:waypoint x="11350" y="1782" /><di:waypoint x="11390" y="1782" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_107uivx_di" bpmnElement="Flow_107uivx"><di:waypoint x="11930" y="1780" /><di:waypoint x="11980" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1vp0rsb_di" bpmnElement="Flow_1vp0rsb"><di:waypoint x="11780" y="1780" /><di:waypoint x="11830" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1dvj0o1_di" bpmnElement="Flow_1dvj0o1"><di:waypoint x="12080" y="1780" /><di:waypoint x="12120" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0yf6bmy_di" bpmnElement="Flow_0yf6bmy"><di:waypoint x="12360" y="1780" /><di:waypoint x="12412" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0fm641f_di" bpmnElement="Flow_0fm641f"><di:waypoint x="12220" y="1780" /><di:waypoint x="12260" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1wqhocq_di" bpmnElement="Flow_1wqhocq"><di:waypoint x="14830" y="779" /><di:waypoint x="14900" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1hvq6x7_di" bpmnElement="Flow_1hvq6x7"><di:waypoint x="14680" y="779" /><di:waypoint x="14730" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_152fzn2_di" bpmnElement="Flow_152fzn2"><di:waypoint x="15000" y="779" /><di:waypoint x="15054" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1w1rnoi_di" bpmnElement="Flow_1w1rnoi"><di:waypoint x="14170" y="779" /><di:waypoint x="14220" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0627p82_di" bpmnElement="Flow_0627p82"><di:waypoint x="13980" y="779" /><di:waypoint x="14070" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_12ogat8_di" bpmnElement="Flow_12ogat8"><di:waypoint x="2880" y="2121" /><di:waypoint x="2890" y="2121" /><di:waypoint x="2890" y="2118" /><di:waypoint x="2900" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0mzqh81_di" bpmnElement="Flow_0mzqh81"><di:waypoint x="10120" y="2484" /><di:waypoint x="10176" y="2484" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1dedlra_di" bpmnElement="Flow_1dedlra"><di:waypoint x="10530" y="2310" /><di:waypoint x="10610" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0gpondg_di" bpmnElement="Flow_0gpondg"><di:waypoint x="10364" y="1930" /><di:waypoint x="10420" y="1930" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18sjs39_di" bpmnElement="Flow_18sjs39"><di:waypoint x="10945" y="1780" /><di:waypoint x="10955" y="1780" /><di:waypoint x="10955" y="1782" /><di:waypoint x="10964" y="1782" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_106s9n4_di" bpmnElement="Flow_106s9n4"><di:waypoint x="10870" y="1870" /><di:waypoint x="10920" y="1870" /><di:waypoint x="10920" y="1805" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1seh4kn_di" bpmnElement="Flow_1seh4kn"><di:waypoint x="10730" y="1870" /><di:waypoint x="10770" y="1870" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1um426w_di" bpmnElement="Flow_1um426w"><di:waypoint x="10882" y="1709" /><di:waypoint x="10920" y="1709" /><di:waypoint x="10920" y="1755" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0dxrg7a_di" bpmnElement="Flow_0dxrg7a"><di:waypoint x="10734" y="1709" /><di:waypoint x="10782" y="1709" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_03o59ji_di" bpmnElement="Flow_03o59ji"><di:waypoint x="10480" y="1780" /><di:waypoint x="10568" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_198misn_di" bpmnElement="Flow_198misn"><di:waypoint x="10320" y="1780" /><di:waypoint x="10380" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0c6j72g_di" bpmnElement="Flow_0c6j72g"><di:waypoint x="11860" y="949" /><di:waypoint x="11904" y="949" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0d4y9o5_di" bpmnElement="Flow_0d4y9o5"><di:waypoint x="12810" y="867" /><di:waypoint x="12850" y="867" /><di:waypoint x="12850" y="804" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_02khz34_di" bpmnElement="Flow_02khz34"><di:waypoint x="12670" y="867" /><di:waypoint x="12710" y="867" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1csi5mu_di" bpmnElement="Flow_1csi5mu"><di:waypoint x="12875" y="779" /><di:waypoint x="12914" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0qnb3fl_di" bpmnElement="Flow_0qnb3fl"><di:waypoint x="12820" y="697" /><di:waypoint x="12850" y="697" /><di:waypoint x="12850" y="754" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ez1xl0_di" bpmnElement="Flow_0ez1xl0"><di:waypoint x="12684" y="697" /><di:waypoint x="12720" y="697" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1h0aowp_di" bpmnElement="Flow_1h0aowp"><di:waypoint x="12450" y="779" /><di:waypoint x="12502" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0m24be1_di" bpmnElement="Flow_0m24be1"><di:waypoint x="12320" y="779" /><di:waypoint x="12350" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1auep04_di" bpmnElement="Flow_1auep04"><di:waypoint x="12190" y="779" /><di:waypoint x="12220" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0u8vj1o_di" bpmnElement="Flow_0u8vj1o"><di:waypoint x="6550" y="1959" /><di:waypoint x="6550" y="1920" /><di:waypoint x="6593" y="1920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_19ckp33_di" bpmnElement="Flow_19ckp33"><di:waypoint x="6550" y="2009" /><di:waypoint x="6550" y="2020" /><di:waypoint x="6710" y="2020" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ymhv1z_di" bpmnElement="Flow_0ymhv1z"><di:waypoint x="9280" y="1840" /><di:waypoint x="9280" y="1890" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0rb6259_di" bpmnElement="Flow_0rb6259"><di:waypoint x="9720" y="1905" /><di:waypoint x="9720" y="1800" /><di:waypoint x="9650" y="1800" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_185aknc_di" bpmnElement="Flow_185aknc"><di:waypoint x="9550" y="1800" /><di:waypoint x="9490" y="1800" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_08fc57y_di" bpmnElement="Flow_08fc57y"><di:waypoint x="9330" y="1930" /><di:waypoint x="9400" y="1930" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1pe6yh4_di" bpmnElement="Flow_1pe6yh4"><di:waypoint x="9170" y="1955" /><di:waypoint x="9170" y="2010" /><di:waypoint x="10050" y="2010" /><di:waypoint x="10050" y="1970" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1i4j30h_di" bpmnElement="Flow_1i4j30h"><di:waypoint x="9195" y="1930" /><di:waypoint x="9230" y="1930" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0n4r3hw_di" bpmnElement="Flow_0n4r3hw"><di:waypoint x="9170" y="1702" /><di:waypoint x="9170" y="1905" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0i2gkri_di" bpmnElement="Flow_0i2gkri"><di:waypoint x="9450" y="2210" /><di:waypoint x="9450" y="2270" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1d2iuqh_di" bpmnElement="Flow_1d2iuqh"><di:waypoint x="9550" y="2170" /><di:waypoint x="9500" y="2170" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0a16nek_di" bpmnElement="Flow_0a16nek"><di:waypoint x="9760" y="2285" /><di:waypoint x="9760" y="2210" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10t48w8_di" bpmnElement="Flow_10t48w8"><di:waypoint x="9662" y="2310" /><di:waypoint x="9735" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_00yex8y_di" bpmnElement="Flow_00yex8y"><di:waypoint x="9500" y="2310" /><di:waypoint x="9562" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0u7hlx8_di" bpmnElement="Flow_0u7hlx8"><di:waypoint x="9280" y="2480" /><di:waypoint x="9280" y="2310" /><di:waypoint x="9315" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1eidfw6_di" bpmnElement="Flow_1eidfw6"><di:waypoint x="9340" y="2335" /><di:waypoint x="9340" y="2454" /><di:waypoint x="9733" y="2454" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1oa24ei_di" bpmnElement="Flow_1oa24ei"><di:waypoint x="9365" y="2310" /><di:waypoint x="9400" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1t5fdiv_di" bpmnElement="Flow_1t5fdiv"><di:waypoint x="5490" y="2052" /><di:waypoint x="5490" y="1920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0zeivpr_di" bpmnElement="Flow_0zeivpr"><di:waypoint x="7030" y="1739" /><di:waypoint x="7060" y="1739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0etusxc_di" bpmnElement="Flow_0etusxc"><di:waypoint x="2629" y="2120" /><di:waypoint x="2657" y="2120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0oorffv_di" bpmnElement="Flow_0oorffv"><di:waypoint x="2500" y="2118" /><di:waypoint x="2529" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0b43xwg_di" bpmnElement="Flow_0b43xwg"><di:waypoint x="625" y="2118" /><di:waypoint x="690" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1iw9rwd_di" bpmnElement="Flow_1iw9rwd"><di:waypoint x="1080" y="2120" /><di:waypoint x="1200" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14fcmh5_di" bpmnElement="Flow_14fcmh5"><di:waypoint x="930" y="2120" /><di:waypoint x="980" y="2120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1rvobn0_di" bpmnElement="Flow_1rvobn0"><di:waypoint x="790" y="2118" /><di:waypoint x="830" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1w4h6fv_di" bpmnElement="Flow_1w4h6fv"><di:waypoint x="10100" y="960" /><di:waypoint x="10100" y="1070" /><di:waypoint x="12054" y="1070" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0uus94c_di" bpmnElement="Flow_0uus94c"><di:waypoint x="10940" y="804" /><di:waypoint x="10940" y="880" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1iyoyoa_di" bpmnElement="Flow_1iyoyoa"><di:waypoint x="10630" y="920" /><di:waypoint x="10600" y="920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0dq01c7_di" bpmnElement="Flow_0dq01c7"><di:waypoint x="10200" y="920" /><di:waypoint x="10150" y="920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_15d4oq8_di" bpmnElement="Flow_15d4oq8"><di:waypoint x="10360" y="920" /><di:waypoint x="10300" y="920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1pip2mk_di" bpmnElement="Flow_1pip2mk"><di:waypoint x="10500" y="920" /><di:waypoint x="10460" y="920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1epn8od_di" bpmnElement="Flow_1epn8od"><di:waypoint x="10890" y="920" /><di:waypoint x="10730" y="920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_05xy7fm_di" bpmnElement="Flow_05xy7fm"><di:waypoint x="11230" y="779" /><di:waypoint x="11270" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1mw211v_di" bpmnElement="Flow_1mw211v"><di:waypoint x="10965" y="779" /><di:waypoint x="11000" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0oi7mh1_di" bpmnElement="Flow_0oi7mh1"><di:waypoint x="10940" y="530" /><di:waypoint x="10940" y="754" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1kuuj80_di" bpmnElement="Flow_1kuuj80"><di:waypoint x="11050" y="679" /><di:waypoint x="11050" y="739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1hyg3u8_di" bpmnElement="Flow_1hyg3u8"><di:waypoint x="10832" y="739" /><di:waypoint x="10832" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1efwwyp_di" bpmnElement="Flow_1efwwyp"><di:waypoint x="9378" y="976" /><di:waypoint x="9470" y="976" /><di:waypoint x="9470" y="1179" /><di:waypoint x="9562" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0nsxdby_di" bpmnElement="Flow_0nsxdby"><di:waypoint x="6830" y="1530" /><di:waypoint x="4650" y="1530" /><di:waypoint x="4255" y="2077" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_07larul_di" bpmnElement="Flow_07larul"><di:waypoint x="6905" y="1739" /><di:waypoint x="6930" y="1739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1norh5i_di" bpmnElement="Flow_1norh5i"><di:waypoint x="6880" y="1714" /><di:waypoint x="6880" y="1552" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14oi11c_di" bpmnElement="Flow_14oi11c"><di:waypoint x="6828" y="1739" /><di:waypoint x="6855" y="1739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ep5oxc_di" bpmnElement="Flow_1ep5oxc"><di:waypoint x="6180" y="2320" /><di:waypoint x="6180" y="2460" /><di:waypoint x="4274" y="2460" /><di:waypoint x="4274" y="2155" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1x1tm3b_di" bpmnElement="Flow_1x1tm3b"><di:waypoint x="6020" y="2145" /><di:waypoint x="6020" y="2280" /><di:waypoint x="6130" y="2280" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0222b0c_di" bpmnElement="Flow_0222b0c"><di:waypoint x="6020" y="1920" /><di:waypoint x="6020" y="2095" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0wdy7fu_di" bpmnElement="Flow_0wdy7fu"><di:waypoint x="6045" y="2120" /><di:waypoint x="6068" y="2120" /><di:waypoint x="6068" y="2118" /><di:waypoint x="6090" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1k3s7pt_di" bpmnElement="Flow_1k3s7pt"><di:waypoint x="5370" y="2092" /><di:waypoint x="5440" y="2092" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1pj91hi_di" bpmnElement="SequenceFlow_1pj91hi"><di:waypoint x="330" y="2118" /><di:waypoint x="345" y="2118" /><di:waypoint x="345" y="2120" /><di:waypoint x="360" y="2120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_06h7dt8_di" bpmnElement="SequenceFlow_06h7dt8"><di:waypoint x="4700" y="2239" /><di:waypoint x="4770" y="2239" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1r15e8v_di" bpmnElement="SequenceFlow_1r15e8v"><di:waypoint x="4056" y="2419" /><di:waypoint x="4056" y="2379" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1kq4wjf_di" bpmnElement="SequenceFlow_1kq4wjf"><di:waypoint x="4149" y="2117" /><di:waypoint x="4178" y="2117" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0j9c6qj_di" bpmnElement="SequenceFlow_0j9c6qj"><di:waypoint x="6120" y="2002" /><di:waypoint x="6120" y="2040" /><di:waypoint x="6140" y="2040" /><di:waypoint x="6140" y="2078" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1cyaubc_di" bpmnElement="SequenceFlow_1cyaubc"><di:waypoint x="1582" y="2120" /><di:waypoint x="1623" y="2120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1650dk0_di" bpmnElement="SequenceFlow_1650dk0"><di:waypoint x="1300" y="2118" /><di:waypoint x="1340" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02o0bvk_di" bpmnElement="SequenceFlow_02o0bvk"><di:waypoint x="4368" y="2055" /><di:waypoint x="4368" y="2077" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1vvu05q_di" bpmnElement="SequenceFlow_1vvu05q"><di:waypoint x="3646" y="2117" /><di:waypoint x="3669" y="2117" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_06bk94w_di" bpmnElement="SequenceFlow_06bk94w"><di:waypoint x="4228" y="1975" /><di:waypoint x="4228" y="1948" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0eeysq6_di" bpmnElement="SequenceFlow_0eeysq6"><di:waypoint x="4203" y="1006" /><di:waypoint x="4096" y="1006" /><di:waypoint x="4096" y="1224" /><di:waypoint x="4165" y="2050" /><di:waypoint x="4190" y="2077" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1cn42tc_di" bpmnElement="SequenceFlow_1cn42tc"><di:waypoint x="4203" y="1220" /><di:waypoint x="4099" y="1220" /><di:waypoint x="4162" y="2047" /><di:waypoint x="4190" y="2077" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1g9c542_di" bpmnElement="SequenceFlow_1g9c542"><di:waypoint x="4253" y="1006" /><di:waypoint x="4448" y="1006" /><di:waypoint x="4448" y="1078" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0r03im4_di" bpmnElement="SequenceFlow_0r03im4"><di:waypoint x="4228" y="1078" /><di:waypoint x="4228" y="1031" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1kp5g6a_di" bpmnElement="SequenceFlow_1kp5g6a"><di:waypoint x="4228" y="1195" /><di:waypoint x="4228" y="1158" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0veu8yv_di" bpmnElement="SequenceFlow_0veu8yv"><di:waypoint x="4228" y="1278" /><di:waypoint x="4228" y="1245" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ex5ery_di" bpmnElement="SequenceFlow_0ex5ery"><di:waypoint x="2361" y="2118" /><di:waypoint x="2400" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_08a0tho_di" bpmnElement="SequenceFlow_08a0tho"><di:waypoint x="10236" y="679" /><di:waypoint x="10236" y="710" /><di:waypoint x="10234" y="710" /><di:waypoint x="10234" y="739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0kohaui_di" bpmnElement="SequenceFlow_0kohaui"><di:waypoint x="8660" y="1580" /><di:waypoint x="8749" y="1580" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rkywsa_di" bpmnElement="SequenceFlow_0rkywsa"><di:waypoint x="8634" y="2250" /><di:waypoint x="8634" y="2274" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0wot84t_di" bpmnElement="SequenceFlow_0wot84t"><di:waypoint x="8494" y="2274" /><di:waypoint x="8494" y="2262" /><di:waypoint x="8484" y="2262" /><di:waypoint x="8484" y="2250" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lyjxru_di" bpmnElement="SequenceFlow_1lyjxru"><di:waypoint x="8534" y="2210" /><di:waypoint x="8569" y="2210" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0zia8a6_di" bpmnElement="SequenceFlow_0zia8a6"><di:waypoint x="8564" y="1699" /><di:waypoint x="8564" y="1660" /><di:waypoint x="8460" y="1660" /><di:waypoint x="8460" y="1620" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1iyma1c_di" bpmnElement="SequenceFlow_1iyma1c"><di:waypoint x="8510" y="1580" /><di:waypoint x="8560" y="1580" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1s5w2yw_di" bpmnElement="SequenceFlow_1s5w2yw"><di:waypoint x="10086" y="739" /><di:waypoint x="10086" y="679" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ige2oo_di" bpmnElement="SequenceFlow_0ige2oo"><di:waypoint x="10136" y="639" /><di:waypoint x="10186" y="639" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_18j406a_di" bpmnElement="SequenceFlow_18j406a"><di:waypoint x="2102" y="2118" /><di:waypoint x="2133" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0x72uka_di" bpmnElement="SequenceFlow_0x72uka"><di:waypoint x="2233" y="2118" /><di:waypoint x="2261" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ei1a7w_di" bpmnElement="SequenceFlow_1ei1a7w"><di:waypoint x="4056" y="2299" /><di:waypoint x="4056" y="2279" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_189w8mx_di" bpmnElement="SequenceFlow_189w8mx"><di:waypoint x="4870" y="2239" /><di:waypoint x="4940" y="2239" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02zis51_di" bpmnElement="SequenceFlow_02zis51"><di:waypoint x="4448" y="1763" /><di:waypoint x="4448" y="2015" /><di:waypoint x="4418" y="2015" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1i3kp1j_di" bpmnElement="SequenceFlow_1i3kp1j"><di:waypoint x="4423" y="1738" /><di:waypoint x="4368" y="1738" /><di:waypoint x="4368" y="1865" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_15isswe_di" bpmnElement="SequenceFlow_15isswe"><di:waypoint x="4448" y="1646" /><di:waypoint x="4448" y="1713" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_00t6jst_di" bpmnElement="SequenceFlow_00t6jst"><di:waypoint x="4056" y="2199" /><di:waypoint x="4056" y="2173" /><di:waypoint x="4228" y="2173" /><di:waypoint x="4228" y="2157" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1pbo45r_di" bpmnElement="SequenceFlow_1pbo45r"><di:waypoint x="5040" y="2239" /><di:waypoint x="5110" y="2239" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ky20d0_di" bpmnElement="SequenceFlow_0ky20d0"><di:waypoint x="5190" y="2092" /><di:waypoint x="5270" y="2092" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0c3pgko_di" bpmnElement="SequenceFlow_0c3pgko"><di:waypoint x="8414" y="2314" /><di:waypoint x="8444" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_171574t_di" bpmnElement="SequenceFlow_171574t"><di:waypoint x="8164" y="2314" /><di:waypoint x="8194" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1mfcgsi_di" bpmnElement="SequenceFlow_1mfcgsi"><di:waypoint x="9833" y="779" /><di:waypoint x="9896" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_007b0l4_di" bpmnElement="SequenceFlow_007b0l4"><di:waypoint x="8494" y="1739" /><di:waypoint x="8514" y="1739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1s2dn1j_di" bpmnElement="SequenceFlow_1s2dn1j"><di:waypoint x="8349" y="1176" /><di:waypoint x="8374" y="1176" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0m2fwxv_di" bpmnElement="SequenceFlow_0m2fwxv"><di:waypoint x="8249" y="1739" /><di:waypoint x="8274" y="1739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0o81xzg_di" bpmnElement="SequenceFlow_0o81xzg"><di:waypoint x="7819" y="1620" /><di:waypoint x="7834" y="1620" /><di:waypoint x="7834" y="1714" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0nspu5f_di" bpmnElement="SequenceFlow_0nspu5f"><di:waypoint x="7909" y="1179" /><di:waypoint x="7944" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1isnk6f_di" bpmnElement="SequenceFlow_1isnk6f"><di:waypoint x="460" y="2120" /><di:waypoint x="525" y="2120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16fctvc_di" bpmnElement="SequenceFlow_16fctvc"><di:waypoint x="58" y="2121" /><di:waypoint x="94" y="2121" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0dsbyxg_di" bpmnElement="SequenceFlow_0dsbyxg"><di:waypoint x="7639" y="1620" /><di:waypoint x="7769" y="1620" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_19zbljy_di" bpmnElement="SequenceFlow_19zbljy"><di:waypoint x="7614" y="1645" /><di:waypoint x="7614" y="1674" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0b6nhmo_di" bpmnElement="SequenceFlow_0b6nhmo"><di:waypoint x="7639" y="1050" /><di:waypoint x="7884" y="1050" /><di:waypoint x="7884" y="1154" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ajm77l_di" bpmnElement="SequenceFlow_0ajm77l"><di:waypoint x="7614" y="1075" /><di:waypoint x="7614" y="1105" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1wrprs9_di" bpmnElement="SequenceFlow_1wrprs9"><di:waypoint x="12104" y="1110" /><di:waypoint x="12104" y="1250" /><di:waypoint x="8694" y="1250" /><di:waypoint x="8694" y="2620" /><di:waypoint x="4228" y="2620" /><di:waypoint x="4228" y="2157" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1olm7k3_di" bpmnElement="SequenceFlow_1olm7k3"><di:waypoint x="12104" y="989" /><di:waypoint x="12104" y="1030" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0tdp6pu_di" bpmnElement="SequenceFlow_0tdp6pu"><di:waypoint x="12004" y="949" /><di:waypoint x="12054" y="949" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16mx1hu_di" bpmnElement="SequenceFlow_16mx1hu"><di:waypoint x="10420" y="2051" /><di:waypoint x="7694" y="2051" /><di:waypoint x="7694" y="2620" /><di:waypoint x="4228" y="2620" /><di:waypoint x="4228" y="2157" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_02o3g29_di" bpmnElement="SequenceFlow_02o3g29"><di:waypoint x="10470" y="1970" /><di:waypoint x="10470" y="2011" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1562s8b_di" bpmnElement="SequenceFlow_1562s8b"><di:waypoint x="10226" y="2660" /><di:waypoint x="10226" y="3170" /><di:waypoint x="4228" y="3170" /><di:waypoint x="4228" y="2157" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0jojyjf_di" bpmnElement="SequenceFlow_0jojyjf"><di:waypoint x="10226" y="2524" /><di:waypoint x="10226" y="2580" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_06qmvdv_di" bpmnElement="SequenceFlow_06qmvdv"><di:waypoint x="4056" y="2539" /><di:waypoint x="4056" y="2499" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_19471ly_di" bpmnElement="SequenceFlow_19471ly"><di:waypoint x="4368" y="2157" /><di:waypoint x="4368" y="2579" /><di:waypoint x="4106" y="2579" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1v88a9v_di" bpmnElement="SequenceFlow_1v88a9v"><di:waypoint x="4203" y="1822" /><di:waypoint x="4144" y="1822" /><di:waypoint x="4165" y="2049" /><di:waypoint x="4191" y="2077" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0c74zol_di" bpmnElement="SequenceFlow_0c74zol"><di:waypoint x="4228" y="2077" /><di:waypoint x="4228" y="2055" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_040pzvc_di" bpmnElement="SequenceFlow_040pzvc"><di:waypoint x="4228" y="1797" /><di:waypoint x="4228" y="1761" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1h4dcf8_di" bpmnElement="SequenceFlow_1h4dcf8"><di:waypoint x="4228" y="1868" /><di:waypoint x="4228" y="1847" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_053dp8e_di" bpmnElement="SequenceFlow_053dp8e"><di:waypoint x="4228" y="1472" /><di:waypoint x="4228" y="1446" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1jsx5yj_di" bpmnElement="SequenceFlow_1jsx5yj"><di:waypoint x="4228" y="1579" /><di:waypoint x="4228" y="1552" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ehgc96_di" bpmnElement="SequenceFlow_0ehgc96"><di:waypoint x="4228" y="1681" /><di:waypoint x="4228" y="1659" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1qr6zk8_di" bpmnElement="SequenceFlow_1qr6zk8"><di:waypoint x="4228" y="1396" /><di:waypoint x="4228" y="1358" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1kvafon_di" bpmnElement="SequenceFlow_1kvafon"><di:waypoint x="4228" y="1421" /><di:waypoint x="4348" y="1421" /><di:waypoint x="4348" y="1699" /><di:waypoint x="4270" y="2078" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1qf2e4i_di" bpmnElement="SequenceFlow_1qf2e4i"><di:waypoint x="13614" y="779" /><di:waypoint x="13702" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1nsskue_di" bpmnElement="SequenceFlow_1nsskue"><di:waypoint x="13434" y="779" /><di:waypoint x="13514" y="780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1fq144i_di" bpmnElement="SequenceFlow_1fq144i"><di:waypoint x="7300" y="1633" /><di:waypoint x="7363" y="1633" /><di:waypoint x="7363" y="1620" /><di:waypoint x="7425" y="1620" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ouej16_di" bpmnElement="SequenceFlow_0ouej16"><di:waypoint x="10380" y="2310" /><di:waypoint x="10430" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_040erzn_di" bpmnElement="SequenceFlow_040erzn"><di:waypoint x="9993" y="2484" /><di:waypoint x="10020" y="2484" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dmufjl_di" bpmnElement="SequenceFlow_1dmufjl"><di:waypoint x="10240" y="1930" /><di:waypoint x="10264" y="1930" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0qil233_di" bpmnElement="SequenceFlow_0qil233"><di:waypoint x="11724" y="949" /><di:waypoint x="11760" y="949" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1virgag_di" bpmnElement="SequenceFlow_1virgag"><di:waypoint x="4368" y="1945" /><di:waypoint x="4368" y="1975" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_113dtlj_di" bpmnElement="SequenceFlow_113dtlj"><di:waypoint x="4448" y="1533" /><di:waypoint x="4448" y="1566" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_07gztl1_di" bpmnElement="SequenceFlow_07gztl1"><di:waypoint x="2757" y="2120" /><di:waypoint x="2769" y="2120" /><di:waypoint x="2769" y="2121" /><di:waypoint x="2780" y="2121" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1rxetx3_di" bpmnElement="SequenceFlow_1rxetx3"><di:waypoint x="5010" y="2092" /><di:waypoint x="5090" y="2092" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1npo7sm_di" bpmnElement="SequenceFlow_1npo7sm"><di:waypoint x="4880" y="2092" /><di:waypoint x="4910" y="2092" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0f30nex_di" bpmnElement="SequenceFlow_0f30nex"><di:waypoint x="6810" y="2000" /><di:waypoint x="6829" y="2000" /><di:waypoint x="6829" y="1984" /><di:waypoint x="6848" y="1984" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_039de98_di" bpmnElement="SequenceFlow_039de98"><di:waypoint x="6500" y="1984" /><di:waypoint x="6525" y="1984" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1vh4tda_di" bpmnElement="SequenceFlow_1vh4tda"><di:waypoint x="4448" y="1420" /><di:waypoint x="4448" y="1453" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_04jevoy_di" bpmnElement="SequenceFlow_04jevoy"><di:waypoint x="4448" y="1158" /><di:waypoint x="4448" y="1340" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0nmrg5b_di" bpmnElement="SequenceFlow_0nmrg5b"><di:waypoint x="10180" y="1780" /><di:waypoint x="10220" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1fstj7w_di" bpmnElement="SequenceFlow_1fstj7w"><di:waypoint x="10050" y="1780" /><di:waypoint x="10080" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_111sisl_di" bpmnElement="SequenceFlow_111sisl"><di:waypoint x="10593" y="1805" /><di:waypoint x="10593" y="1870" /><di:waypoint x="10630" y="1870" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dvd18y_di" bpmnElement="SequenceFlow_1dvd18y"><di:waypoint x="10593" y="1755" /><di:waypoint x="10593" y="1709" /><di:waypoint x="10634" y="1709" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_08ktsbq_di" bpmnElement="SequenceFlow_08ktsbq"><di:waypoint x="12046" y="779" /><di:waypoint x="12090" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_11rth4v_di" bpmnElement="SequenceFlow_11rth4v"><di:waypoint x="12527" y="804" /><di:waypoint x="12527" y="867" /><di:waypoint x="12570" y="867" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1k31usl_di" bpmnElement="SequenceFlow_1k31usl"><di:waypoint x="12527" y="754" /><di:waypoint x="12527" y="697" /><di:waypoint x="12584" y="697" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dt6ega_di" bpmnElement="SequenceFlow_1dt6ega"><di:waypoint x="4025" y="1905" /><di:waypoint x="4099" y="1905" /><di:waypoint x="4099" y="2077" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_080bapz_di" bpmnElement="SequenceFlow_080bapz"><di:waypoint x="3895" y="2118" /><di:waypoint x="3910" y="2118" /><di:waypoint x="3910" y="2117" /><di:waypoint x="3925" y="2117" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0v4p1h8_di" bpmnElement="SequenceFlow_0v4p1h8"><di:waypoint x="3975" y="1975" /><di:waypoint x="3975" y="1945" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0bo3rng_di" bpmnElement="SequenceFlow_0bo3rng"><di:waypoint x="3975" y="2077" /><di:waypoint x="3975" y="2055" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0nsatyu_di" bpmnElement="SequenceFlow_0nsatyu"><di:waypoint x="3522" y="2117" /><di:waypoint x="3546" y="2117" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1bma81o_di" bpmnElement="SequenceFlow_1bma81o"><di:waypoint x="3382" y="2118" /><di:waypoint x="3402" y="2118" /><di:waypoint x="3402" y="2117" /><di:waypoint x="3422" y="2117" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1vr8esx_di" bpmnElement="SequenceFlow_1vr8esx"><di:waypoint x="3127" y="2118" /><di:waypoint x="3153" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0z9u429_di" bpmnElement="SequenceFlow_0z9u429"><di:waypoint x="3253" y="2116" /><di:waypoint x="3268" y="2116" /><di:waypoint x="3268" y="2118" /><di:waypoint x="3282" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lek1z7_di" bpmnElement="SequenceFlow_1lek1z7"><di:waypoint x="7800" y="1230" /><di:waypoint x="7830" y="1230" /><di:waypoint x="7830" y="1179" /><di:waypoint x="7859" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rhzl98_di" bpmnElement="SequenceFlow_0rhzl98"><di:waypoint x="7664" y="1230" /><di:waypoint x="7700" y="1230" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0mtkhb9_di" bpmnElement="SequenceFlow_0mtkhb9"><di:waypoint x="6553" y="2414" /><di:waypoint x="6593" y="2414" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_15f60jo_di" bpmnElement="SequenceFlow_15f60jo"><di:waypoint x="6654" y="2118" /><di:waypoint x="6664" y="2118" /><di:waypoint x="6664" y="2119" /><di:waypoint x="6674" y="2119" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_09hjogj_di" bpmnElement="SequenceFlow_09hjogj"><di:waypoint x="3000" y="2118" /><di:waypoint x="3027" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ff47px_di" bpmnElement="SequenceFlow_0ff47px"><di:waypoint x="8724" y="1179" /><di:waypoint x="8774" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1yysloo_di" bpmnElement="SequenceFlow_1yysloo"><di:waypoint x="8594" y="1179" /><di:waypoint x="8624" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0zpc351_di" bpmnElement="SequenceFlow_0zpc351"><di:waypoint x="9334" y="779" /><di:waypoint x="9381" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_195kuub_di" bpmnElement="SequenceFlow_195kuub"><di:waypoint x="9206" y="779" /><di:waypoint x="9234" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1p5d0s8_di" bpmnElement="SequenceFlow_1p5d0s8"><di:waypoint x="1971" y="2118" /><di:waypoint x="2002" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_19drmz5_di" bpmnElement="SequenceFlow_19drmz5"><di:waypoint x="10428" y="779" /><di:waypoint x="10468" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_15s3j7v_di" bpmnElement="SequenceFlow_15s3j7v"><di:waypoint x="14470" y="779" /><di:waypoint x="14580" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1xj9frr_di" bpmnElement="SequenceFlow_1xj9frr"><di:waypoint x="9046" y="779" /><di:waypoint x="9106" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1nnm9p0_di" bpmnElement="SequenceFlow_1nnm9p0"><di:waypoint x="9662" y="1179" /><di:waypoint x="9732" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1kjlcsw_di" bpmnElement="SequenceFlow_1kjlcsw"><di:waypoint x="9329" y="1139" /><di:waypoint x="9329" y="1091" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_035bnmm_di" bpmnElement="SequenceFlow_035bnmm"><di:waypoint x="9832" y="1179" /><di:waypoint x="9912" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_190oh0n_di" bpmnElement="SequenceFlow_190oh0n"><di:waypoint x="10188" y="1179" /><di:waypoint x="10296" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0knxejt_di" bpmnElement="SequenceFlow_0knxejt"><di:waypoint x="10012" y="1179" /><di:waypoint x="10088" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12rylk5_di" bpmnElement="SequenceFlow_12rylk5"><di:waypoint x="9199" y="1179" /><di:waypoint x="9279" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12t45ln_di" bpmnElement="SequenceFlow_12t45ln"><di:waypoint x="9039" y="1179" /><di:waypoint x="9099" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1rab3s8_di" bpmnElement="SequenceFlow_1rab3s8"><di:waypoint x="8824" y="1179" /><di:waypoint x="8939" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0hg9usu_di" bpmnElement="SequenceFlow_0hg9usu"><di:waypoint x="8799" y="1154" /><di:waypoint x="8799" y="779" /><di:waypoint x="8946" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_090x4gz_di" bpmnElement="SequenceFlow_090x4gz"><di:waypoint x="8474" y="1179" /><di:waypoint x="8494" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1u7yefs_di" bpmnElement="SequenceFlow_1u7yefs"><di:waypoint x="11866" y="754" /><di:waypoint x="11866" y="639" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_03w4hos_di" bpmnElement="SequenceFlow_03w4hos"><di:waypoint x="11816" y="779" /><di:waypoint x="11841" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_151uui9_di" bpmnElement="SequenceFlow_151uui9"><di:waypoint x="11686" y="779" /><di:waypoint x="11716" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0d5warq_di" bpmnElement="SequenceFlow_0d5warq"><di:waypoint x="11566" y="779" /><di:waypoint x="11586" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rpab3b_di" bpmnElement="SequenceFlow_0rpab3b"><di:waypoint x="11604" y="949" /><di:waypoint x="11624" y="949" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ut2aiz_di" bpmnElement="SequenceFlow_0ut2aiz"><di:waypoint x="11270" y="639" /><di:waypoint x="11230" y="639" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1esin3s_di" bpmnElement="SequenceFlow_1esin3s"><di:waypoint x="11916" y="599" /><di:waypoint x="11996" y="599" /><di:waypoint x="11996" y="739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0y8cnb6_di" bpmnElement="SequenceFlow_0y8cnb6"><di:waypoint x="11891" y="779" /><di:waypoint x="11946" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0bhkjhz_di" bpmnElement="SequenceFlow_0bhkjhz"><di:waypoint x="11476" y="949" /><di:waypoint x="11504" y="949" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dcz248_di" bpmnElement="SequenceFlow_1dcz248"><di:waypoint x="11451" y="779" /><di:waypoint x="11466" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_18fdw48_di" bpmnElement="SequenceFlow_18fdw48"><di:waypoint x="11426" y="754" /><di:waypoint x="11426" y="639" /><di:waypoint x="11370" y="639" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_14rfcbf_di" bpmnElement="SequenceFlow_14rfcbf"><di:waypoint x="11426" y="804" /><di:waypoint x="11426" y="909" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lcxjna_di" bpmnElement="SequenceFlow_1lcxjna"><di:waypoint x="13014" y="779" /><di:waypoint x="13044" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0f1c4ih_di" bpmnElement="SequenceFlow_0f1c4ih"><di:waypoint x="11370" y="779" /><di:waypoint x="11401" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1me1tl5_di" bpmnElement="SequenceFlow_1me1tl5"><di:waypoint x="11100" y="779" /><di:waypoint x="11130" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0on2akm_di" bpmnElement="SequenceFlow_0on2akm"><di:waypoint x="11130" y="639" /><di:waypoint x="11100" y="639" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0613icj_di" bpmnElement="SequenceFlow_0613icj"><di:waypoint x="10734" y="779" /><di:waypoint x="10782" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0n3mon5_di" bpmnElement="SequenceFlow_0n3mon5"><di:waypoint x="10568" y="779" /><di:waypoint x="10634" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1jljfyz_di" bpmnElement="SequenceFlow_1jljfyz"><di:waypoint x="10276" y="779" /><di:waypoint x="10328" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1a4zbz6_di" bpmnElement="SequenceFlow_1a4zbz6"><di:waypoint x="9996" y="779" /><di:waypoint x="10036" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gw4j8s_di" bpmnElement="SequenceFlow_0gw4j8s"><di:waypoint x="13284" y="779" /><di:waypoint x="13334" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0nhg2ij_di" bpmnElement="SequenceFlow_0nhg2ij"><di:waypoint x="13144" y="779" /><di:waypoint x="13184" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1f7y0am_di" bpmnElement="SequenceFlow_1f7y0am"><di:waypoint x="13802" y="779" /><di:waypoint x="13880" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_11qk5dj_di" bpmnElement="SequenceFlow_11qk5dj"><di:waypoint x="14320" y="779" /><di:waypoint x="14370" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1szcady_di" bpmnElement="SequenceFlow_1szcady"><di:waypoint x="15154" y="779" /><di:waypoint x="15196" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1rwf2e0_di" bpmnElement="SequenceFlow_1rwf2e0"><di:waypoint x="8224" y="1179" /><di:waypoint x="8249" y="1179" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_00m2sam_di" bpmnElement="SequenceFlow_00m2sam"><di:waypoint x="8129" y="1269" /><di:waypoint x="8199" y="1269" /><di:waypoint x="8199" y="1204" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0t02au9_di" bpmnElement="SequenceFlow_0t02au9"><di:waypoint x="8129" y="1119" /><di:waypoint x="8199" y="1119" /><di:waypoint x="8199" y="1154" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1k5xo6p_di" bpmnElement="SequenceFlow_1k5xo6p"><di:waypoint x="7969" y="1204" /><di:waypoint x="7969" y="1269" /><di:waypoint x="8029" y="1269" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12xh0fm_di" bpmnElement="SequenceFlow_12xh0fm"><di:waypoint x="7969" y="1154" /><di:waypoint x="7969" y="1119" /><di:waypoint x="8029" y="1119" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ew1tcy_di" bpmnElement="SequenceFlow_1ew1tcy"><di:waypoint x="9681" y="779" /><di:waypoint x="9733" y="779" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0bhzk29_di" bpmnElement="SequenceFlow_0bhzk29"><di:waypoint x="9576" y="719" /><di:waypoint x="9656" y="719" /><di:waypoint x="9656" y="754" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_084utvc_di" bpmnElement="SequenceFlow_084utvc"><di:waypoint x="9406" y="754" /><di:waypoint x="9406" y="719" /><di:waypoint x="9476" y="719" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0lf8n3d_di" bpmnElement="SequenceFlow_0lf8n3d"><di:waypoint x="9576" y="869" /><di:waypoint x="9656" y="869" /><di:waypoint x="9656" y="804" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0o6utfn_di" bpmnElement="SequenceFlow_0o6utfn"><di:waypoint x="9406" y="804" /><di:waypoint x="9406" y="869" /><di:waypoint x="9476" y="869" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ecfp30_di" bpmnElement="SequenceFlow_0ecfp30"><di:waypoint x="7664" y="1822" /><di:waypoint x="7706" y="1822" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1b3mxhk_di" bpmnElement="SequenceFlow_1b3mxhk"><di:waypoint x="8960" y="1620" /><di:waypoint x="8960" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0pox39p_di" bpmnElement="SequenceFlow_0pox39p"><di:waypoint x="9900" y="1780" /><di:waypoint x="9950" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1gocvi6_di" bpmnElement="SequenceFlow_1gocvi6"><di:waypoint x="10100" y="1930" /><di:waypoint x="10140" y="1930" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0nbc4i6_di" bpmnElement="SequenceFlow_0nbc4i6"><di:waypoint x="9720" y="1905" /><di:waypoint x="9720" y="1780" /><di:waypoint x="9800" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0kxondf_di" bpmnElement="SequenceFlow_0kxondf"><di:waypoint x="9745" y="1930" /><di:waypoint x="10000" y="1930" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1wfbkyt_di" bpmnElement="SequenceFlow_1wfbkyt"><di:waypoint x="9500" y="1930" /><di:waypoint x="9695" y="1930" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0q9coro_di" bpmnElement="SequenceFlow_0q9coro"><di:waypoint x="9390" y="1800" /><di:waypoint x="9330" y="1800" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lvi3l8_di" bpmnElement="SequenceFlow_1lvi3l8"><di:waypoint x="9010" y="1920" /><di:waypoint x="9090" y="1920" /><di:waypoint x="9090" y="1702" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1euy9xl_di" bpmnElement="SequenceFlow_1euy9xl"><di:waypoint x="8960" y="1840" /><di:waypoint x="8960" y="1880" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ble6ab_di" bpmnElement="SequenceFlow_1ble6ab"><di:waypoint x="8960" y="1730" /><di:waypoint x="8960" y="1760" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0h3vdxs_di" bpmnElement="SequenceFlow_0h3vdxs"><di:waypoint x="8849" y="1580" /><di:waypoint x="8910" y="1580" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_10c4nq3_di" bpmnElement="SequenceFlow_10c4nq3"><di:waypoint x="11194" y="1782" /><di:waypoint x="11250" y="1782" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1v7b4o0_di" bpmnElement="SequenceFlow_1v7b4o0"><di:waypoint x="11064" y="1782" /><di:waypoint x="11094" y="1782" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_07nb2ir_di" bpmnElement="SequenceFlow_07nb2ir"><di:waypoint x="11490" y="1782" /><di:waypoint x="11505" y="1782" /><di:waypoint x="11505" y="1780" /><di:waypoint x="11520" y="1780" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1anq4c9_di" bpmnElement="SequenceFlow_1anq4c9"><di:waypoint x="8374" y="1739" /><di:waypoint x="8394" y="1739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12u2vmq_di" bpmnElement="SequenceFlow_12u2vmq"><di:waypoint x="8109" y="1739" /><di:waypoint x="8149" y="1739" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gz01hi_di" bpmnElement="SequenceFlow_0gz01hi"><di:waypoint x="8004" y="1679" /><di:waypoint x="8084" y="1679" /><di:waypoint x="8084" y="1714" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0crpdu9_di" bpmnElement="SequenceFlow_0crpdu9"><di:waypoint x="7834" y="1714" /><di:waypoint x="7834" y="1679" /><di:waypoint x="7904" y="1679" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1fk15g8_di" bpmnElement="SequenceFlow_1fk15g8"><di:waypoint x="7794" y="1782" /><di:waypoint x="7794" y="1645" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1wi9gqa_di" bpmnElement="SequenceFlow_1wi9gqa"><di:waypoint x="8004" y="1829" /><di:waypoint x="8084" y="1829" /><di:waypoint x="8084" y="1764" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1xtwzcx_di" bpmnElement="SequenceFlow_1xtwzcx"><di:waypoint x="7834" y="1764" /><di:waypoint x="7834" y="1829" /><di:waypoint x="7904" y="1829" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1yo9teu_di" bpmnElement="SequenceFlow_1yo9teu"><di:waypoint x="8809" y="2314" /><di:waypoint x="8849" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_01z0an3_di" bpmnElement="SequenceFlow_01z0an3"><di:waypoint x="9690" y="2170" /><di:waypoint x="9650" y="2170" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lg41uz_di" bpmnElement="SequenceFlow_1lg41uz"><di:waypoint x="9950" y="2310" /><di:waypoint x="10088" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_15sq5z5_di" bpmnElement="SequenceFlow_15sq5z5"><di:waypoint x="9833" y="2484" /><di:waypoint x="9893" y="2484" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0eqydvf_di" bpmnElement="SequenceFlow_0eqydvf"><di:waypoint x="9785" y="2310" /><di:waypoint x="9850" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_15g7clm_di" bpmnElement="SequenceFlow_15g7clm"><di:waypoint x="9760" y="2335" /><di:waypoint x="9760" y="2390" /><di:waypoint x="9783" y="2390" /><di:waypoint x="9783" y="2444" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0r7a1d3_di" bpmnElement="SequenceFlow_0r7a1d3"><di:waypoint x="9189" y="2354" /><di:waypoint x="9189" y="2480" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ia4s3o_di" bpmnElement="SequenceFlow_0ia4s3o"><di:waypoint x="9091" y="2314" /><di:waypoint x="9139" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1hmqx4f_di" bpmnElement="SequenceFlow_1hmqx4f"><di:waypoint x="8949" y="2314" /><di:waypoint x="8991" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_075tjcm_di" bpmnElement="SequenceFlow_075tjcm"><di:waypoint x="8669" y="2314" /><di:waypoint x="8709" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16mp7hp_di" bpmnElement="SequenceFlow_16mp7hp"><di:waypoint x="10188" y="2310" /><di:waypoint x="10280" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1e6z4nj_di" bpmnElement="SequenceFlow_1e6z4nj"><di:waypoint x="10710" y="2310" /><di:waypoint x="10770" y="2310" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1q6tqg6_di" bpmnElement="SequenceFlow_1q6tqg6"><di:waypoint x="8294" y="2314" /><di:waypoint x="8314" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0xdvyzk_di" bpmnElement="SequenceFlow_0xdvyzk"><di:waypoint x="8031" y="2314" /><di:waypoint x="8064" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dsk1ce_di" bpmnElement="SequenceFlow_1dsk1ce"><di:waypoint x="7926" y="2254" /><di:waypoint x="8006" y="2254" /><di:waypoint x="8006" y="2289" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12t1c7z_di" bpmnElement="SequenceFlow_12t1c7z"><di:waypoint x="7756" y="2289" /><di:waypoint x="7756" y="2254" /><di:waypoint x="7826" y="2254" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0xux1qs_di" bpmnElement="SequenceFlow_0xux1qs"><di:waypoint x="7926" y="2404" /><di:waypoint x="8006" y="2404" /><di:waypoint x="8006" y="2339" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0m6hg77_di" bpmnElement="SequenceFlow_0m6hg77"><di:waypoint x="7756" y="2339" /><di:waypoint x="7756" y="2404" /><di:waypoint x="7826" y="2404" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1r4of02_di" bpmnElement="SequenceFlow_1r4of02"><di:waypoint x="7656" y="2314" /><di:waypoint x="7731" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0wcqrj7_di" bpmnElement="SequenceFlow_0wcqrj7"><di:waypoint x="7475" y="1620" /><di:waypoint x="7589" y="1620" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0145g3v_di" bpmnElement="SequenceFlow_0145g3v"><di:waypoint x="7450" y="1645" /><di:waypoint x="7450" y="2314" /><di:waypoint x="7556" y="2314" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0zrrfiv_di" bpmnElement="SequenceFlow_0zrrfiv"><di:waypoint x="7450" y="1595" /><di:waypoint x="7450" y="1050" /><di:waypoint x="7589" y="1050" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ma8nj6_di" bpmnElement="SequenceFlow_1ma8nj6"><di:waypoint x="7335" y="1984" /><di:waypoint x="7377" y="1984" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1fdi6q8_di" bpmnElement="SequenceFlow_1fdi6q8"><di:waypoint x="7195" y="1984" /><di:waypoint x="7235" y="1984" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_083zwb2_di" bpmnElement="SequenceFlow_083zwb2"><di:waypoint x="6898" y="1984" /><di:waypoint x="7095" y="1984" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1xv4awo_di" bpmnElement="SequenceFlow_1xv4awo"><di:waypoint x="6203" y="1984" /><di:waypoint x="6138" y="1984" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0yunvin_di" bpmnElement="SequenceFlow_0yunvin"><di:waypoint x="6370" y="2107" /><di:waypoint x="6370" y="1984" /><di:waypoint x="6303" y="1984" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_19yw89m_di" bpmnElement="SequenceFlow_19yw89m"><di:waypoint x="6190" y="2118" /><di:waypoint x="6274" y="2118" /><di:waypoint x="6274" y="2119" /><di:waypoint x="6358" y="2119" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1pxaj5g_di" bpmnElement="SequenceFlow_1pxaj5g"><di:waypoint x="6774" y="2118" /><di:waypoint x="6789" y="2118" /><di:waypoint x="6789" y="2119" /><di:waypoint x="6803" y="2119" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_05zeb0l_di" bpmnElement="SequenceFlow_05zeb0l"><di:waypoint x="6853" y="2159" /><di:waypoint x="6853" y="2210" /><di:waypoint x="6503" y="2210" /><di:waypoint x="6503" y="2374" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0zpygnk_di" bpmnElement="SequenceFlow_0zpygnk"><di:waypoint x="6383" y="2144" /><di:waypoint x="6383" y="2414" /><di:waypoint x="6453" y="2414" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1bw266j_di" bpmnElement="SequenceFlow_1bw266j"><di:waypoint x="6407" y="2118" /><di:waypoint x="6554" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ohkfz6_di" bpmnElement="SequenceFlow_0ohkfz6"><di:waypoint x="6853" y="2079" /><di:waypoint x="6853" y="2050" /><di:waypoint x="6451" y="2050" /><di:waypoint x="6451" y="2024" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1me9t0c_di" bpmnElement="SequenceFlow_1me9t0c"><di:waypoint x="6383" y="2094" /><di:waypoint x="6383" y="1984" /><di:waypoint x="6400" y="1984" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1oy1xlo_di" bpmnElement="SequenceFlow_1oy1xlo"><di:waypoint x="6903" y="2414" /><di:waypoint x="6985" y="2414" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dweejk_di" bpmnElement="SequenceFlow_1dweejk"><di:waypoint x="6693" y="2414" /><di:waypoint x="6803" y="2414" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_14mk1e9_di" bpmnElement="SequenceFlow_14mk1e9"><di:waypoint x="6873" y="1959" /><di:waypoint x="6873" y="1907" /><di:waypoint x="6780" y="1907" /><di:waypoint x="6780" y="1824" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dvx40l_di" bpmnElement="SequenceFlow_1dvx40l"><di:waypoint x="5210" y="2239" /><di:waypoint x="5262" y="2239" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1sh08hk_di" bpmnElement="SequenceFlow_1sh08hk"><di:waypoint x="4418" y="2143" /><di:waypoint x="4600" y="2232" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_01kl7ou_di" bpmnElement="SequenceFlow_01kl7ou"><di:waypoint x="4418" y="2117" /><di:waypoint x="4509" y="2117" /><di:waypoint x="4509" y="2096" /><di:waypoint x="4553" y="2096" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0pboxmt_di" bpmnElement="SequenceFlow_0pboxmt"><di:waypoint x="1843" y="2118" /><di:waypoint x="1871" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16fv996_di" bpmnElement="SequenceFlow_16fv996"><di:waypoint x="1723" y="2121" /><di:waypoint x="1732" y="2121" /><di:waypoint x="1732" y="2118" /><di:waypoint x="1743" y="2118" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1yjd8y7_di" bpmnElement="SequenceFlow_1yjd8y7"><di:waypoint x="1440" y="2119" /><di:waypoint x="1482" y="2119" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="StartEvent_14dtves_di" bpmnElement="StartEvent_14dtves"><dc:Bounds x="22" y="2103" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_11m7xz0_di" bpmnElement="UserTask_11m7xz0" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1340" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_12ayrt8_di" bpmnElement="ServiceTask_12ayrt8"><dc:Bounds x="1623" y="2081" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_01yrzv3_di" bpmnElement="ServiceTask_01yrzv3"><dc:Bounds x="1871" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_0wgi5ca_di" bpmnElement="UserTask_0wgi5ca" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="4178" y="2077" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0vs4mgz_di" bpmnElement="ServiceTask_0vs4mgz"><dc:Bounds x="7200" y="1593" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_117k744_di" bpmnElement="UserTask_117k744" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="4318" y="2077" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1uogrbh_di" bpmnElement="ServiceTask_1uogrbh"><dc:Bounds x="4553" y="2056" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_14hu0g3_di" bpmnElement="ServiceTask_14hu0g3"><dc:Bounds x="4940" y="2199" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_074jhwz_di" bpmnElement="ServiceTask_074jhwz"><dc:Bounds x="5110" y="2199" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_161vsbt_di" bpmnElement="EndEvent_161vsbt"><dc:Bounds x="5262" y="2221" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ygfsqx_di" bpmnElement="ServiceTask_0ygfsqx"><dc:Bounds x="6803" y="2374" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0i660yu_di" bpmnElement="EndEvent_0i660yu"><dc:Bounds x="6985" y="2396" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1lac7t3_di" bpmnElement="ServiceTask_1lac7t3"><dc:Bounds x="6593" y="2374" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_04bmx6l_di" bpmnElement="UserTask_04bmx6l" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="6803" y="2079" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1rxokr1_di" bpmnElement="ExclusiveGateway_1rxokr1" isMarkerVisible="true"><dc:Bounds x="6358" y="2094" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0bi13eo_di" bpmnElement="ServiceTask_0bi13eo"><dc:Bounds x="6400" y="1944" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_08eqqi5_di" bpmnElement="ExclusiveGateway_08eqqi5" isMarkerVisible="true"><dc:Bounds x="6848" y="1959" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1kre3sb_di" bpmnElement="ServiceTask_1kre3sb"><dc:Bounds x="7095" y="1944" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_050irwm_di" bpmnElement="EndEvent_050irwm"><dc:Bounds x="7377" y="1966" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0g0ofoe_di" bpmnElement="ServiceTask_0g0ofoe"><dc:Bounds x="7235" y="1944" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1gl5wnd_di" bpmnElement="ServiceTask_1gl5wnd"><dc:Bounds x="6674" y="2079" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_14k1k3t_di" bpmnElement="ServiceTask_14k1k3t"><dc:Bounds x="6203" y="1944" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_184cgtg_di" bpmnElement="ServiceTask_184cgtg"><dc:Bounds x="6090" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ked2y5_di" bpmnElement="ServiceTask_0ked2y5"><dc:Bounds x="2900" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1klcp5i_di" bpmnElement="ScriptTask_1klcp5i"><dc:Bounds x="1743" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1uieydq_di" bpmnElement="ExclusiveGateway_1uieydq" isMarkerVisible="true"><dc:Bounds x="7425" y="1595" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_004nzs6_di" bpmnElement="ServiceTask_004nzs6"><dc:Bounds x="7564" y="1190" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_085b0gy_di" bpmnElement="ServiceTask_085b0gy"><dc:Bounds x="7556" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1c4qifq_di" bpmnElement="ServiceTask_1c4qifq"><dc:Bounds x="7826" y="2364" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_16llh36_di" bpmnElement="ParallelGateway_16llh36"><dc:Bounds x="7731" y="2289" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_0xkgtxr_di" bpmnElement="ReceiveTask_0xkgtxr"><dc:Bounds x="7826" y="2214" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1s8xjxz_di" bpmnElement="ParallelGateway_1s8xjxz"><dc:Bounds x="7981" y="2289" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0h5utps_di" bpmnElement="CallActivity_0h5utps"><dc:Bounds x="8194" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1fb2ted_di" bpmnElement="ServiceTask_1fb2ted"><dc:Bounds x="10770" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_18v2xnd_di" bpmnElement="ServiceTask_18v2xnd"><dc:Bounds x="10280" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0m5gwfy_di" bpmnElement="ServiceTask_0m5gwfy"><dc:Bounds x="10610" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0kpsn3g_di" bpmnElement="CallActivity_0kpsn3g"><dc:Bounds x="8569" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1d7dby5_di" bpmnElement="ServiceTask_1d7dby5"><dc:Bounds x="8991" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_00zwumc_di" bpmnElement="ServiceTask_00zwumc"><dc:Bounds x="9139" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_1srnezc_di" bpmnElement="ReceiveTask_1srnezc"><dc:Bounds x="9400" y="2130" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0eh4p30_di" bpmnElement="ServiceTask_0eh4p30"><dc:Bounds x="9562" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_19gnltg_di" bpmnElement="ServiceTask_19gnltg"><dc:Bounds x="9400" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1p00qtu_di" bpmnElement="ServiceTask_1p00qtu"><dc:Bounds x="10088" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_12ajhck_di" bpmnElement="ExclusiveGateway_12ajhck" isMarkerVisible="true"><dc:Bounds x="9735" y="2285" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1rvxa1p_di" bpmnElement="ServiceTask_1rvxa1p"><dc:Bounds x="9733" y="2444" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_19cuu35_di" bpmnElement="ServiceTask_19cuu35"><dc:Bounds x="9690" y="2130" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1wyo77f_di" bpmnElement="ServiceTask_1wyo77f"><dc:Bounds x="9550" y="2130" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_05rbxmf_di" bpmnElement="ServiceTask_05rbxmf"><dc:Bounds x="9893" y="2444" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_13wszbj_di" bpmnElement="ServiceTask_13wszbj"><dc:Bounds x="9850" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0p3bry0_di" bpmnElement="ServiceTask_0p3bry0"><dc:Bounds x="8709" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1vr11n8_di" bpmnElement="ServiceTask_1vr11n8"><dc:Bounds x="8849" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_02xtlas_di" bpmnElement="ServiceTask_02xtlas"><dc:Bounds x="7904" y="1789" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1512xxj_di" bpmnElement="ParallelGateway_1512xxj"><dc:Bounds x="7809" y="1714" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_1j8z9q7_di" bpmnElement="ReceiveTask_1j8z9q7"><dc:Bounds x="7904" y="1639" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1dv8o3m_di" bpmnElement="ParallelGateway_1dv8o3m"><dc:Bounds x="8059" y="1714" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0lxrxz4_di" bpmnElement="CallActivity_0lxrxz4"><dc:Bounds x="8274" y="1699" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0f4n0v3_di" bpmnElement="ServiceTask_0f4n0v3"><dc:Bounds x="11094" y="1742" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1q0yvbu_di" bpmnElement="ServiceTask_1q0yvbu"><dc:Bounds x="11390" y="1742" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1ofyrht_di" bpmnElement="CallActivity_1ofyrht"><dc:Bounds x="8749" y="1540" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1a1m736_di" bpmnElement="ServiceTask_1a1m736"><dc:Bounds x="8910" y="1760" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1chtkbf_di" bpmnElement="ServiceTask_1chtkbf"><dc:Bounds x="8910" y="1880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_1rad4b4_di" bpmnElement="ReceiveTask_1rad4b4"><dc:Bounds x="9230" y="1760" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0hax1ps_di" bpmnElement="ServiceTask_0hax1ps"><dc:Bounds x="9400" y="1890" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1122zoj_di" bpmnElement="ServiceTask_1122zoj"><dc:Bounds x="10964" y="1742" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0uf7mox_di" bpmnElement="ExclusiveGateway_0uf7mox" isMarkerVisible="true"><dc:Bounds x="9695" y="1905" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1w2x7sm_di" bpmnElement="ServiceTask_1w2x7sm"><dc:Bounds x="10000" y="1890" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_06xlb0q_di" bpmnElement="CallActivity_06xlb0q"><dc:Bounds x="9950" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_09zh963_di" bpmnElement="ServiceTask_09zh963"><dc:Bounds x="9550" y="1760" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1yahd04_di" bpmnElement="ServiceTask_1yahd04"><dc:Bounds x="9390" y="1760" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1c5ry26_di" bpmnElement="ServiceTask_1c5ry26"><dc:Bounds x="10140" y="1890" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1rro56h_di" bpmnElement="ServiceTask_1rro56h"><dc:Bounds x="9800" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1gj21n7_di" bpmnElement="ServiceTask_1gj21n7"><dc:Bounds x="8910" y="1540" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_05t0vxy_di" bpmnElement="ServiceTask_05t0vxy"><dc:Bounds x="8910" y="1650" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1vw0moj_di" bpmnElement="ServiceTask_1vw0moj"><dc:Bounds x="7706" y="1782" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1jzfekn_di" bpmnElement="ServiceTask_1jzfekn"><dc:Bounds x="7564" y="1782" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1cmovem_di" bpmnElement="ServiceTask_1cmovem"><dc:Bounds x="9476" y="829" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_0jfz99u_di" bpmnElement="ParallelGateway_0jfz99u"><dc:Bounds x="9381" y="754" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_1cpmpxg_di" bpmnElement="ReceiveTask_1cpmpxg"><dc:Bounds x="9476" y="679" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1nvbu6g_di" bpmnElement="ParallelGateway_1nvbu6g"><dc:Bounds x="9631" y="754" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_0oyk5nm_di" bpmnElement="ParallelGateway_0oyk5nm"><dc:Bounds x="7944" y="1154" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_0gse7xv_di" bpmnElement="ReceiveTask_0gse7xv"><dc:Bounds x="8029" y="1079" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1eeffn0_di" bpmnElement="ParallelGateway_1eeffn0"><dc:Bounds x="8174" y="1154" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0l2vuj6_di" bpmnElement="ServiceTask_0l2vuj6"><dc:Bounds x="8029" y="1229" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_019nw18_di" bpmnElement="ServiceTask_019nw18"><dc:Bounds x="15054" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0ixw5tm_di" bpmnElement="EndEvent_0ixw5tm"><dc:Bounds x="15196" y="761" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1wfx7o0_di" bpmnElement="ServiceTask_1wfx7o0"><dc:Bounds x="14220" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_18ylp9u_di" bpmnElement="ServiceTask_18ylp9u"><dc:Bounds x="13184" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1s1bzfn_di" bpmnElement="ServiceTask_1s1bzfn"><dc:Bounds x="13334" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1dcmes7_di" bpmnElement="ServiceTask_1dcmes7"><dc:Bounds x="13702" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1swedsz_di" bpmnElement="CallActivity_1swedsz"><dc:Bounds x="10176" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1m8pcee_di" bpmnElement="ServiceTask_1m8pcee"><dc:Bounds x="10634" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ayl810_di" bpmnElement="ServiceTask_0ayl810"><dc:Bounds x="10782" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_0v67pgx_di" bpmnElement="ReceiveTask_0v67pgx"><dc:Bounds x="11000" y="599" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1fk5klx_di" bpmnElement="ServiceTask_1fk5klx"><dc:Bounds x="11270" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0sv0mmc_di" bpmnElement="ServiceTask_0sv0mmc"><dc:Bounds x="11000" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ds9z6z_di" bpmnElement="ServiceTask_0ds9z6z"><dc:Bounds x="12914" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1qems6q_di" bpmnElement="ServiceTask_1qems6q"><dc:Bounds x="13044" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0ck756x_di" bpmnElement="ExclusiveGateway_0ck756x" isMarkerVisible="true"><dc:Bounds x="11401" y="754" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0m4ermj_di" bpmnElement="ServiceTask_0m4ermj"><dc:Bounds x="11376" y="909" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1xb48l8_di" bpmnElement="CallActivity_1xb48l8"><dc:Bounds x="11946" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1rqzokw_di" bpmnElement="ServiceTask_1rqzokw"><dc:Bounds x="11270" y="599" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0xlneud_di" bpmnElement="ServiceTask_0xlneud"><dc:Bounds x="11130" y="599" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1oi76m6_di" bpmnElement="ServiceTask_1oi76m6"><dc:Bounds x="11504" y="909" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0gchh1h_di" bpmnElement="ServiceTask_0gchh1h"><dc:Bounds x="11624" y="909" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0b85v1t_di" bpmnElement="ScriptTask_0b85v1t"><dc:Bounds x="11586" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0tbl0a7_di" bpmnElement="ScriptTask_0tbl0a7"><dc:Bounds x="11716" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1lggtwh_di" bpmnElement="ExclusiveGateway_1lggtwh" isMarkerVisible="true"><dc:Bounds x="11841" y="754" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0o6sv5l_di" bpmnElement="ServiceTask_0o6sv5l"><dc:Bounds x="11816" y="559" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0eau1ge_di" bpmnElement="CallActivity_0eau1ge"><dc:Bounds x="9896" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1no4c6z_di" bpmnElement="CallActivity_1no4c6z"><dc:Bounds x="8374" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0wwx1zt_di" bpmnElement="ServiceTask_0wwx1zt"><dc:Bounds x="8494" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1gz8lt5_di" bpmnElement="ExclusiveGateway_1gz8lt5" isMarkerVisible="true"><dc:Bounds x="8774" y="1154" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1val6ib_di" bpmnElement="ServiceTask_1val6ib"><dc:Bounds x="8939" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0xiq461_di" bpmnElement="ServiceTask_0xiq461"><dc:Bounds x="9099" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1geaeyf_di" bpmnElement="ServiceTask_1geaeyf"><dc:Bounds x="10088" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0fhix8e_di" bpmnElement="EndEvent_0fhix8e"><dc:Bounds x="10296" y="1161" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_08f7xkg_di" bpmnElement="ServiceTask_08f7xkg"><dc:Bounds x="9912" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0q9g2w4_di" bpmnElement="ServiceTask_0q9g2w4"><dc:Bounds x="9279" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0qqqeeg_di" bpmnElement="ServiceTask_0qqqeeg"><dc:Bounds x="9732" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_13j2pw0_di" bpmnElement="ServiceTask_13j2pw0"><dc:Bounds x="9562" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1iqn2r0_di" bpmnElement="ServiceTask_1iqn2r0"><dc:Bounds x="8946" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0agjzp1_di" bpmnElement="ServiceTask_0agjzp1"><dc:Bounds x="9106" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1oq71o7_di" bpmnElement="ServiceTask_1oq71o7"><dc:Bounds x="14370" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_13rdxrn_di" bpmnElement="ServiceTask_13rdxrn"><dc:Bounds x="11466" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_02qt3oo_di" bpmnElement="ServiceTask_02qt3oo"><dc:Bounds x="10328" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0h1ma5z_di" bpmnElement="ServiceTask_0h1ma5z"><dc:Bounds x="10468" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1b90zkk_di" bpmnElement="ServiceTask_1b90zkk"><dc:Bounds x="2133" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0nhzqp5_di" bpmnElement="ServiceTask_0nhzqp5"><dc:Bounds x="9234" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_07qbk09_di" bpmnElement="ServiceTask_07qbk09"><dc:Bounds x="8514" y="1699" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1n448wl_di" bpmnElement="ServiceTask_1n448wl"><dc:Bounds x="8444" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1gln2m5_di" bpmnElement="ServiceTask_1gln2m5"><dc:Bounds x="8624" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_04gjtjo_di" bpmnElement="ServiceTask_04gjtjo"><dc:Bounds x="3795" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1wgjfp7_di" bpmnElement="ScriptTask_1wgjfp7"><dc:Bounds x="3027" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_141ex9d_di" bpmnElement="ServiceTask_141ex9d"><dc:Bounds x="6554" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1czn4pj_di" bpmnElement="ServiceTask_1czn4pj"><dc:Bounds x="6453" y="2374" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_02rqx87_di" bpmnElement="ServiceTask_02rqx87"><dc:Bounds x="4780" y="2052" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_180sflj_di" bpmnElement="ServiceTask_180sflj"><dc:Bounds x="7700" y="1190" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_112lc2m_di" bpmnElement="ServiceTask_112lc2m"><dc:Bounds x="3282" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0i0nx5m_di" bpmnElement="ServiceTask_0i0nx5m"><dc:Bounds x="3153" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0z6dsh7_di" bpmnElement="ServiceTask_0z6dsh7"><dc:Bounds x="3422" y="2077" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_015pl0j_di" bpmnElement="ServiceTask_015pl0j"><dc:Bounds x="3925" y="2077" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1gnm4e5_di" bpmnElement="ServiceTask_1gnm4e5"><dc:Bounds x="3925" y="1975" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0dqo37u_di" bpmnElement="ServiceTask_0dqo37u"><dc:Bounds x="3925" y="1865" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0q0wst2_di" bpmnElement="ExclusiveGateway_0q0wst2" isMarkerVisible="true"><dc:Bounds x="12502" y="754" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1mvnvow_di" bpmnElement="ExclusiveGateway_1mvnvow" isMarkerVisible="true"><dc:Bounds x="10568" y="1755" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0db6km4_di" bpmnElement="ScriptTask_0db6km4"><dc:Bounds x="10080" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0h1p3cx_di" bpmnElement="ServiceTask_0h1p3cx"><dc:Bounds x="4398" y="1078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1yyuulq_di" bpmnElement="ServiceTask_1yyuulq"><dc:Bounds x="4398" y="1340" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0x6k7s0_di" bpmnElement="ServiceTask_0x6k7s0"><dc:Bounds x="4398" y="1453" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1q5z8z4_di" bpmnElement="ServiceTask_1q5z8z4"><dc:Bounds x="7060" y="1699" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1tkqtge_di" bpmnElement="ServiceTask_1tkqtge"><dc:Bounds x="6710" y="1960" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ffizk3_di" bpmnElement="ServiceTask_1ffizk3"><dc:Bounds x="4910" y="2052" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1f5p7kp_di" bpmnElement="ServiceTask_1f5p7kp"><dc:Bounds x="2657" y="2080" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0qn4k11_di" bpmnElement="CallActivity_0qn4k11" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="4318" y="1865" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1762oba_di" bpmnElement="CallActivity_1762oba"><dc:Bounds x="13514" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1fmpyhv_di" bpmnElement="ServiceTask_1fmpyhv"><dc:Bounds x="4178" y="1681" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1iopm0p_di" bpmnElement="ScriptTask_1iopm0p"><dc:Bounds x="4178" y="1579" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_01x0ifj_di" bpmnElement="ServiceTask_01x0ifj"><dc:Bounds x="4178" y="1472" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1cxy58v_di" bpmnElement="ExclusiveGateway_1cxy58v" isMarkerVisible="true"><dc:Bounds x="4203" y="1396" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_0lyjj5s_di" bpmnElement="CallActivity_0lyjj5s" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)"><dc:Bounds x="4178" y="1868" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_01oaq8k_di" bpmnElement="ExclusiveGateway_01oaq8k" isMarkerVisible="true"><dc:Bounds x="4203" y="1797" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1nksezi_di" bpmnElement="ServiceTask_1nksezi"><dc:Bounds x="4006" y="2539" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_11t23vy_di" bpmnElement="ServiceTask_11t23vy"><dc:Bounds x="10176" y="2444" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0f0g121_di" bpmnElement="ServiceTask_0f0g121"><dc:Bounds x="10176" y="2580" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ncul00_di" bpmnElement="ServiceTask_0ncul00"><dc:Bounds x="10420" y="1890" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0jptpz3_di" bpmnElement="ServiceTask_0jptpz3"><dc:Bounds x="10420" y="2011" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1x7hblv_di" bpmnElement="ServiceTask_1x7hblv"><dc:Bounds x="11904" y="909" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0lkjzpc_di" bpmnElement="ServiceTask_0lkjzpc"><dc:Bounds x="12054" y="909" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1sww34z_di" bpmnElement="ServiceTask_1sww34z"><dc:Bounds x="12054" y="1030" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1y61cub_di" bpmnElement="ExclusiveGateway_1y61cub" isMarkerVisible="true"><dc:Bounds x="7589" y="1025" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1858d3c_di" bpmnElement="ExclusiveGateway_1858d3c" isMarkerVisible="true"><dc:Bounds x="7589" y="1595" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1fgsl8x_di" bpmnElement="ServiceTask_1fgsl8x"><dc:Bounds x="360" y="2080" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1jhjxao_di" bpmnElement="ExclusiveGateway_1jhjxao" isMarkerVisible="true"><dc:Bounds x="7859" y="1154" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1rargnb_di" bpmnElement="ExclusiveGateway_1rargnb" isMarkerVisible="true"><dc:Bounds x="7769" y="1595" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1aergck_di" bpmnElement="ScriptTask_1aergck"><dc:Bounds x="8149" y="1699" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0eei9nh_di" bpmnElement="ScriptTask_0eei9nh"><dc:Bounds x="8249" y="1139" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1pnygir_di" bpmnElement="ScriptTask_1pnygir"><dc:Bounds x="8394" y="1699" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0c9j5a9_di" bpmnElement="ScriptTask_0c9j5a9"><dc:Bounds x="9733" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1k21fbj_di" bpmnElement="ScriptTask_1k21fbj"><dc:Bounds x="10036" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0bug6t7_di" bpmnElement="ScriptTask_0bug6t7"><dc:Bounds x="8064" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0km7u6z_di" bpmnElement="ScriptTask_0km7u6z"><dc:Bounds x="8314" y="2274" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1blt2pg_di" bpmnElement="ScriptTask_1blt2pg"><dc:Bounds x="5090" y="2052" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1k17qto_di" bpmnElement="ServiceTask_1k17qto"><dc:Bounds x="4006" y="2199" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1x7zg3w_di" bpmnElement="ServiceTask_1x7zg3w"><dc:Bounds x="4398" y="1566" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_187z9ku_di" bpmnElement="ExclusiveGateway_187z9ku" isMarkerVisible="true"><dc:Bounds x="4423" y="1713" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_12x3swo_di" bpmnElement="ServiceTask_12x3swo"><dc:Bounds x="4770" y="2199" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1e9qggi_di" bpmnElement="ServiceTask_1e9qggi"><dc:Bounds x="4006" y="2299" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1pmtn18_di" bpmnElement="ServiceTask_1pmtn18"><dc:Bounds x="2400" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_19jjbem_di" bpmnElement="ServiceTask_19jjbem"><dc:Bounds x="2529" y="2080" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0th3stl_di" bpmnElement="ServiceTask_0th3stl"><dc:Bounds x="2002" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ywbkbj_di" bpmnElement="ServiceTask_1ywbkbj"><dc:Bounds x="10036" y="599" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0x7ydnt_di" bpmnElement="ServiceTask_0x7ydnt"><dc:Bounds x="8410" y="1540" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_18tews0_di" bpmnElement="ServiceTask_18tews0"><dc:Bounds x="8434" y="2170" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0fwv960_di" bpmnElement="ServiceTask_0fwv960"><dc:Bounds x="8569" y="2170" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_02ebpfw_di" bpmnElement="ServiceTask_02ebpfw"><dc:Bounds x="8560" y="1540" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0icb321_di" bpmnElement="ServiceTask_0icb321"><dc:Bounds x="10186" y="599" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_11a82u5_di" bpmnElement="ServiceTask_11a82u5"><dc:Bounds x="2261" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ad4c3q_di" bpmnElement="ServiceTask_1ad4c3q"><dc:Bounds x="3669" y="2077" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1fympif_di" bpmnElement="CallActivity_1fympif" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)"><dc:Bounds x="4178" y="1278" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1rii5fo_di" bpmnElement="ExclusiveGateway_1rii5fo" isMarkerVisible="true"><dc:Bounds x="4203" y="1195" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_1hyg9e8_di" bpmnElement="CallActivity_1hyg9e8" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)"><dc:Bounds x="4178" y="1078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_1a91217_di" bpmnElement="ExclusiveGateway_1a91217" isMarkerVisible="true"><dc:Bounds x="4203" y="981" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0fuo1pw_di" bpmnElement="ServiceTask_0fuo1pw"><dc:Bounds x="4178" y="1975" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_00r8gok_di" bpmnElement="ServiceTask_00r8gok"><dc:Bounds x="3546" y="2077" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1h0za71_di" bpmnElement="ServiceTask_1h0za71"><dc:Bounds x="4318" y="1975" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1wns2ze_di" bpmnElement="ServiceTask_1wns2ze"><dc:Bounds x="1200" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0zwq4zh_di" bpmnElement="ServiceTask_0zwq4zh"><dc:Bounds x="1482" y="2079" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="IntermediateCatchEvent_15qd5v5_di" bpmnElement="IntermediateCatchEvent_15qd5v5"><dc:Bounds x="6102" y="1966" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0jszgbp_di" bpmnElement="ServiceTask_0jszgbp"><dc:Bounds x="4049" y="2077" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1e5o08p_di" bpmnElement="ScriptTask_1e5o08p"><dc:Bounds x="4006" y="2419" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_1bf2a5u_di" bpmnElement="ScriptTask_1bf2a5u"><dc:Bounds x="4600" y="2199" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1euc52x_di" bpmnElement="ServiceTask_1euc52x"><dc:Bounds x="230" y="2080" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1qj3i5x_di" bpmnElement="Activity_1qj3i5x" isExpanded="true"><dc:Bounds x="5330" y="1640" width="810" height="280" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_01q7ety_di" bpmnElement="Flow_01q7ety"><di:waypoint x="5450" y="1815" /><di:waypoint x="5450" y="1860" /><di:waypoint x="5560" y="1860" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ihes21_di" bpmnElement="Flow_1ihes21"><di:waypoint x="5660" y="1860" /><di:waypoint x="5690" y="1860" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0yr5ki0_di" bpmnElement="Flow_0yr5ki0"><di:waypoint x="5406" y="1790" /><di:waypoint x="5425" y="1790" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_080xwdy_di" bpmnElement="Flow_080xwdy"><di:waypoint x="5610" y="1700" /><di:waypoint x="5632" y="1700" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_19k4ohb_di" bpmnElement="Flow_19k4ohb"><di:waypoint x="5668" y="1700" /><di:waypoint x="5690" y="1700" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ocoxrm_di" bpmnElement="Flow_1ocoxrm"><di:waypoint x="5450" y="1765" /><di:waypoint x="5450" y="1700" /><di:waypoint x="5510" y="1700" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_04a793e_di" bpmnElement="Flow_04a793e"><di:waypoint x="5790" y="1700" /><di:waypoint x="5812" y="1700" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0e8oion_di" bpmnElement="Flow_0e8oion"><di:waypoint x="5790" y="1860" /><di:waypoint x="5822" y="1860" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1frcc18_di" bpmnElement="Flow_1frcc18"><di:waypoint x="6000" y="1860" /><di:waypoint x="6042" y="1860" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0l53x4f_di" bpmnElement="Flow_0l53x4f"><di:waypoint x="5858" y="1860" /><di:waypoint x="5900" y="1860" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Activity_0245618_di" bpmnElement="Activity_0245618"><dc:Bounds x="5510" y="1660" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0lz7zge_di" bpmnElement="Activity_0lz7zge"><dc:Bounds x="5690" y="1660" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1hmrkms_di" bpmnElement="Event_1hmrkms"><dc:Bounds x="5632" y="1682" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1twe6o1_di" bpmnElement="Activity_1twe6o1"><dc:Bounds x="5690" y="1820" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_16nwdhz_di" bpmnElement="Event_16nwdhz"><dc:Bounds x="5812" y="1682" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_06t2wxr_di" bpmnElement="Event_06t2wxr"><dc:Bounds x="5822" y="1842" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_11edrtq_di" bpmnElement="Event_11edrtq"><dc:Bounds x="6042" y="1842" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_11ogtto_di" bpmnElement="Activity_11ogtto"><dc:Bounds x="5900" y="1820" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_157v3hk_di" bpmnElement="Gateway_157v3hk"><dc:Bounds x="5425" y="1765" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_116s3r7_di" bpmnElement="Event_116s3r7"><dc:Bounds x="5370" y="1772" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1r4g9i6_di" bpmnElement="Activity_1r4g9i6"><dc:Bounds x="5560" y="1820" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_19kt2yc_di" bpmnElement="Activity_19kt2yc"><dc:Bounds x="5270" y="2052" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1rv8yds_di" bpmnElement="Gateway_1rv8yds" isMarkerVisible="true"><dc:Bounds x="5995" y="2095" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0e6kg4e_di" bpmnElement="Activity_0e6kg4e"><dc:Bounds x="6130" y="2240" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1a7xvzx_di" bpmnElement="Activity_1a7xvzx" isExpanded="true"><dc:Bounds x="6458" y="1593" width="370" height="231" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_17zls98_di" bpmnElement="Flow_17zls98"><di:waypoint x="6616" y="1773" /><di:waypoint x="6648" y="1773" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0vuvn0r_di" bpmnElement="Flow_0vuvn0r"><di:waypoint x="6748" y="1773" /><di:waypoint x="6770" y="1773" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0monwk5_di" bpmnElement="Flow_0monwk5"><di:waypoint x="6748" y="1653" /><di:waypoint x="6770" y="1653" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0f01ms6_di" bpmnElement="Flow_0f01ms6"><di:waypoint x="6616" y="1653" /><di:waypoint x="6648" y="1653" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1902h4h_di" bpmnElement="Flow_1902h4h"><di:waypoint x="6558" y="1678" /><di:waypoint x="6558" y="1653" /><di:waypoint x="6580" y="1653" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0fjnms9_di" bpmnElement="Flow_0fjnms9"><di:waypoint x="6558" y="1728" /><di:waypoint x="6558" y="1773" /><di:waypoint x="6580" y="1773" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1xwp0w2_di" bpmnElement="Flow_1xwp0w2"><di:waypoint x="6519" y="1703" /><di:waypoint x="6533" y="1703" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Event_0wmp6t5_di" bpmnElement="Event_0wmp6t5"><dc:Bounds x="6483" y="1685" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_08u0fob_di" bpmnElement="Event_08u0fob"><dc:Bounds x="6580" y="1635" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1fek8qj_di" bpmnElement="Event_1fek8qj"><dc:Bounds x="6770" y="1635" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0b45xkf_di" bpmnElement="Event_0b45xkf"><dc:Bounds x="6770" y="1755" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1kvhgg1_di" bpmnElement="Activity_1kvhgg1"><dc:Bounds x="6648" y="1613" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_05ztcwa_di" bpmnElement="Activity_05ztcwa"><dc:Bounds x="6648" y="1723" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1h5oqom_di" bpmnElement="Gateway_1h5oqom"><dc:Bounds x="6533" y="1678" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1r39h59_di" bpmnElement="Event_1r39h59"><dc:Bounds x="6580" y="1755" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1f3aqwv_di" bpmnElement="Gateway_1f3aqwv" isMarkerVisible="true"><dc:Bounds x="6855" y="1714" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1d5wpnz_di" bpmnElement="Activity_1d5wpnz"><dc:Bounds x="6830" y="1472" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0qqnbt0_di" bpmnElement="Activity_0qqnbt0" isExpanded="true"><dc:Bounds x="9040" y="860" width="338" height="231" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_1u3dcut_di" bpmnElement="Flow_1u3dcut"><di:waypoint x="9168" y="1040" /><di:waypoint x="9189" y="1040" /><di:waypoint x="9189" y="1030" /><di:waypoint x="9210" y="1030" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_01wl793_di" bpmnElement="Flow_01wl793"><di:waypoint x="9310" y="1040" /><di:waypoint x="9322" y="1040" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0yxsawy_di" bpmnElement="Flow_0yxsawy"><di:waypoint x="9310" y="920" /><di:waypoint x="9322" y="920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_17zkrfg_di" bpmnElement="Flow_17zkrfg"><di:waypoint x="9198" y="920" /><di:waypoint x="9210" y="920" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_13hnz1u_di" bpmnElement="Flow_13hnz1u"><di:waypoint x="9150" y="945" /><di:waypoint x="9150" y="942" /><di:waypoint x="9180" y="942" /><di:waypoint x="9180" y="938" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_05nvy9h_di" bpmnElement="Flow_05nvy9h"><di:waypoint x="9150" y="995" /><di:waypoint x="9150" y="1022" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_19q5b39_di" bpmnElement="Flow_19q5b39"><di:waypoint x="9101" y="970" /><di:waypoint x="9125" y="970" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Event_0umku0t_di" bpmnElement="Event_0umku0t"><dc:Bounds x="9065" y="952" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0kdsaxx_di" bpmnElement="Event_0kdsaxx"><dc:Bounds x="9162" y="902" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_10mpq9m_di" bpmnElement="Event_10mpq9m"><dc:Bounds x="9322" y="902" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_08gwi8d_di" bpmnElement="Event_08gwi8d"><dc:Bounds x="9322" y="1022" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_056lk9t_di" bpmnElement="Activity_056lk9t"><dc:Bounds x="9210" y="880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0rauxyh_di" bpmnElement="Activity_0rauxyh"><dc:Bounds x="9210" y="990" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0wq95hy_di" bpmnElement="Gateway_0wq95hy"><dc:Bounds x="9125" y="945" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1w7wbre_di" bpmnElement="Event_1w7wbre"><dc:Bounds x="9132" y="1022" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_118o280_di" bpmnElement="Activity_118o280" isExpanded="true"><dc:Bounds x="10410" y="80" width="891" height="450" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_19a5giz_di" bpmnElement="Flow_19a5giz"><di:waypoint x="10550" y="345" /><di:waypoint x="10550" y="170" /><di:waypoint x="10590" y="170" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1lkzl8d_di" bpmnElement="Flow_1lkzl8d"><di:waypoint x="10970" y="195" /><di:waypoint x="10970" y="282" /><di:waypoint x="10850" y="282" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0wop5qp_di" bpmnElement="Flow_0wop5qp"><di:waypoint x="10850" y="170" /><di:waypoint x="10945" y="170" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0nk3ssy_di" bpmnElement="Flow_0nk3ssy"><di:waypoint x="11130" y="170" /><di:waypoint x="11162" y="170" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0f2v6bb_di" bpmnElement="Flow_0f2v6bb"><di:waypoint x="10995" y="170" /><di:waypoint x="11030" y="170" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0f68cbr_di" bpmnElement="Flow_0f68cbr"><di:waypoint x="10690" y="170" /><di:waypoint x="10750" y="170" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_09c6bqf_di" bpmnElement="Flow_09c6bqf"><di:waypoint x="10750" y="282" /><di:waypoint x="10640" y="282" /><di:waypoint x="10640" y="210" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_058rwnt_di" bpmnElement="Flow_058rwnt"><di:waypoint x="10468" y="370" /><di:waypoint x="10525" y="370" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1rkyl01_di" bpmnElement="Flow_1rkyl01"><di:waypoint x="10550" y="395" /><di:waypoint x="10550" y="470" /><di:waypoint x="10841" y="470" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0xzq38q_di" bpmnElement="Flow_0xzq38q"><di:waypoint x="10575" y="370" /><di:waypoint x="10841" y="370" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0kbm7ov_di" bpmnElement="Flow_0kbm7ov"><di:waypoint x="10941" y="370" /><di:waypoint x="10991" y="370" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1rhqc33_di" bpmnElement="Flow_1rhqc33"><di:waypoint x="11091" y="370" /><di:waypoint x="11143" y="370" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_036en4t_di" bpmnElement="Flow_036en4t"><di:waypoint x="10941" y="470" /><di:waypoint x="10991" y="470" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1fyxrbm_di" bpmnElement="Flow_1fyxrbm"><di:waypoint x="11091" y="470" /><di:waypoint x="11143" y="470" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Event_03zwgzt_di" bpmnElement="Event_03zwgzt"><dc:Bounds x="10432" y="352" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1r35ok7_di" bpmnElement="Gateway_1r35ok7"><dc:Bounds x="10525" y="345" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1sb91gn_di" bpmnElement="Activity_1sb91gn"><dc:Bounds x="10841" y="430" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_173g2s1_di" bpmnElement="Activity_173g2s1" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="10841" y="330" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1104o2a_di" bpmnElement="Activity_1104o2a"><dc:Bounds x="10991" y="330" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1pmo0wj_di" bpmnElement="Event_1pmo0wj"><dc:Bounds x="11143" y="352" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0kydloq_di" bpmnElement="Event_0kydloq"><dc:Bounds x="11143" y="452" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0e6ajcj_di" bpmnElement="Activity_0e6ajcj"><dc:Bounds x="10991" y="430" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0g8mhd8_di" bpmnElement="Activity_0g8mhd8"><dc:Bounds x="10590" y="130" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_060fwlr_di" bpmnElement="Activity_060fwlr"><dc:Bounds x="11030" y="130" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0qvvpk7_di" bpmnElement="Event_0qvvpk7"><dc:Bounds x="11162" y="152" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0bc5vbw_di" bpmnElement="Activity_0bc5vbw"><dc:Bounds x="10750" y="130" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0g3b58t_di" bpmnElement="Gateway_0g3b58t" isMarkerVisible="true"><dc:Bounds x="10945" y="145" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_12b1u5z_di" bpmnElement="Activity_12b1u5z"><dc:Bounds x="10750" y="242" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_16ps3bp_di" bpmnElement="Gateway_16ps3bp" isMarkerVisible="true"><dc:Bounds x="10915" y="754" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1tu5ax1_di" bpmnElement="Activity_1tu5ax1"><dc:Bounds x="11130" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0dxnmsu_di" bpmnElement="Activity_0dxnmsu"><dc:Bounds x="10890" y="880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1x2r7k2_di" bpmnElement="Activity_1x2r7k2"><dc:Bounds x="10360" y="880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0b1jal9_di" bpmnElement="Activity_0b1jal9"><dc:Bounds x="10200" y="880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0h0y75f_di" bpmnElement="Activity_0h0y75f"><dc:Bounds x="10630" y="880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_18i86mf_di" bpmnElement="Activity_18i86mf"><dc:Bounds x="10500" y="880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ouos0e_di" bpmnElement="Activity_0ouos0e"><dc:Bounds x="10050" y="880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0kjw8wx_di" bpmnElement="Activity_0kjw8wx" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="690" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_07elovy_di" bpmnElement="Activity_07elovy" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="830" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0czapze_di" bpmnElement="Activity_0czapze" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="980" y="2080" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1jb9wpw_di" bpmnElement="Activity_1jb9wpw" bioc:stroke="black" bioc:fill="white"><dc:Bounds x="525" y="2078" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0cxo3zn_di" bpmnElement="Activity_0cxo3zn"><dc:Bounds x="6930" y="1699" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1g1xtxx_di" bpmnElement="Activity_1g1xtxx"><dc:Bounds x="5440" y="2052" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1ycbip0_di" bpmnElement="Activity_1ycbip0" isExpanded="true"><dc:Bounds x="8760" y="2480" width="940" height="442" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_1ghy9sq_di" bpmnElement="Flow_1ghy9sq"><di:waypoint x="9480" y="2660" /><di:waypoint x="9532" y="2660" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_09cdfij_di" bpmnElement="Flow_09cdfij"><di:waypoint x="9330" y="2660" /><di:waypoint x="9380" y="2660" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1o6dcuv_di" bpmnElement="Flow_1o6dcuv"><di:waypoint x="9480" y="2560" /><di:waypoint x="9532" y="2560" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18gecye_di" bpmnElement="Flow_18gecye"><di:waypoint x="9330" y="2560" /><di:waypoint x="9380" y="2560" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10u38du_di" bpmnElement="Flow_10u38du"><di:waypoint x="8910" y="2586" /><di:waypoint x="8910" y="2560" /><di:waypoint x="9230" y="2560" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1und1s1_di" bpmnElement="Flow_1und1s1"><di:waypoint x="8910" y="2636" /><di:waypoint x="8910" y="2660" /><di:waypoint x="9230" y="2660" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0gpmgcv_di" bpmnElement="Flow_0gpmgcv"><di:waypoint x="8848" y="2611" /><di:waypoint x="8885" y="2611" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ze9uwq_di" bpmnElement="Flow_0ze9uwq"><di:waypoint x="9150" y="2862" /><di:waypoint x="9040" y="2862" /><di:waypoint x="9040" y="2790" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0mu567m_di" bpmnElement="Flow_0mu567m"><di:waypoint x="9090" y="2750" /><di:waypoint x="9150" y="2750" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1o2rnou_di" bpmnElement="Flow_1o2rnou"><di:waypoint x="9395" y="2750" /><di:waypoint x="9430" y="2750" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1hh0yij_di" bpmnElement="Flow_1hh0yij"><di:waypoint x="9530" y="2750" /><di:waypoint x="9562" y="2750" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14ilj1d_di" bpmnElement="Flow_14ilj1d"><di:waypoint x="9250" y="2750" /><di:waypoint x="9345" y="2750" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1f9ceda_di" bpmnElement="Flow_1f9ceda"><di:waypoint x="9370" y="2775" /><di:waypoint x="9370" y="2862" /><di:waypoint x="9250" y="2862" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0fo6um6_di" bpmnElement="Flow_0fo6um6"><di:waypoint x="8910" y="2636" /><di:waypoint x="8910" y="2750" /><di:waypoint x="8990" y="2750" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Event_1xm1e6g_di" bpmnElement="Event_1xm1e6g"><dc:Bounds x="8812" y="2593" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0bw3ebw_di" bpmnElement="Gateway_0bw3ebw"><dc:Bounds x="8885" y="2586" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0w9iyq4_di" bpmnElement="Activity_0w9iyq4"><dc:Bounds x="9230" y="2620" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0eruggz_di" bpmnElement="Activity_0eruggz" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="9230" y="2520" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_00k6zc2_di" bpmnElement="Activity_00k6zc2"><dc:Bounds x="9380" y="2520" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1p2s0ub_di" bpmnElement="Event_1p2s0ub"><dc:Bounds x="9532" y="2542" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_14w6oiu_di" bpmnElement="Event_14w6oiu"><dc:Bounds x="9532" y="2642" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0paasr7_di" bpmnElement="Activity_0paasr7"><dc:Bounds x="9380" y="2620" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1uz6cbg_di" bpmnElement="Activity_1uz6cbg"><dc:Bounds x="8990" y="2710" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ti04al_di" bpmnElement="Activity_0ti04al"><dc:Bounds x="9430" y="2710" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0g3kkh1_di" bpmnElement="Event_0g3kkh1"><dc:Bounds x="9562" y="2732" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1ecc0c7_di" bpmnElement="Activity_1ecc0c7"><dc:Bounds x="9150" y="2710" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0jm5nja_di" bpmnElement="Gateway_0jm5nja" isMarkerVisible="true"><dc:Bounds x="9345" y="2725" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_097l4b5_di" bpmnElement="Activity_097l4b5"><dc:Bounds x="9150" y="2822" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0e3ahxh_di" bpmnElement="Gateway_0e3ahxh" isMarkerVisible="true"><dc:Bounds x="9315" y="2285" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_19g6lx4_di" bpmnElement="Activity_19g6lx4" isExpanded="true"><dc:Bounds x="9040" y="1260" width="940" height="442" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_0im08ms_di" bpmnElement="Flow_0im08ms"><di:waypoint x="9760" y="1440" /><di:waypoint x="9812" y="1440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0tfe4c8_di" bpmnElement="Flow_0tfe4c8"><di:waypoint x="9610" y="1440" /><di:waypoint x="9660" y="1440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0pv0ot6_di" bpmnElement="Flow_0pv0ot6"><di:waypoint x="9760" y="1340" /><di:waypoint x="9812" y="1340" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18dovw3_di" bpmnElement="Flow_18dovw3"><di:waypoint x="9610" y="1340" /><di:waypoint x="9660" y="1340" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0i8jij3_di" bpmnElement="Flow_0i8jij3"><di:waypoint x="9190" y="1366" /><di:waypoint x="9190" y="1340" /><di:waypoint x="9510" y="1340" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1iy7lf9_di" bpmnElement="Flow_1iy7lf9"><di:waypoint x="9190" y="1416" /><di:waypoint x="9190" y="1440" /><di:waypoint x="9510" y="1440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1upo0k4_di" bpmnElement="Flow_1upo0k4"><di:waypoint x="9128" y="1391" /><di:waypoint x="9165" y="1391" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ydijhl_di" bpmnElement="Flow_0ydijhl"><di:waypoint x="9430" y="1642" /><di:waypoint x="9320" y="1642" /><di:waypoint x="9320" y="1570" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ugct73_di" bpmnElement="Flow_1ugct73"><di:waypoint x="9370" y="1530" /><di:waypoint x="9430" y="1530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1hittwm_di" bpmnElement="Flow_1hittwm"><di:waypoint x="9675" y="1530" /><di:waypoint x="9710" y="1530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14gxo7i_di" bpmnElement="Flow_14gxo7i"><di:waypoint x="9810" y="1530" /><di:waypoint x="9842" y="1530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ma77he_di" bpmnElement="Flow_0ma77he"><di:waypoint x="9530" y="1530" /><di:waypoint x="9625" y="1530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_05rawu4_di" bpmnElement="Flow_05rawu4"><di:waypoint x="9650" y="1555" /><di:waypoint x="9650" y="1642" /><di:waypoint x="9530" y="1642" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0k5t7aa_di" bpmnElement="Flow_0k5t7aa"><di:waypoint x="9190" y="1416" /><di:waypoint x="9190" y="1530" /><di:waypoint x="9270" y="1530" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="Event_1mu1bnt_di" bpmnElement="Event_1mu1bnt"><dc:Bounds x="9092" y="1373" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1syp1go_di" bpmnElement="Gateway_1syp1go"><dc:Bounds x="9165" y="1366" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0z7qcjx_di" bpmnElement="Activity_0z7qcjx"><dc:Bounds x="9510" y="1400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1gt660y_di" bpmnElement="Activity_1gt660y" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="9510" y="1300" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_01286gj_di" bpmnElement="Activity_01286gj"><dc:Bounds x="9660" y="1300" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1d2ndda_di" bpmnElement="Event_1d2ndda"><dc:Bounds x="9812" y="1322" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1e1z2m1_di" bpmnElement="Event_1e1z2m1"><dc:Bounds x="9812" y="1422" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1kxrell_di" bpmnElement="Activity_1kxrell"><dc:Bounds x="9660" y="1400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_09fgvqd_di" bpmnElement="Activity_09fgvqd"><dc:Bounds x="9270" y="1490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0gxibca_di" bpmnElement="Activity_0gxibca"><dc:Bounds x="9710" y="1490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1scvcbt_di" bpmnElement="Event_1scvcbt"><dc:Bounds x="9842" y="1512" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1eoc6x1_di" bpmnElement="Activity_1eoc6x1"><dc:Bounds x="9430" y="1490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1w9hah0_di" bpmnElement="Gateway_1w9hah0" isMarkerVisible="true"><dc:Bounds x="9625" y="1505" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0pe4eh7_di" bpmnElement="Activity_0pe4eh7"><dc:Bounds x="9430" y="1602" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0eielhd_di" bpmnElement="Gateway_0eielhd" isMarkerVisible="true"><dc:Bounds x="9145" y="1905" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_149xmuv_di" bpmnElement="Activity_149xmuv"><dc:Bounds x="9230" y="1890" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_06ave4d_di" bpmnElement="Gateway_1w55w5r" isMarkerVisible="true"><dc:Bounds x="6525" y="1959" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1pmjttc_di" bpmnElement="Activity_1pmjttc"><dc:Bounds x="12090" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1sq8ah4_di" bpmnElement="Activity_1sq8ah4"><dc:Bounds x="12220" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0a4lew4_di" bpmnElement="Activity_0a4lew4"><dc:Bounds x="12350" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1h2xw26_di" bpmnElement="Activity_1h2xw26"><dc:Bounds x="12584" y="657" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1y8yteu_di" bpmnElement="Activity_1y8yteu"><dc:Bounds x="12720" y="657" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0lwhrcj_di" bpmnElement="Gateway_0lwhrcj" isMarkerVisible="true"><dc:Bounds x="12825" y="754" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0zv5lnp_di" bpmnElement="Activity_0zv5lnp"><dc:Bounds x="12570" y="827" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_16qev4r_di" bpmnElement="Activity_16qev4r"><dc:Bounds x="12710" y="827" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_09dwyxs_di" bpmnElement="Activity_09dwyxs"><dc:Bounds x="11760" y="909" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_07ox5je_di" bpmnElement="Activity_07ox5je"><dc:Bounds x="10220" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_03zpkcr_di" bpmnElement="Activity_03zpkcr"><dc:Bounds x="10380" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ddiemd_di" bpmnElement="Activity_0ddiemd"><dc:Bounds x="10634" y="1669" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_05074j5_di" bpmnElement="Activity_05074j5"><dc:Bounds x="10782" y="1669" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1delme2_di" bpmnElement="Gateway_1delme2" isMarkerVisible="true"><dc:Bounds x="10895" y="1755" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1j4r9x2_di" bpmnElement="Activity_1j4r9x2"><dc:Bounds x="10630" y="1830" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1r73727_di" bpmnElement="Activity_1r73727"><dc:Bounds x="10770" y="1830" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0dzr25m_di" bpmnElement="Activity_0dzr25m"><dc:Bounds x="10264" y="1890" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_09idqmu_di" bpmnElement="Activity_09idqmu"><dc:Bounds x="10430" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0zf2sc5_di" bpmnElement="Activity_0zf2sc5"><dc:Bounds x="10020" y="2444" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_11xkws6_di" bpmnElement="Activity_11xkws6"><dc:Bounds x="2780" y="2081" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1s4xarq_di" bpmnElement="Activity_1s4xarq"><dc:Bounds x="13880" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0lrpzys_di" bpmnElement="Activity_0lrpzys"><dc:Bounds x="14070" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0dqgdil_di" bpmnElement="Activity_0dqgdil"><dc:Bounds x="14900" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_06n74vj_di" bpmnElement="Activity_06n74vj"><dc:Bounds x="14580" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1jqfyrd_di" bpmnElement="Activity_1jqfyrd"><dc:Bounds x="14730" y="739" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0m8dq2e_di" bpmnElement="Activity_0m8dq2e"><dc:Bounds x="11250" y="1742" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1dhhl51_di" bpmnElement="Activity_1dhhl51"><dc:Bounds x="11520" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1sx08gf_di" bpmnElement="Activity_1sx08gf"><dc:Bounds x="12260" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_11naw59_di" bpmnElement="Activity_11naw59"><dc:Bounds x="12120" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1u4nxzl_di" bpmnElement="Activity_1u4nxzl" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="11680" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ty7qbo_di" bpmnElement="Activity_0ty7qbo"><dc:Bounds x="11830" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_13gi5b9_di" bpmnElement="Activity_13gi5b9"><dc:Bounds x="11980" y="1740" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_19xoffc_di" bpmnElement="Event_19xoffc"><dc:Bounds x="12412" y="1762" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_022di22_di" bpmnElement="Activity_022di22"><dc:Bounds x="11544" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1rum7bz_di" bpmnElement="Event_1rum7bz"><dc:Bounds x="11686" y="2292" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0v6wahq_di" bpmnElement="Activity_0v6wahq"><dc:Bounds x="11370" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0uneg07_di" bpmnElement="Activity_0uneg07" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="10910" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1b5p6ly_di" bpmnElement="Activity_1b5p6ly"><dc:Bounds x="11070" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0m8jz9m_di" bpmnElement="Activity_0m8jz9m"><dc:Bounds x="11220" y="2270" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0ckyun3_di" bpmnElement="Gateway_0ckyun3" isMarkerVisible="true"><dc:Bounds x="5015" y="1252" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_11ketwn_di" bpmnElement="Activity_11ketwn"><dc:Bounds x="5526" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0mz9una_di" bpmnElement="Activity_0mz9una"><dc:Bounds x="5256" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0xbr3ak_di" bpmnElement="Activity_0xbr3ak"><dc:Bounds x="5390" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1vooe4u_di" bpmnElement="Activity_1vooe4u"><dc:Bounds x="5120" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_13umgnb_di" bpmnElement="Activity_13umgnb"><dc:Bounds x="4990" y="1110" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1cofxxb_di" bpmnElement="Activity_1cofxxb"><dc:Bounds x="4600" y="1246" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0hu58sg_di" bpmnElement="Gateway_0hu58sg" isMarkerVisible="true"><dc:Bounds x="4895" y="1252" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0va304z_di" bpmnElement="Activity_0va304z"><dc:Bounds x="4870" y="1110" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0gwsagd_di" bpmnElement="Activity_0gwsagd"><dc:Bounds x="5664" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_073xqm5_di" bpmnElement="Gateway_073xqm5" isMarkerVisible="true"><dc:Bounds x="5809" y="1252" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_00jmxut_di" bpmnElement="Activity_00jmxut"><dc:Bounds x="5890" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_11kn2e8_di" bpmnElement="Activity_11kn2e8"><dc:Bounds x="6024" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0zzv5f3_di" bpmnElement="Activity_0zzv5f3"><dc:Bounds x="4760" y="1237" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_02n5kt5_di" bpmnElement="Activity_02n5kt5"><dc:Bounds x="4600" y="1799" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1hydj3t_di" bpmnElement="Activity_1hydj3t"><dc:Bounds x="4600" y="1909" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1horkkc_di" bpmnElement="Gateway_1horkkc" isMarkerVisible="true"><dc:Bounds x="4625" y="1634" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1jfmb66_di" bpmnElement="Activity_1jfmb66"><dc:Bounds x="4690" y="1698" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0hvgqbf_di" bpmnElement="Gateway_0hvgqbf" isMarkerVisible="true"><dc:Bounds x="7589" y="1674" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1deli84_di" bpmnElement="Activity_1deli84"><dc:Bounds x="6593" y="1880" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0kvbudm_di" bpmnElement="Gateway_0i6akqr" isMarkerVisible="true"><dc:Bounds x="7589" y="1105" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_12t0u83_di" bpmnElement="Activity_117ypij"><dc:Bounds x="3669" y="1960" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0hvb84n_di" bpmnElement="Activity_0hvb84n"><dc:Bounds x="5120" y="1340" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_09xxz3u_di" bpmnElement="Activity_09xxz3u"><dc:Bounds x="94" y="2081" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1mocr3u_di" bpmnElement="Gateway_0zp89hk" isMarkerVisible="true"><dc:Bounds x="7225" y="1713" width="50" height="50" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
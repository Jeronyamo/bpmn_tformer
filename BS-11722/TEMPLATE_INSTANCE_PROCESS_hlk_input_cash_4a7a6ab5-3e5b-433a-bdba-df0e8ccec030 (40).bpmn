<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.2.0"><bpmn:process id="TEMPLATE_INSTANCE_PROCESS_hlk_input_cash_4a7a6ab5-3e5b-433a-bdba-df0e8ccec030" name="НТО - зачисление денежных средств" isExecutable="true"><bpmn:documentation /><bpmn:startEvent id="StartEvent_1" camunda:asyncBefore="true"><bpmn:outgoing>SequenceFlow_0or7jn6</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id="SequenceFlow_0or7jn6" sourceRef="StartEvent_1" targetRef="Activity_06plkms" /><bpmn:serviceTask id="ServiceTask_1xwuw6c" name="Статус Заполнение: Параметры события"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Дата+и+сумма</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0wklxaj</bpmn:incoming><bpmn:outgoing>SequenceFlow_0szw8x8</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0szw8x8" sourceRef="ServiceTask_1xwuw6c" targetRef="Activity_0dpkj42" /><bpmn:serviceTask id="ServiceTask_07g9f7j" name="Статус В обработке: Параметры заполнены"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=В+обработке:+Параметры+заполнены</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1af3qa6</bpmn:incoming><bpmn:incoming>Flow_19jmgf6</bpmn:incoming><bpmn:incoming>Flow_14fi5sk</bpmn:incoming><bpmn:outgoing>Flow_0z3u3d4</bpmn:outgoing></bpmn:serviceTask><bpmn:parallelGateway id="ExclusiveGateway_1engspg"><bpmn:incoming>Flow_134ljsf</bpmn:incoming><bpmn:outgoing>SequenceFlow_1we8zau</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1o8p9lo</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0k4jcvg</bpmn:outgoing></bpmn:parallelGateway><bpmn:serviceTask id="ServiceTask_0v0na1n" name="Получаем значения параметров: instanceId РО"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getRefId/F_Clearing_system</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="RO_TO">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1we8zau</bpmn:incoming><bpmn:outgoing>SequenceFlow_05hvrhd</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1t4ujvm" name="Получаем значения параметров: instance id Счета"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getRefId/AssetFlows___lkupBOAccountNumber___ValueDisplayed</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="ACC_TO">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1o8p9lo</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ueqly4</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1we8zau" sourceRef="ExclusiveGateway_1engspg" targetRef="ServiceTask_0v0na1n" /><bpmn:sequenceFlow id="SequenceFlow_1o8p9lo" sourceRef="ExclusiveGateway_1engspg" targetRef="ServiceTask_1t4ujvm" /><bpmn:serviceTask id="ServiceTask_0vle74d" name="Получаем Название РО"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/legalEntity/${RO_TO}/getAttribute/ShortName</camunda:inputParameter><camunda:outputParameter name="RO_Name">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1tqwfvc</bpmn:incoming><bpmn:outgoing>SequenceFlow_0y62ltn</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_05hvrhd" sourceRef="ServiceTask_0v0na1n" targetRef="ServiceTask_08zhwch" /><bpmn:serviceTask id="ServiceTask_0hozdrr" name="Установка атрибутов Название и id РО"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"AssetFlows___lkupCS___ValueDisplayed" : "${RO_Name}",
"RO_TO_ID" : "${ROPrimaryId}",
"RO_FROM_ID" : "${ROPrimaryId}"
 }</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0y62ltn</bpmn:incoming><bpmn:outgoing>SequenceFlow_1djrala</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0y62ltn" sourceRef="ServiceTask_0vle74d" targetRef="ServiceTask_0hozdrr" /><bpmn:serviceTask id="ServiceTask_015jegl" name="Получаем Номер счета"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/invoice/${ACC_TO}/getAttribute/hlk_Account_Number</camunda:inputParameter><camunda:outputParameter name="Acc_name">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0bae9c7</bpmn:incoming><bpmn:outgoing>SequenceFlow_0z0f1zd</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0ueqly4" sourceRef="ServiceTask_1t4ujvm" targetRef="ServiceTask_0p2smi4" /><bpmn:serviceTask id="ServiceTask_1x19tih" name="Установка атрибутов Название и id Счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
"AssetFlows___lkupBOAccount___ValueDisplayed" : "${Acc_name}",
"ACC_ID_TO" : "${AccPrimaryId}",
"ACC_FROM_ID" : "${AccPrimaryId}"
 }</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0z0f1zd</bpmn:incoming><bpmn:outgoing>SequenceFlow_1di4qan</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0z0f1zd" sourceRef="ServiceTask_015jegl" targetRef="ServiceTask_1x19tih" /><bpmn:sequenceFlow id="SequenceFlow_1di4qan" sourceRef="ServiceTask_1x19tih" targetRef="ExclusiveGateway_1s3fpcd" /><bpmn:parallelGateway id="ExclusiveGateway_1s3fpcd"><bpmn:incoming>SequenceFlow_1di4qan</bpmn:incoming><bpmn:incoming>SequenceFlow_1djrala</bpmn:incoming><bpmn:incoming>SequenceFlow_0tqs6yo</bpmn:incoming><bpmn:outgoing>SequenceFlow_04yk3s2</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id="SequenceFlow_1djrala" sourceRef="ServiceTask_0hozdrr" targetRef="ExclusiveGateway_1s3fpcd" /><bpmn:serviceTask id="ServiceTask_1sxrs1r" name="Достаем primaryId объекта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "enrichment",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0k4jcvg</bpmn:incoming><bpmn:outgoing>SequenceFlow_0ychsqa</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1xv971v" name="Записываем внешний ID"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttribute/hlk_EzDoc_ID?value=${primaryId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ychsqa</bpmn:incoming><bpmn:outgoing>SequenceFlow_0tqs6yo</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0ychsqa" sourceRef="ServiceTask_1sxrs1r" targetRef="ServiceTask_1xv971v" /><bpmn:sequenceFlow id="SequenceFlow_0k4jcvg" sourceRef="ExclusiveGateway_1engspg" targetRef="ServiceTask_1sxrs1r" /><bpmn:sequenceFlow id="SequenceFlow_0tqs6yo" sourceRef="ServiceTask_1xv971v" targetRef="ExclusiveGateway_1s3fpcd" /><bpmn:serviceTask id="ServiceTask_1jo3k6e" name="Статус Заполнение: подтверждение исполнения"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Подтверждение+исполнения</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1c5y785</bpmn:incoming><bpmn:outgoing>Flow_1bcrsz6</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_04yk3s2" sourceRef="ExclusiveGateway_1s3fpcd" targetRef="ServiceTask_1vd2l3i" /><bpmn:serviceTask id="ServiceTask_1m8kqbn" name="Создание фактов" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment-obligation/fact/${OutputCash}?AssetFlows___radioFactPlan___ValueDisplayed=Факт&amp;AssetFlow___Id___Value=${PrimaryId2}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ic7nsb</bpmn:incoming><bpmn:outgoing>SequenceFlow_12beq1t</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0f0351v" name="Поиск об-ва"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/obligations/one/by-attribute?name=AssetFlows___lkupFlowType___Value&amp;value=56</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="OutputCash">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0qvng6j</bpmn:incoming><bpmn:outgoing>SequenceFlow_1i7u3ha</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1g6d86b" name="Сообщаем об окончании процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_12tmiuy</bpmn:incoming><bpmn:outgoing>SequenceFlow_16atttm</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="UserTask_1wwttot" name="Подтверждение исполнения" camunda:assignee="${initiator}" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;BO&#34;,&#34;label&#34;:&#34;Подтвердить исполнение&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="{&#34;id&#34;:&#34;ReturnBO&#34;,&#34;label&#34;:&#34;Возврат на доработку&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_1yczur3</bpmn:incoming><bpmn:outgoing>SequenceFlow_11asbv9</bpmn:outgoing><bpmn:outgoing>Flow_0r9ka8s</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_109hz9r" name="Статус Подтверждено"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Подтверждено</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1slu9gj</bpmn:incoming><bpmn:outgoing>SequenceFlow_12tmiuy</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_16atttm" sourceRef="ServiceTask_1g6d86b" targetRef="EndEvent_0kyr2ry" /><bpmn:sequenceFlow id="SequenceFlow_12tmiuy" sourceRef="ServiceTask_109hz9r" targetRef="ServiceTask_1g6d86b" /><bpmn:sequenceFlow id="SequenceFlow_1i7u3ha" sourceRef="ServiceTask_0f0351v" targetRef="Activity_1f0owut" /><bpmn:sequenceFlow id="SequenceFlow_12beq1t" sourceRef="ServiceTask_1m8kqbn" targetRef="Activity_0pxcefv" /><bpmn:sequenceFlow id="SequenceFlow_11asbv9" sourceRef="UserTask_1wwttot" targetRef="Activity_0xdq1g5"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'BO'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="Activity_0i95cxw" name="Устанавливаем Трейдера"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttribute/AssetFlows___labelTrader___ValueDisplayed?value=${initiator}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1a6c6v0</bpmn:incoming><bpmn:outgoing>SequenceFlow_1af3qa6</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_08zhwch" name="Достаем праймари айди РО"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "legalEntity",
	"filter": {
		"_id": ObjectId("${RO_TO}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="ROPrimaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_05hvrhd</bpmn:incoming><bpmn:outgoing>SequenceFlow_1tqwfvc</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1tqwfvc" sourceRef="ServiceTask_08zhwch" targetRef="ServiceTask_0vle74d" /><bpmn:serviceTask id="ServiceTask_0p2smi4" name="Достаем праймари айди счета"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "invoice",
	"filter": {
		"_id": ObjectId("${ACC_TO}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="AccPrimaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0ueqly4</bpmn:incoming><bpmn:outgoing>SequenceFlow_0bae9c7</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0bae9c7" sourceRef="ServiceTask_0p2smi4" targetRef="ServiceTask_015jegl" /><bpmn:serviceTask id="ServiceTask_1vd2l3i" name="Получаем значение атрибутов "><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dateRegDate___ValueDisplayed&amp;systemName=AssetFlows___dateFlowDate___ValueDisplayed&amp;systemName=AssetFlows___txtQty___Value&amp;systemName=AssetFlows___txtID___ValueDisplayed</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="REGDATE"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dateRegDate___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="FLOWDATE"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dateFlowDate___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="SUMMA"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___txtQty___Value</camunda:script></camunda:outputParameter><camunda:outputParameter name="FOCUSID"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___txtID___ValueDisplayed</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_04yk3s2</bpmn:incoming><bpmn:outgoing>Flow_1c5y785</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_07imo34" name="определяем источник"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttribute/hlk_source_doc</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="hlk_source_doc">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1si2etk</bpmn:incoming><bpmn:outgoing>SequenceFlow_1r0hvhm</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1r0hvhm" sourceRef="ServiceTask_07imo34" targetRef="ExclusiveGateway_0ie0brg" /><bpmn:exclusiveGateway id="ExclusiveGateway_0ie0brg" default="SequenceFlow_0wklxaj"><bpmn:incoming>SequenceFlow_1r0hvhm</bpmn:incoming><bpmn:outgoing>SequenceFlow_0wklxaj</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1nvezbx</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="SequenceFlow_0wklxaj" sourceRef="ExclusiveGateway_0ie0brg" targetRef="ServiceTask_1xwuw6c" /><bpmn:sequenceFlow id="SequenceFlow_1nvezbx" name="эквайринг" sourceRef="ExclusiveGateway_0ie0brg" targetRef="ScriptTask_0mpu2md"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${hlk_source_doc=="Terminal"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="SequenceFlow_1af3qa6" sourceRef="Activity_0i95cxw" targetRef="ServiceTask_07g9f7j" /><bpmn:sequenceFlow id="Flow_1c5y785" sourceRef="ServiceTask_1vd2l3i" targetRef="ServiceTask_1jo3k6e" /><bpmn:serviceTask id="ServiceTask_1a9pac6" name="Статус Ввод/корректировка количества"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:Ввод/корректировка+количества</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1spbx7l</bpmn:incoming><bpmn:incoming>Flow_0r9ka8s</bpmn:incoming><bpmn:outgoing>SequenceFlow_0pauq2v</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0pauq2v" sourceRef="ServiceTask_1a9pac6" targetRef="Activity_1xx0ts6" /><bpmn:serviceTask id="ServiceTask_1u7etjq" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
"email":"dris@halykfinance.kz",
"subject":"Отправка уведомления: Приказ на зачисление ДС ",
"text":"Внимание! Требует обработки Приказ на зачисление ДС № ${AssetFlows___external_id_link___Value}, от ${AssetFlows___dateRegDate___ValueDisplayed}, клиента ${AssetFlows___lkupClient___ValueDisplayed} (ЛС счет ${Account_SD}) на сумму ${AssetFlows___txtQty___Value}${AssetflowCcy}.",
"attachments" : [ ]
}</camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_13dwhdm</bpmn:incoming><bpmn:outgoing>SequenceFlow_1f4fu6b</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1vutj6z" name="Создаем запись в журнале почтовых уведомлений"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/sendInstanceTo/enrichment/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
"ObjectType" : "Notification",
"hlk_email" : "dris@halykfinance.kz",
"hlk_client_app" : "${AssetFlows___lkupClient___ValueDisplayed}",
"hlk_mail_theme" : "Уведомление о формировании Приказа на зачисление ДС",
"hlk_mail_status" : "Успешно отправлено",
"hlk_mail_date" : "${acceptDate}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1f4fu6b</bpmn:incoming><bpmn:outgoing>SequenceFlow_09j6zib</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_09j6zib" sourceRef="ServiceTask_1vutj6z" targetRef="ServiceTask_1637had" /><bpmn:sequenceFlow id="SequenceFlow_1f4fu6b" sourceRef="ServiceTask_1u7etjq" targetRef="ServiceTask_1vutj6z" /><bpmn:serviceTask id="ServiceTask_0uhetjf" name="Получаем аттрибуты"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dateRegDate___ValueDisplayed&amp;systemName=AssetFlows___lkupClient___ValueDisplayed&amp;getValue=AssetFlows___lkupClient___ValueDisplayed&amp;systemName=AssetFlows___txtQty___Value&amp;systemName=AssetflowCcy&amp;systemName=AssetFlows___external_id_link___Value&amp;systemName=Account_SD&amp;getValue=Account_SD&amp;systemName=AssetFlows___lkupCS___ValueDisplayed</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="AssetFlows___dateRegDate___ValueDisplayed"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dateRegDate___ValueDisplayed.substr(0, 10)</camunda:script></camunda:outputParameter><camunda:outputParameter name="AssetFlows___lkupClient___ValueDisplayed"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___lkupClient___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="AssetFlows___txtQty___Value"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___txtQty___Value</camunda:script></camunda:outputParameter><camunda:outputParameter name="AssetflowCcy"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetflowCcy</camunda:script></camunda:outputParameter><camunda:outputParameter name="AssetFlows___external_id_link___Value"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___external_id_link___Value</camunda:script></camunda:outputParameter><camunda:outputParameter name="Account_SD"><camunda:script scriptFormat="javascript">JSON.parse(response).Account_SD</camunda:script></camunda:outputParameter><camunda:outputParameter name="CS"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___lkupCS___ValueDisplayed</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1yf56eh</bpmn:incoming><bpmn:outgoing>SequenceFlow_13dwhdm</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_13dwhdm" sourceRef="ServiceTask_0uhetjf" targetRef="ServiceTask_1u7etjq" /><bpmn:scriptTask id="ScriptTask_0mpu2md" name="Получаем текущую дату" scriptFormat="javascript" camunda:resultVariable="acceptDate"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1nvezbx</bpmn:incoming><bpmn:outgoing>SequenceFlow_1yf56eh</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '')</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="SequenceFlow_1yf56eh" sourceRef="ScriptTask_0mpu2md" targetRef="ServiceTask_0uhetjf" /><bpmn:serviceTask id="ServiceTask_1637had" name="Отправляем уведомление в СП"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/email/send</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
"email":"back-office@halykfinance.kz",
"subject":"Отправка уведомления: Приказ на зачисление ДС ",
"text":"Внимание! Требует обработки Приказ на зачисление ДС № ${AssetFlows___external_id_link___Value}, от ${AssetFlows___dateRegDate___ValueDisplayed}, клиента ${AssetFlows___lkupClient___ValueDisplayed}  (ЛС счет ${Account_SD}) на сумму ${AssetFlows___txtQty___Value}${AssetflowCcy}.",
"attachments" : [ ]
}</camunda:inputParameter><camunda:outputParameter name="errorCode1">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_09j6zib</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ysguw5</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0mxjf6r" name="Создаем запись в журнале почтовых уведомлений"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/sendInstanceTo/enrichment/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
"ObjectType" : "Notification",
"hlk_email" : "dris@halykfinance.kz",
"hlk_client_app" : "${AssetFlows___lkupClient___ValueDisplayed}",
"hlk_mail_theme" : "Уведомление о формировании Приказа на зачисление ДС",
"hlk_mail_status" : "Успешно отправлено",
"hlk_mail_date" : "${acceptDate}"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1ysguw5</bpmn:incoming><bpmn:outgoing>SequenceFlow_1bp0an3</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1ysguw5" sourceRef="ServiceTask_1637had" targetRef="ServiceTask_0mxjf6r" /><bpmn:sequenceFlow id="SequenceFlow_1bp0an3" sourceRef="ServiceTask_0mxjf6r" targetRef="Gateway_1746eot" /><bpmn:sequenceFlow id="SequenceFlow_1si2etk" sourceRef="ExclusiveGateway_06qhd84" targetRef="ServiceTask_07imo34" /><bpmn:parallelGateway id="ExclusiveGateway_06qhd84"><bpmn:incoming>Flow_0s2f1do</bpmn:incoming><bpmn:outgoing>SequenceFlow_1si2etk</bpmn:outgoing><bpmn:outgoing>SequenceFlow_04rbkd1</bpmn:outgoing></bpmn:parallelGateway><bpmn:intermediateCatchEvent id="IntermediateCatchEvent_1leph8w"><bpmn:incoming>SequenceFlow_04rbkd1</bpmn:incoming><bpmn:outgoing>SequenceFlow_0d2yr7c</bpmn:outgoing><bpmn:signalEventDefinition id="SignalEventDefinition_1w5n69n" signalRef="Signal_0omz8oa" /></bpmn:intermediateCatchEvent><bpmn:serviceTask id="ServiceTask_05vkll0" name="завершить процесс" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_17ea1t2</bpmn:incoming><bpmn:outgoing>SequenceFlow_1ovcvwb</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_093c5sg"><bpmn:incoming>SequenceFlow_1ovcvwb</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_12xyefv" /></bpmn:endEvent><bpmn:sequenceFlow id="SequenceFlow_0d2yr7c" sourceRef="IntermediateCatchEvent_1leph8w" targetRef="Activity_05r8uan" /><bpmn:sequenceFlow id="SequenceFlow_1ovcvwb" sourceRef="ServiceTask_05vkll0" targetRef="EndEvent_093c5sg" /><bpmn:sequenceFlow id="SequenceFlow_04rbkd1" sourceRef="ExclusiveGateway_06qhd84" targetRef="IntermediateCatchEvent_1leph8w" /><bpmn:endEvent id="EndEvent_0kyr2ry"><bpmn:incoming>SequenceFlow_16atttm</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1qjeqhm" /></bpmn:endEvent><bpmn:callActivity id="CallActivity_10spnlc" name="Отправляем P01 в ЦД" calledElement="P01Generation"><bpmn:extensionElements><camunda:in variables="all" /><camunda:out variables="all" /><camunda:in sourceExpression="${ezdocUrl}" target="ezdocUrl" /></bpmn:extensionElements><bpmn:incoming>Flow_10vwqlz</bpmn:incoming><bpmn:incoming>Flow_02y93p1</bpmn:incoming><bpmn:outgoing>SequenceFlow_08iyfxb</bpmn:outgoing></bpmn:callActivity><bpmn:serviceTask id="ServiceTask_0ce76i9" name="Меняем статус P01 отправлен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=P01+отправлен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_08iyfxb</bpmn:incoming><bpmn:outgoing>SequenceFlow_0wydg0l</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0pgg3j7" name="Записываем референс"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttribute/SWIFT_MESSAGE_ID?incrementVersion=false&amp;value=BC0000${REF_ID_SWIFT_COUNT}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0wydg0l</bpmn:incoming><bpmn:outgoing>SequenceFlow_0rv719q</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_08iyfxb" sourceRef="CallActivity_10spnlc" targetRef="ServiceTask_0ce76i9" /><bpmn:sequenceFlow id="SequenceFlow_0wydg0l" sourceRef="ServiceTask_0ce76i9" targetRef="ServiceTask_0pgg3j7" /><bpmn:serviceTask id="ServiceTask_1mqb5qo" name="Сохраняем P03"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/attach/${swiftId}?type=ENRICHMENT&amp;instanceId=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_03il3r7</bpmn:incoming><bpmn:outgoing>SequenceFlow_1bfxmj3</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_05z7u0d" name="Меняем статус заявки SWIFT исполнен"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=SWIFT+исполнен</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1bfxmj3</bpmn:incoming><bpmn:outgoing>SequenceFlow_18mjkyk</bpmn:outgoing></bpmn:serviceTask><bpmn:subProcess id="SubProcess_1qx40lm"><bpmn:incoming>Flow_1myysas</bpmn:incoming><bpmn:outgoing>SequenceFlow_0foe5n0</bpmn:outgoing><bpmn:startEvent id="StartEvent_0rtu4g3"><bpmn:outgoing>SequenceFlow_0bjtvqk</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id="ParallelGateway_17gdtsh"><bpmn:incoming>SequenceFlow_0bjtvqk</bpmn:incoming><bpmn:outgoing>SequenceFlow_0rj2d39</bpmn:outgoing><bpmn:outgoing>SequenceFlow_1vq6mna</bpmn:outgoing><bpmn:outgoing>Flow_0n164ia</bpmn:outgoing></bpmn:parallelGateway><bpmn:receiveTask id="ReceiveTask_1cog4kp" name="P03 ждем" camunda:asyncAfter="true" messageRef="Message_03ok4b9"><bpmn:incoming>SequenceFlow_1vq6mna</bpmn:incoming><bpmn:outgoing>SequenceFlow_03nqvmr</bpmn:outgoing></bpmn:receiveTask><bpmn:userTask id="UserTask_1oto0k4" name="Возврат к заполнению" camunda:candidateGroups="cb_backoffice, cb_frontoffice, cb_middleoffice, jira-users"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;: &#34;Reject&#34;, &#34;label&#34;: &#34;Возврат на доработку&#34;, &#34;type&#34;:&#34;fillingParam&#34;,&#34;params&#34;: [  {&#34;name&#34;: &#34;hlk_reason_return&#34;, &#34;label&#34;: &#34;Причина возврата на доработку&#34;, &#34;type&#34;: &#34;string&#34;} ]}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0rj2d39</bpmn:incoming><bpmn:outgoing>SequenceFlow_081e27u</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_12twobj" name="Устанавливаем признак isRejected = true" camunda:expression="true" camunda:resultVariable="isRejected"><bpmn:incoming>SequenceFlow_081e27u</bpmn:incoming><bpmn:outgoing>SequenceFlow_0qjfz4m</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_1606vt7"><bpmn:incoming>Flow_0rhussi</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1nuxutu" /></bpmn:endEvent><bpmn:endEvent id="EndEvent_0hhja55"><bpmn:incoming>Flow_127b35v</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1pzcb0l" /></bpmn:endEvent><bpmn:serviceTask id="ServiceTask_1kf1rlh" name="Устанавливаем признак isRejected = false" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>SequenceFlow_03nqvmr</bpmn:incoming><bpmn:outgoing>SequenceFlow_03bvtyx</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_03bvtyx" sourceRef="ServiceTask_1kf1rlh" targetRef="Activity_0hfq82l" /><bpmn:sequenceFlow id="SequenceFlow_03nqvmr" sourceRef="ReceiveTask_1cog4kp" targetRef="ServiceTask_1kf1rlh" /><bpmn:sequenceFlow id="SequenceFlow_0qjfz4m" sourceRef="ServiceTask_12twobj" targetRef="Activity_1sab8r2" /><bpmn:sequenceFlow id="SequenceFlow_081e27u" sourceRef="UserTask_1oto0k4" targetRef="ServiceTask_12twobj" /><bpmn:sequenceFlow id="SequenceFlow_0rj2d39" sourceRef="ParallelGateway_17gdtsh" targetRef="UserTask_1oto0k4" /><bpmn:sequenceFlow id="SequenceFlow_1vq6mna" sourceRef="ParallelGateway_17gdtsh" targetRef="ReceiveTask_1cog4kp" /><bpmn:sequenceFlow id="SequenceFlow_0bjtvqk" sourceRef="StartEvent_0rtu4g3" targetRef="ParallelGateway_17gdtsh" /><bpmn:serviceTask id="Activity_1sab8r2" name="Устанавливаем признак isCancel = false" camunda:expression="false" camunda:resultVariable="isCancel"><bpmn:incoming>SequenceFlow_0qjfz4m</bpmn:incoming><bpmn:outgoing>Flow_0rhussi</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0rhussi" sourceRef="Activity_1sab8r2" targetRef="EndEvent_1606vt7" /><bpmn:serviceTask id="Activity_0hfq82l" name="Устанавливаем признак isCancel = false" camunda:expression="false" camunda:resultVariable="isCancel"><bpmn:incoming>SequenceFlow_03bvtyx</bpmn:incoming><bpmn:outgoing>Flow_127b35v</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_127b35v" sourceRef="Activity_0hfq82l" targetRef="EndEvent_0hhja55" /><bpmn:receiveTask id="Activity_187pmra" name="P04 ждем" camunda:asyncAfter="true" messageRef="Message_1immsln"><bpmn:incoming>Flow_0n164ia</bpmn:incoming><bpmn:outgoing>Flow_07whrxc</bpmn:outgoing></bpmn:receiveTask><bpmn:sequenceFlow id="Flow_0n164ia" sourceRef="ParallelGateway_17gdtsh" targetRef="Activity_187pmra" /><bpmn:serviceTask id="Activity_0cd7goi" name="Устанавливаем признак isRejected = false" camunda:expression="false" camunda:resultVariable="isRejected"><bpmn:incoming>Flow_07whrxc</bpmn:incoming><bpmn:outgoing>Flow_0vywvok</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_07whrxc" sourceRef="Activity_187pmra" targetRef="Activity_0cd7goi" /><bpmn:serviceTask id="Activity_1rwd3o2" name="Устанавливаем признак isCancel = true" camunda:expression="true" camunda:resultVariable="isCancel"><bpmn:incoming>Flow_0vywvok</bpmn:incoming><bpmn:outgoing>Flow_1yrt5nn</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0vywvok" sourceRef="Activity_0cd7goi" targetRef="Activity_1rwd3o2" /><bpmn:endEvent id="Event_0t4wlax"><bpmn:incoming>Flow_1yrt5nn</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1skdir6" /></bpmn:endEvent><bpmn:sequenceFlow id="Flow_1yrt5nn" sourceRef="Activity_1rwd3o2" targetRef="Event_0t4wlax" /></bpmn:subProcess><bpmn:exclusiveGateway id="ExclusiveGateway_0lfl1ro" default="SequenceFlow_092dmwy"><bpmn:incoming>SequenceFlow_0foe5n0</bpmn:incoming><bpmn:outgoing>SequenceFlow_092dmwy</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0okmh0f</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="ServiceTask_14zch4r" name="Меняем статус заявки SWIFT ошибка"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заявка+отклонена+SWIFT+ошибка</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_08ndsv4</bpmn:incoming><bpmn:outgoing>Flow_1c1kirs</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1bfxmj3" sourceRef="ServiceTask_1mqb5qo" targetRef="ServiceTask_05z7u0d" /><bpmn:sequenceFlow id="SequenceFlow_092dmwy" sourceRef="ExclusiveGateway_0lfl1ro" targetRef="Gateway_0ky7p11" /><bpmn:sequenceFlow id="SequenceFlow_0foe5n0" sourceRef="SubProcess_1qx40lm" targetRef="ExclusiveGateway_0lfl1ro" /><bpmn:sequenceFlow id="SequenceFlow_0rv719q" sourceRef="ServiceTask_0pgg3j7" targetRef="Activity_12u5umg" /><bpmn:sequenceFlow id="SequenceFlow_18mjkyk" sourceRef="ServiceTask_05z7u0d" targetRef="Activity_08cxjrz" /><bpmn:sequenceFlow id="SequenceFlow_0okmh0f" name="возврат на доработку (на уточнении у клиента)" sourceRef="ExclusiveGateway_0lfl1ro" targetRef="Activity_1ixzi4p"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isRejected == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="Activity_1cfcgtb" name="Получаем значения параметров: Валюта, Книга"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=hlk_book&amp;systemName=AssetflowCcy</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="Ccy"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetflowCcy</camunda:script></camunda:outputParameter><camunda:outputParameter name="Book_list"><camunda:script scriptFormat="javascript">JSON.parse(response).hlk_book</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1qajtoe</bpmn:incoming><bpmn:incoming>Flow_0z3u3d4</bpmn:incoming><bpmn:incoming>Flow_13dxzes</bpmn:incoming><bpmn:incoming>Flow_1nekfwt</bpmn:incoming><bpmn:outgoing>Flow_19bv6lf</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_1mj5dpj" default="Flow_1xi4u9t"><bpmn:incoming>Flow_19bv6lf</bpmn:incoming><bpmn:outgoing>Flow_1xi4u9t</bpmn:outgoing><bpmn:outgoing>Flow_0q4fvt7</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_19lhj7f" name="Сохраняем кнингу и валюту"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("AssetFlows___lkupBook___ValueDisplayed", Book_list)
.prop("AssetFlows___lkupAsset___ValueDisplayed", Ccy)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1xi4u9t</bpmn:incoming><bpmn:outgoing>Flow_134ljsf</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0f98m5h" name="Статус Заполнение: Выбор книги"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Выбор+Книги</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0q4fvt7</bpmn:incoming><bpmn:outgoing>Flow_07qgan3</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="Activity_0rggdtn" name="Заполнение параметров" camunda:formKey="FILL" camunda:assignee="${initiator}" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="hlk_book" label="Книга  обязательства" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>Flow_07qgan3</bpmn:incoming><bpmn:outgoing>Flow_1qajtoe</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="Flow_1qajtoe" sourceRef="Activity_0rggdtn" targetRef="Activity_1cfcgtb" /><bpmn:sequenceFlow id="Flow_19bv6lf" sourceRef="Activity_1cfcgtb" targetRef="Gateway_1mj5dpj" /><bpmn:sequenceFlow id="Flow_1xi4u9t" sourceRef="Gateway_1mj5dpj" targetRef="Activity_19lhj7f" /><bpmn:sequenceFlow id="Flow_0q4fvt7" sourceRef="Gateway_1mj5dpj" targetRef="Activity_0f98m5h"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Book_list == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_07qgan3" sourceRef="Activity_0f98m5h" targetRef="Activity_0rggdtn" /><bpmn:sequenceFlow id="Flow_0z3u3d4" sourceRef="ServiceTask_07g9f7j" targetRef="Activity_1cfcgtb" /><bpmn:sequenceFlow id="Flow_134ljsf" sourceRef="Activity_19lhj7f" targetRef="ExclusiveGateway_1engspg" /><bpmn:serviceTask id="Activity_0xdq1g5" name="создание обязательств" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/sendInstanceTo/ENRICHMENT_OBLIGATION/${instanceId}?closedSegment=false</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("AssetFlows___dtRegDate___ValueDisplayed", REGDATE)
.prop("AssetFlows___dtFlowDate___ValueDisplayed", FLOWDATE)
.prop("AssetFlows___luAssetType___ValueDisplayed", "Currency")
.prop("AssetFlows___txtAmount___Value", SUMMA)
.prop("AssetFlows___luAsset___ValueDisplayed", Ccy)
.prop("AssetFlows___luCS___ValueDisplayed", RO_Name)
.prop("AssetFlows___luAccount___ValueDisplayed", Acc_name)
.prop("AssetFlow___Id___Value", primaryId + "_P")
.prop("AssetFlow___FlowDate___Value", FLOWDATE)
.prop("AssetFlows___radioFactPlan___ValueDisplayed", "План")
.prop("AssetFlows___lkupFlowType___Value", "56")
.prop("AssetFlows___txtStatus___ValueDisplayed", "Открыта")
.prop("AssetFlows___txtFlowNumber___ValueDisplayed", primaryId)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_11asbv9</bpmn:incoming><bpmn:incoming>Flow_16di5j7</bpmn:incoming><bpmn:outgoing>Flow_1dbp52p</bpmn:outgoing></bpmn:serviceTask><bpmn:scriptTask id="Activity_04y5at8" name="MoneyDepositAssetflow = 0" scriptFormat="javascript"><bpmn:incoming>Flow_1ru678h</bpmn:incoming><bpmn:outgoing>Flow_0s2f1do</bpmn:outgoing><bpmn:script>execution.setVariable('MoneyDepositAssetflow', org.camunda.bpm.engine.variable.Variables.integerValue(0))</bpmn:script></bpmn:scriptTask><bpmn:userTask id="Activity_1xx0ts6" name="Заполнение количества" camunda:formKey="FILL" camunda:assignee="${initiator}" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="AssetFlows___txtQty___Value" label="Количество актива для обязательства" type="string" /><camunda:formField id="AssetFlows___dateFlowDate___ValueDisplayed" label="Дата  обязательства" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0pauq2v</bpmn:incoming><bpmn:incoming>Flow_092l6sy</bpmn:incoming><bpmn:incoming>Flow_1rx3o0c</bpmn:incoming><bpmn:outgoing>Flow_0gtasmf</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="Flow_0gtasmf" sourceRef="Activity_1xx0ts6" targetRef="Activity_1skpkss" /><bpmn:userTask id="Activity_0dpkj42" name="Заполнение параметров" camunda:formKey="FILL" camunda:assignee="${initiator}" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="AssetFlows___lkupClient___ValueDisplayed" label="Владелец обязательства" type="string" /><camunda:formField id="AssetFlows___txtQty___Value" label="Количество актива для обязательства" type="string" /><camunda:formField id="AssetFlows___dateRegDate___ValueDisplayed" label="Дата регистрации для обязательства" type="string" /><camunda:formField id="AssetflowCcy" label="Валюта  обязательства" type="string" /><camunda:formField id="F_Clearing_system" label="Расчетная орг-ция" type="string" /><camunda:formField id="AssetFlows___lkupBOAccountNumber___ValueDisplayed" label="Corp. Номер счета" type="string" /><camunda:formField id="AssetFlows___dateFlowDate___ValueDisplayed" label="Дата  обязательства" type="string" /><camunda:formField id="AssetFlows___memoComment___Value" label="Комментарий по Обязательству" type="string" /><camunda:formField id="hlk_book" label="Книга  обязательства" type="string" /><camunda:formField id="AssetFlows___lkupBook___ValueDisplayed" label="Книга для обязательства" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0szw8x8</bpmn:incoming><bpmn:incoming>Flow_06lsv8m</bpmn:incoming><bpmn:outgoing>Flow_073sxwn</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="Flow_073sxwn" sourceRef="Activity_0dpkj42" targetRef="Activity_1nh220k" /><bpmn:sequenceFlow id="Flow_0s2f1do" sourceRef="Activity_04y5at8" targetRef="ExclusiveGateway_06qhd84" /><bpmn:sequenceFlow id="Flow_0r9ka8s" sourceRef="UserTask_1wwttot" targetRef="ServiceTask_1a9pac6"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'ReturnBO'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1bcrsz6" sourceRef="ServiceTask_1jo3k6e" targetRef="Gateway_0ijnnis" /><bpmn:sequenceFlow id="Flow_1dbp52p" sourceRef="Activity_0xdq1g5" targetRef="Activity_0ltilwx" /><bpmn:sequenceFlow id="Flow_10vwqlz" sourceRef="Gateway_1746eot" targetRef="CallActivity_10spnlc"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${CS == "АО ЦЕНТРАЛЬНЫЙ ДЕПОЗИТАРИЙ ЦЕННЫХ БУМАГ" || CS == "АО Центральный депозитарий ценных бумаг" || CS == "KASE ЦК"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="Gateway_1746eot" default="Flow_1spbx7l"><bpmn:incoming>SequenceFlow_1bp0an3</bpmn:incoming><bpmn:outgoing>Flow_10vwqlz</bpmn:outgoing><bpmn:outgoing>Flow_1spbx7l</bpmn:outgoing><bpmn:outgoing>Flow_0pc4l99</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1spbx7l" sourceRef="Gateway_1746eot" targetRef="ServiceTask_1a9pac6" /><bpmn:serviceTask id="Activity_12u5umg" name="Значение референса"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=SWIFT_MESSAGE_ID</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="SWIFT_MESSAGE_ID"><camunda:script scriptFormat="javascript">JSON.parse(response).SWIFT_MESSAGE_ID</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0rv719q</bpmn:incoming><bpmn:outgoing>Flow_1myysas</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1myysas" sourceRef="Activity_12u5umg" targetRef="SubProcess_1qx40lm" /><bpmn:exclusiveGateway id="Gateway_0ky7p11" default="Flow_03il3r7"><bpmn:incoming>SequenceFlow_092dmwy</bpmn:incoming><bpmn:outgoing>Flow_03il3r7</bpmn:outgoing><bpmn:outgoing>Flow_1riwuq4</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_03il3r7" sourceRef="Gateway_0ky7p11" targetRef="ServiceTask_1mqb5qo" /><bpmn:sequenceFlow id="Flow_1riwuq4" sourceRef="Gateway_0ky7p11" targetRef="Activity_1rggm0t"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isCancel == "true"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1c1kirs" sourceRef="ServiceTask_14zch4r" targetRef="Activity_0bu8kwd" /><bpmn:endEvent id="Event_1vd7mr4"><bpmn:incoming>Flow_1n2jfy9</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_19kyxy2" /></bpmn:endEvent><bpmn:userTask id="Activity_0bu8kwd" name="Возврат на доработку, отмена" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Rewoke&#34;,&#34;label&#34;:&#34;Возврат на доработку&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="{&#34;id&#34;:&#34;Canc&#34;,&#34;label&#34;:&#34;Отмена операции&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_1c1kirs</bpmn:incoming><bpmn:outgoing>Flow_13y5k2u</bpmn:outgoing><bpmn:outgoing>Flow_12df0cx</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="Flow_13y5k2u" sourceRef="Activity_0bu8kwd" targetRef="Activity_0eh9yyy"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Canc'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_12df0cx" sourceRef="Activity_0bu8kwd" targetRef="Activity_1ixzi4p"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'Rewoke'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="Activity_0gh8k7m" name="завершить процесс" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1qu1yur</bpmn:incoming><bpmn:outgoing>Flow_1n2jfy9</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1n2jfy9" sourceRef="Activity_0gh8k7m" targetRef="Event_1vd7mr4" /><bpmn:serviceTask id="Activity_0eh9yyy" name="Меняем статус заявки Cancelled"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Cancelled</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_13y5k2u</bpmn:incoming><bpmn:outgoing>Flow_1qu1yur</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1qu1yur" sourceRef="Activity_0eh9yyy" targetRef="Activity_0gh8k7m" /><bpmn:serviceTask id="Activity_1rggm0t" name="Сохраняем P04"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/swift/attach/${swiftId}?type=ENRICHMENT&amp;instanceId=${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1riwuq4</bpmn:incoming><bpmn:outgoing>Flow_08ndsv4</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_08ndsv4" sourceRef="Activity_1rggm0t" targetRef="ServiceTask_14zch4r" /><bpmn:userTask id="Activity_0f2htlw" name="Заполнение параметров" camunda:formKey="FILL" camunda:assignee="${initiator}" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:formData><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="AssetFlows___lkupClient___ValueDisplayed" label="Владелец обязательства" type="string" /><camunda:formField id="AssetFlows___txtQty___Value" label="Количество актива для обязательства" type="string" /><camunda:formField id="AssetFlows___dateRegDate___ValueDisplayed" label="Дата регистрации для обязательства" type="string" /><camunda:formField id="AssetflowCcy" label="Валюта  обязательства" type="string" /><camunda:formField id="F_Clearing_system" label="Расчетная орг-ция" type="string" /><camunda:formField id="AssetFlows___lkupBOAccountNumber___ValueDisplayed" label="Corp. Номер счета" type="string" /><camunda:formField id="AssetFlows___dateFlowDate___ValueDisplayed" label="Дата  обязательства" type="string" /><camunda:formField id="AssetFlows___memoComment___Value" label="Комментарий по Обязательству" type="string" /><camunda:formField id="hlk_book" label="Книга  обязательства" type="string" /><camunda:formField id="AssetFlows___lkupBook___ValueDisplayed" label="Книга для обязательства" type="string" /></camunda:formData><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
data.templateId = templateId;
data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener></bpmn:extensionElements><bpmn:incoming>Flow_0jphxvf</bpmn:incoming><bpmn:outgoing>Flow_02y93p1</bpmn:outgoing></bpmn:userTask><bpmn:sequenceFlow id="Flow_02y93p1" sourceRef="Activity_0f2htlw" targetRef="CallActivity_10spnlc" /><bpmn:serviceTask id="Activity_1ixzi4p" name="Статус Заполнение: корректировка параметров"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+корректировка+параметров</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_12df0cx</bpmn:incoming><bpmn:incoming>SequenceFlow_0okmh0f</bpmn:incoming><bpmn:outgoing>Flow_0jphxvf</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0jphxvf" sourceRef="Activity_1ixzi4p" targetRef="Activity_0f2htlw" /><bpmn:scriptTask id="Activity_0ltilwx" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>Flow_1dbp52p</bpmn:incoming><bpmn:outgoing>Flow_0v13d0u</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": waiting for A signal")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0v13d0u" sourceRef="Activity_0ltilwx" targetRef="Event_0t1pznj" /><bpmn:scriptTask id="Activity_0pxcefv" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_12beq1t</bpmn:incoming><bpmn:outgoing>Flow_03v0jg0</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": waiting for B signal")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_03v0jg0" sourceRef="Activity_0pxcefv" targetRef="Event_0txorxf" /><bpmn:scriptTask id="Activity_1ht5wa8" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>Flow_0sxg9yd</bpmn:incoming><bpmn:outgoing>Flow_1slu9gj</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": ALL DONE!")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_1slu9gj" sourceRef="Activity_1ht5wa8" targetRef="ServiceTask_109hz9r" /><bpmn:serviceTask id="Activity_1nh220k" name="Получаем значения параметров: Дата, Дата регистрации, Сумма"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dateRegDate___ValueDisplayed&amp;systemName=AssetFlows___dateFlowDate___ValueDisplayed&amp;systemName=AssetFlows___txtQty___Value</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="RegDate"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dateRegDate___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="DT1"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dateFlowDate___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="Sum1"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___txtQty___Value</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_073sxwn</bpmn:incoming><bpmn:outgoing>Flow_0ai9eie</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0g59rrd" default="Flow_1a6c6v0"><bpmn:incoming>Flow_0ai9eie</bpmn:incoming><bpmn:outgoing>Flow_16l1s8k</bpmn:outgoing><bpmn:outgoing>Flow_1a6c6v0</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0ai9eie" sourceRef="Activity_1nh220k" targetRef="Gateway_0g59rrd" /><bpmn:serviceTask id="Activity_1vut1u7" name="Статус &#34;Заполнение: дата операции не раньше даты регистрации&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Дата+операции+не+раньше+даты+регистрации</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_16l1s8k</bpmn:incoming><bpmn:outgoing>Flow_06lsv8m</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_16l1s8k" sourceRef="Gateway_0g59rrd" targetRef="Activity_1vut1u7"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DT1 &lt; RegDate}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1a6c6v0" sourceRef="Gateway_0g59rrd" targetRef="Activity_0i95cxw" /><bpmn:sequenceFlow id="Flow_06lsv8m" sourceRef="Activity_1vut1u7" targetRef="Activity_0dpkj42" /><bpmn:serviceTask id="Activity_1skpkss" name="Получаем значения параметров: Дата, Дата регистрации, Сумма"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dateRegDate___ValueDisplayed&amp;systemName=AssetFlows___dateFlowDate___ValueDisplayed&amp;systemName=AssetFlows___txtQty___Value</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="RegDate"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dateRegDate___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="DT1"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dateFlowDate___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="Sum1"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___txtQty___Value</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0gtasmf</bpmn:incoming><bpmn:outgoing>Flow_09fioge</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_09fioge" sourceRef="Activity_1skpkss" targetRef="Gateway_0ka6t0d" /><bpmn:exclusiveGateway id="Gateway_0ka6t0d" default="Flow_1ymvwk6"><bpmn:incoming>Flow_09fioge</bpmn:incoming><bpmn:outgoing>Flow_1ymvwk6</bpmn:outgoing><bpmn:outgoing>Flow_0444u29</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1ymvwk6" sourceRef="Gateway_0ka6t0d" targetRef="Gateway_059hmwc" /><bpmn:serviceTask id="Activity_1lhtexu" name="Статус &#34;Заполнение: дата операции не раньше даты регистрации&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Дата+операции+не+раньше+даты+регистрации</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0444u29</bpmn:incoming><bpmn:outgoing>Flow_092l6sy</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0444u29" sourceRef="Gateway_0ka6t0d" targetRef="Activity_1lhtexu"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DT1 &lt; RegDate}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_092l6sy" sourceRef="Activity_1lhtexu" targetRef="Activity_1xx0ts6" /><bpmn:exclusiveGateway id="Gateway_0et0f2d" default="Flow_19jmgf6"><bpmn:incoming>Flow_1bu1zaa</bpmn:incoming><bpmn:outgoing>Flow_19jmgf6</bpmn:outgoing><bpmn:outgoing>Flow_1rrkw7z</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_19jmgf6" sourceRef="Gateway_0et0f2d" targetRef="ServiceTask_07g9f7j" /><bpmn:serviceTask id="Activity_1ft6xo2" name="Статус &#34;Заполнение: сумма не больше исходной суммы&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Сумма+не+больше+исходной+суммы</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1rrkw7z</bpmn:incoming><bpmn:outgoing>Flow_1rx3o0c</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1rrkw7z" sourceRef="Gateway_0et0f2d" targetRef="Activity_1ft6xo2"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Sum1 &gt; AssetFlows___txtQty___Value}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1rx3o0c" sourceRef="Activity_1ft6xo2" targetRef="Activity_1xx0ts6" /><bpmn:serviceTask id="Activity_08cxjrz" camunda:expression="true" camunda:resultVariable="swift"><bpmn:incoming>SequenceFlow_18mjkyk</bpmn:incoming><bpmn:outgoing>Flow_13dxzes</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_13dxzes" sourceRef="Activity_08cxjrz" targetRef="Activity_1cfcgtb" /><bpmn:serviceTask id="Activity_06plkms" camunda:expression="false" camunda:resultVariable="swift"><bpmn:incoming>SequenceFlow_0or7jn6</bpmn:incoming><bpmn:outgoing>Flow_1ru678h</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1yczur3" sourceRef="Gateway_0ijnnis" targetRef="UserTask_1wwttot"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${swift == false}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="Gateway_0ijnnis" default="Flow_16di5j7"><bpmn:incoming>Flow_1bcrsz6</bpmn:incoming><bpmn:outgoing>Flow_1yczur3</bpmn:outgoing><bpmn:outgoing>Flow_16di5j7</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_16di5j7" sourceRef="Gateway_0ijnnis" targetRef="Activity_0xdq1g5" /><bpmn:serviceTask id="Activity_0orqs77" name="Send payment"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">application/json</camunda:entry><camunda:entry key="Content-type">application/json;charset=utf-8</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">http://172.26.181.142:8092/v1/bcc/payments/crediting</camunda:inputParameter><camunda:inputParameter name="payload">{"amount":${amount}, "clientAccount":"${clientAccount}", "clientFullname":"${clientFullName}", "clientIIN":"${clientIIN}", "ntoperationid":${ntoperationid}}</camunda:inputParameter><camunda:outputParameter name="vStatusDescription"><camunda:script scriptFormat="javascript">JSON.parse(response).status.description</camunda:script></camunda:outputParameter><camunda:outputParameter name="vStatusCode"><camunda:script scriptFormat="javascript">JSON.parse(response).status.code</camunda:script></camunda:outputParameter><camunda:outputParameter name="referenceId"><camunda:script scriptFormat="javascript">JSON.parse(response).referenceId</camunda:script></camunda:outputParameter><camunda:outputParameter name="documentNumber"><camunda:script scriptFormat="javascript">JSON.parse(response).documentNumber</camunda:script></camunda:outputParameter><camunda:outputParameter name="success"><camunda:script scriptFormat="javascript">JSON.parse(response).success</camunda:script></camunda:outputParameter><camunda:outputParameter name="errCode"><camunda:script scriptFormat="javascript">JSON.parse(response).errCode</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector><camunda:inputOutput><camunda:outputParameter name="vSuccess">${success}</camunda:outputParameter><camunda:outputParameter name="vReferenceId">${referenceId}</camunda:outputParameter><camunda:outputParameter name="vDocumentNumber">${documentNumber}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>Flow_07osngh</bpmn:incoming><bpmn:outgoing>Flow_0bo1yn8</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_1slor9k"><bpmn:incoming>Flow_0bo1yn8</bpmn:incoming><bpmn:incoming>Flow_0hy10ds</bpmn:incoming><bpmn:outgoing>Flow_1wo9iul</bpmn:outgoing><bpmn:outgoing>Flow_0pkenrw</bpmn:outgoing><bpmn:outgoing>Flow_1pq1qu5</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_1w94lgc" name="Check payment"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">application/json</camunda:entry><camunda:entry key="Content-type">application/json;charset=utf-8</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">http://172.26.181.142:8092/v1/bcc/payments/status/${vReferenceId}</camunda:inputParameter><camunda:outputParameter name="vStatusDescription"><camunda:script scriptFormat="javascript">JSON.parse(response).status.description</camunda:script></camunda:outputParameter><camunda:outputParameter name="vStatusCode"><camunda:script scriptFormat="javascript">JSON.parse(response).status.code</camunda:script></camunda:outputParameter><camunda:outputParameter name="status"><camunda:script scriptFormat="javascript">JSON.parse(response).status</camunda:script></camunda:outputParameter><camunda:outputParameter name="success"><camunda:script scriptFormat="javascript">JSON.parse(response).success</camunda:script></camunda:outputParameter><camunda:outputParameter name="errCode"><camunda:script scriptFormat="javascript">JSON.parse(response).errCode</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector><camunda:inputOutput><camunda:outputParameter name="vSuccess">${success}</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>Flow_0udle45</bpmn:incoming><bpmn:outgoing>Flow_0hy10ds</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1wo9iul" name="CLIENT_SENT" sourceRef="Gateway_1slor9k" targetRef="Event_1jirea8"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{vStatusCode != "ERROR" &amp;&amp; vStatusCode != "ORDER_CANCELED" &amp;&amp; vStatusCode != "ORDER_CANCELED" &amp;&amp; vStatusCode != "CLIENT_NOT_CONFIRMED" &amp;&amp; vStatusCode != "BNK_DENIED" &amp;&amp; vStatusCode != "COMPLETED" &amp;&amp; vStatusCode != "BANK_ACCEPTED"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0bo1yn8" sourceRef="Activity_0orqs77" targetRef="Gateway_1slor9k" /><bpmn:sequenceFlow id="Flow_0pc4l99" name="BCC" sourceRef="Gateway_1746eot" targetRef="Activity_0dv73bj"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${CS == "АО БАНК ЦЕНТРКРЕДИТ"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:intermediateCatchEvent id="Event_1jirea8"><bpmn:incoming>Flow_1wo9iul</bpmn:incoming><bpmn:outgoing>Flow_0udle45</bpmn:outgoing><bpmn:timerEventDefinition id="TimerEventDefinition_0dhhdd7"><bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT30S</bpmn:timeDuration></bpmn:timerEventDefinition></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_0udle45" sourceRef="Event_1jirea8" targetRef="Activity_1w94lgc" /><bpmn:sequenceFlow id="Flow_0hy10ds" sourceRef="Activity_1w94lgc" targetRef="Gateway_1slor9k" /><bpmn:sequenceFlow id="Flow_0pfudrl" sourceRef="Activity_15ioj1v" targetRef="Activity_0q1puze" /><bpmn:serviceTask id="Activity_1forctz" name="GET CLIENT INFO"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___txtQty___Value&amp;getPrimaryId=AssetFlows___lkupClient___ValueDisplayed&amp;systemName=AssetFlows___external_id_link___Value</camunda:inputParameter><camunda:outputParameter name="ntoperationid"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___external_id_link___Value</camunda:script></camunda:outputParameter><camunda:outputParameter name="amount"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___txtQty___Value</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_15cnrks</bpmn:incoming><bpmn:outgoing>Flow_072htp1</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_15ioj1v" name="GET CLIENT IIN and FullName"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/individual/${clientId}/getAttributes?systemName=ShortName&amp;systemName=hlk_iin_bin</camunda:inputParameter><camunda:outputParameter name="clientFullName"><camunda:script scriptFormat="javascript">JSON.parse(response).ShortName</camunda:script></camunda:outputParameter><camunda:outputParameter name="clientIIN"><camunda:script scriptFormat="javascript">JSON.parse(response).hlk_iin_bin</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_02ua7ta</bpmn:incoming><bpmn:outgoing>Flow_0pfudrl</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_072htp1" sourceRef="Activity_1forctz" targetRef="Activity_1vxsokf" /><bpmn:sequenceFlow id="Flow_02ua7ta" sourceRef="Activity_1vxsokf" targetRef="Activity_15ioj1v" /><bpmn:serviceTask id="Activity_1vxsokf" name="Get id for individual"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getRefId/AssetFlows___lkupClient___ValueDisplayed</camunda:inputParameter><camunda:outputParameter name="clientId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_072htp1</bpmn:incoming><bpmn:outgoing>Flow_02ua7ta</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1dawvry" name="Get id for invoice"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getRefId/Account_SD</camunda:inputParameter><camunda:outputParameter name="InvoiceId">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1wbjw1i</bpmn:incoming><bpmn:outgoing>Flow_1ok2inp</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0qvvooa" name="GET CLIENT ACCOUNT NUMBER"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/invoice/${InvoiceId}/getAttributes?systemName=AccountNumber</camunda:inputParameter><camunda:outputParameter name="clientAccount"><camunda:script scriptFormat="javascript">JSON.parse(response).AccountNumber</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1ok2inp</bpmn:incoming><bpmn:outgoing>Flow_15cnrks</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_15cnrks" sourceRef="Activity_0qvvooa" targetRef="Activity_1forctz" /><bpmn:sequenceFlow id="Flow_1ok2inp" sourceRef="Activity_1dawvry" targetRef="Activity_0qvvooa" /><bpmn:task id="Activity_0dv73bj" name="Init InvoiceId"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="InvoiceId">""</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>Flow_0pc4l99</bpmn:incoming><bpmn:outgoing>Flow_1wbjw1i</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_1wbjw1i" sourceRef="Activity_0dv73bj" targetRef="Activity_1dawvry" /><bpmn:serviceTask id="Activity_0l2dno4" camunda:expression="true" camunda:resultVariable="swift"><bpmn:incoming>Flow_0pkenrw</bpmn:incoming><bpmn:incoming>Flow_1b9keqx</bpmn:incoming><bpmn:outgoing>Flow_1nekfwt</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0pkenrw" name="COMPLETED" sourceRef="Gateway_1slor9k" targetRef="Activity_0l2dno4"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{vStatusCode == "COMPLETED" || vStatusCode == "BANK_ACCEPTED"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1pq1qu5" name="ERROR" sourceRef="Gateway_1slor9k" targetRef="Activity_1j50lmr"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{vStatusCode == "ERROR" || vStatusCode == "ORDER_CANCELED" || vStatusCode == "ORDER_CANCELED" || vStatusCode == "CLIENT_NOT_CONFIRMED" || vStatusCode == "BNK_DENIED"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1nekfwt" sourceRef="Activity_0l2dno4" targetRef="Activity_1cfcgtb" /><bpmn:sequenceFlow id="Flow_1swto4c" sourceRef="Activity_0je2p1a" targetRef="Activity_0578gcv"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'ReturnBO1'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_07osngh" sourceRef="Activity_0q1puze" targetRef="Activity_0orqs77" /><bpmn:task id="Activity_0q1puze" name="Init vStatusDescription"><bpmn:extensionElements><camunda:inputOutput><camunda:outputParameter name="vStatusDescription">""</camunda:outputParameter></camunda:inputOutput></bpmn:extensionElements><bpmn:incoming>Flow_0pfudrl</bpmn:incoming><bpmn:outgoing>Flow_07osngh</bpmn:outgoing></bpmn:task><bpmn:sequenceFlow id="Flow_16v2m8n" sourceRef="Activity_0578gcv" targetRef="Activity_1a58vyv" /><bpmn:sequenceFlow id="Flow_1b9keqx" sourceRef="Activity_0je2p1a" targetRef="Activity_0l2dno4"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${buttonId == 'BO2'}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_15qusyu" sourceRef="Activity_1a58vyv" targetRef="Activity_0je2p1a" /><bpmn:sequenceFlow id="Flow_1ru678h" sourceRef="Activity_06plkms" targetRef="Activity_04y5at8" /><bpmn:serviceTask id="Activity_1j50lmr" name="Вносим текст ошибки в label"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=${vStatusDescription}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1pq1qu5</bpmn:incoming><bpmn:outgoing>Flow_0ox1bqr</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0ox1bqr" sourceRef="Activity_1j50lmr" targetRef="Activity_0je2p1a" /><bpmn:userTask id="Activity_0je2p1a" name="Возврат на доработку" camunda:candidateGroups="jira-users,cb_backoffice,accessadmin,headmiddleofice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;ReturnBO1&#34;,&#34;label&#34;:&#34;Возврат на доработку&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="{&#34;id&#34;:&#34;BO2&#34;,&#34;label&#34;:&#34;Подтвердить исполнение&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_0ox1bqr</bpmn:incoming><bpmn:incoming>Flow_15qusyu</bpmn:incoming><bpmn:outgoing>Flow_1b9keqx</bpmn:outgoing><bpmn:outgoing>Flow_1swto4c</bpmn:outgoing></bpmn:userTask><bpmn:userTask id="Activity_1a58vyv" name="Заполнение параметров" camunda:formKey="FILL" camunda:assignee="${initiator}" camunda:candidateGroups="jira-users,cb_backoffice,accessadmin,headmiddleofice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="AssetFlows___lkupBook___ValueDisplayed" label="Книга для обязательства" type="string" /><camunda:formField id="hlk_book" label="Книга  обязательства" type="string" /><camunda:formField id="AssetFlows___memoComment___Value" label="Комментарий по Обязательству" type="string" /><camunda:formField id="AssetFlows___dateFlowDate___ValueDisplayed" label="Дата  обязательства" type="string" /><camunda:formField id="AssetFlows___lkupBOAccountNumber___ValueDisplayed" label="Corp. Номер счета" type="string" /><camunda:formField id="F_Clearing_system" label="Расчетная орг-ция" type="string" /><camunda:formField id="AssetflowCcy" label="Валюта  обязательства" type="string" /><camunda:formField id="AssetFlows___dateRegDate___ValueDisplayed" label="Дата регистрации для обязательства" type="string" /><camunda:formField id="AssetFlows___txtQty___Value" label="Количество актива для обязательства" type="string" /><camunda:formField id="AssetFlows___lkupClient___ValueDisplayed" label="Владелец обязательства" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /><camunda:formField id="ezdocObjectUrl" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_16v2m8n</bpmn:incoming><bpmn:outgoing>Flow_15qusyu</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="Activity_0578gcv" name="Статус Заполнение: корректировка параметров"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+корректировка+параметров</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1swto4c</bpmn:incoming><bpmn:outgoing>Flow_16v2m8n</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1bu1zaa" sourceRef="Gateway_059hmwc" targetRef="Gateway_0et0f2d"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${hlk_source_doc=="Terminal"}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="Gateway_059hmwc" default="Flow_14fi5sk"><bpmn:incoming>Flow_1ymvwk6</bpmn:incoming><bpmn:outgoing>Flow_1bu1zaa</bpmn:outgoing><bpmn:outgoing>Flow_14fi5sk</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_14fi5sk" sourceRef="Gateway_059hmwc" targetRef="ServiceTask_07g9f7j" /><bpmn:intermediateCatchEvent id="Event_0t1pznj" camunda:asyncAfter="true"><bpmn:incoming>Flow_0v13d0u</bpmn:incoming><bpmn:outgoing>Flow_0qvng6j</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_1ldap20" messageRef="Message_03msgmq" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_0qvng6j" sourceRef="Event_0t1pznj" targetRef="ServiceTask_0f0351v" /><bpmn:intermediateCatchEvent id="Event_0txorxf" camunda:asyncAfter="true"><bpmn:incoming>Flow_03v0jg0</bpmn:incoming><bpmn:outgoing>Flow_0sxg9yd</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_0iirmvp" messageRef="Message_07all85" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_0sxg9yd" sourceRef="Event_0txorxf" targetRef="Activity_1ht5wa8" /><bpmn:scriptTask id="Activity_1f0owut" name="Идентификатор факта" scriptFormat="javascript" camunda:resultVariable="PrimaryId2"><bpmn:incoming>SequenceFlow_1i7u3ha</bpmn:incoming><bpmn:outgoing>Flow_0ic7nsb</bpmn:outgoing><bpmn:script>primaryId + "_F"</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0ic7nsb" sourceRef="Activity_1f0owut" targetRef="ServiceTask_1m8kqbn" /><bpmn:sequenceFlow id="Flow_17ea1t2" sourceRef="Activity_05r8uan" targetRef="ServiceTask_05vkll0" /><bpmn:scriptTask id="Activity_05r8uan" name="Log" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_0d2yr7c</bpmn:incoming><bpmn:outgoing>Flow_17ea1t2</bpmn:outgoing><bpmn:script>print(new Date () + ": Cancel Signal Recieved " + instanceId)</bpmn:script></bpmn:scriptTask></bpmn:process><bpmn:signal id="Signal_1i437b6" name="Signal_1jm6lvd" /><bpmn:signal id="Signal_0kf2t7w" name="NotifyAssetflowEnrichment${primaryId}" /><bpmn:signal id="Signal_0omz8oa" name="Cancell${instanceId}" /><bpmn:message id="Message_1immsln" name="P04Receive" /><bpmn:message id="Message_03ok4b9" name="P03Receive" /><bpmn:message id="Message_03msgmq" name="parentProcess" /><bpmn:message id="Message_07all85" name="parentProcess" /><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TEMPLATE_INSTANCE_PROCESS_hlk_input_cash_4a7a6ab5-3e5b-433a-bdba-df0e8ccec030"><bpmndi:BPMNEdge id="Flow_17ea1t2_di" bpmnElement="Flow_17ea1t2"><di:waypoint x="570" y="550" /><di:waypoint x="570" y="590" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ic7nsb_di" bpmnElement="Flow_0ic7nsb"><di:waypoint x="4320" y="311" /><di:waypoint x="4400" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0sxg9yd_di" bpmnElement="Flow_0sxg9yd"><di:waypoint x="4728" y="311" /><di:waypoint x="4770" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0qvng6j_di" bpmnElement="Flow_0qvng6j"><di:waypoint x="4008" y="311" /><di:waypoint x="4050" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14fi5sk_di" bpmnElement="Flow_14fi5sk"><di:waypoint x="1665" y="415" /><di:waypoint x="1665" y="351" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1bu1zaa_di" bpmnElement="Flow_1bu1zaa"><di:waypoint x="1690" y="440" /><di:waypoint x="1725" y="440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ox1bqr_di" bpmnElement="Flow_0ox1bqr"><di:waypoint x="850" y="1480" /><di:waypoint x="970" y="1480" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ru678h_di" bpmnElement="Flow_1ru678h"><di:waypoint x="330" y="311" /><di:waypoint x="380" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_15qusyu_di" bpmnElement="Flow_15qusyu"><di:waypoint x="1130" y="1400" /><di:waypoint x="1020" y="1400" /><di:waypoint x="1020" y="1440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1b9keqx_di" bpmnElement="Flow_1b9keqx"><di:waypoint x="1020" y="1520" /><di:waypoint x="1020" y="1570" /><di:waypoint x="1340" y="1570" /><di:waypoint x="1340" y="1650" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_16v2m8n_di" bpmnElement="Flow_16v2m8n"><di:waypoint x="1320" y="1440" /><di:waypoint x="1320" y="1400" /><di:waypoint x="1230" y="1400" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_07osngh_di" bpmnElement="Flow_07osngh"><di:waypoint x="580" y="1530" /><di:waypoint x="580" y="1550" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1swto4c_di" bpmnElement="Flow_1swto4c"><di:waypoint x="1070" y="1480" /><di:waypoint x="1290" y="1480" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1nekfwt_di" bpmnElement="Flow_1nekfwt"><di:waypoint x="1390" y="1690" /><di:waypoint x="1800" y="1690" /><di:waypoint x="1800" y="351" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1pq1qu5_di" bpmnElement="Flow_1pq1qu5"><di:waypoint x="680" y="1565" /><di:waypoint x="680" y="1480" /><di:waypoint x="750" y="1480" /><bpmndi:BPMNLabel><dc:Bounds x="696" y="1464" width="41" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0pkenrw_di" bpmnElement="Flow_0pkenrw"><di:waypoint x="680" y="1615" /><di:waypoint x="680" y="1690" /><di:waypoint x="1290" y="1690" /><bpmndi:BPMNLabel><dc:Bounds x="753" y="1673" width="69" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1wbjw1i_di" bpmnElement="Flow_1wbjw1i"><di:waypoint x="1060" y="1290" /><di:waypoint x="1027" y="1290" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ok2inp_di" bpmnElement="Flow_1ok2inp"><di:waypoint x="927" y="1290" /><di:waypoint x="900" y="1290" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_15cnrks_di" bpmnElement="Flow_15cnrks"><di:waypoint x="800" y="1290" /><di:waypoint x="760" y="1290" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_02ua7ta_di" bpmnElement="Flow_02ua7ta"><di:waypoint x="580" y="1330" /><di:waypoint x="580" y="1350" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_072htp1_di" bpmnElement="Flow_072htp1"><di:waypoint x="660" y="1290" /><di:waypoint x="630" y="1290" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0pfudrl_di" bpmnElement="Flow_0pfudrl"><di:waypoint x="580" y="1430" /><di:waypoint x="580" y="1450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hy10ds_di" bpmnElement="Flow_0hy10ds"><di:waypoint x="890" y="1630" /><di:waypoint x="890" y="1650" /><di:waypoint x="720" y="1650" /><di:waypoint x="690" y="1605" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0udle45_di" bpmnElement="Flow_0udle45"><di:waypoint x="768" y="1590" /><di:waypoint x="840" y="1590" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0pc4l99_di" bpmnElement="Flow_0pc4l99"><di:waypoint x="1193" y="1255" /><di:waypoint x="1193" y="1290" /><di:waypoint x="1160" y="1290" /><bpmndi:BPMNLabel><dc:Bounds x="798" y="1222" width="24" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0bo1yn8_di" bpmnElement="Flow_0bo1yn8"><di:waypoint x="630" y="1590" /><di:waypoint x="655" y="1590" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1wo9iul_di" bpmnElement="Flow_1wo9iul"><di:waypoint x="705" y="1590" /><di:waypoint x="732" y="1590" /><bpmndi:BPMNLabel><dc:Bounds x="1343" y="1643" width="74" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_16di5j7_di" bpmnElement="Flow_16di5j7"><di:waypoint x="3380" y="286" /><di:waypoint x="3380" y="210" /><di:waypoint x="3720" y="210" /><di:waypoint x="3720" y="271" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1yczur3_di" bpmnElement="Flow_1yczur3"><di:waypoint x="3405" y="311" /><di:waypoint x="3500" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_13dxzes_di" bpmnElement="Flow_13dxzes"><di:waypoint x="2710" y="1120" /><di:waypoint x="2710" y="570" /><di:waypoint x="1940" y="570" /><di:waypoint x="1940" y="330" /><di:waypoint x="1886" y="330" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1rx3o0c_di" bpmnElement="Flow_1rx3o0c"><di:waypoint x="1870" y="480" /><di:waypoint x="1870" y="769" /><di:waypoint x="1715" y="769" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1rrkw7z_di" bpmnElement="Flow_1rrkw7z"><di:waypoint x="1775" y="440" /><di:waypoint x="1820" y="440" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_19jmgf6_di" bpmnElement="Flow_19jmgf6"><di:waypoint x="1750" y="415" /><di:waypoint x="1750" y="380" /><di:waypoint x="1665" y="380" /><di:waypoint x="1665" y="351" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_092l6sy_di" bpmnElement="Flow_092l6sy"><di:waypoint x="1510" y="590" /><di:waypoint x="1510" y="769" /><di:waypoint x="1615" y="769" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0444u29_di" bpmnElement="Flow_0444u29"><di:waypoint x="1640" y="550" /><di:waypoint x="1560" y="550" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ymvwk6_di" bpmnElement="Flow_1ymvwk6"><di:waypoint x="1665" y="525" /><di:waypoint x="1665" y="465" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_09fioge_di" bpmnElement="Flow_09fioge"><di:waypoint x="1665" y="616" /><di:waypoint x="1665" y="575" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_06lsv8m_di" bpmnElement="Flow_06lsv8m"><di:waypoint x="1330" y="130" /><di:waypoint x="1330" y="271" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1a6c6v0_di" bpmnElement="Flow_1a6c6v0"><di:waypoint x="1465" y="90" /><di:waypoint x="1530" y="90" /><di:waypoint x="1530" y="271" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_16l1s8k_di" bpmnElement="Flow_16l1s8k"><di:waypoint x="1415" y="90" /><di:waypoint x="1380" y="90" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ai9eie_di" bpmnElement="Flow_0ai9eie"><di:waypoint x="1440" y="161" /><di:waypoint x="1440" y="115" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1slu9gj_di" bpmnElement="Flow_1slu9gj"><di:waypoint x="4870" y="311" /><di:waypoint x="4910" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_03v0jg0_di" bpmnElement="Flow_03v0jg0"><di:waypoint x="4650" y="311" /><di:waypoint x="4692" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0v13d0u_di" bpmnElement="Flow_0v13d0u"><di:waypoint x="3940" y="311" /><di:waypoint x="3972" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0jphxvf_di" bpmnElement="Flow_0jphxvf"><di:waypoint x="1605" y="1078" /><di:waypoint x="1510" y="1078" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_02y93p1_di" bpmnElement="Flow_02y93p1"><di:waypoint x="1410" y="1078" /><di:waypoint x="1320" y="1078" /><di:waypoint x="1320" y="1190" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_08ndsv4_di" bpmnElement="Flow_08ndsv4"><di:waypoint x="2000" y="1288" /><di:waypoint x="2040" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1qu1yur_di" bpmnElement="Flow_1qu1yur"><di:waypoint x="2440" y="1288" /><di:waypoint x="2490" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1n2jfy9_di" bpmnElement="Flow_1n2jfy9"><di:waypoint x="2590" y="1288" /><di:waypoint x="2632" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_12df0cx_di" bpmnElement="Flow_12df0cx"><di:waypoint x="2230" y="1248" /><di:waypoint x="2230" y="1078" /><di:waypoint x="1705" y="1078" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_13y5k2u_di" bpmnElement="Flow_13y5k2u"><di:waypoint x="2280" y="1288" /><di:waypoint x="2340" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1c1kirs_di" bpmnElement="Flow_1c1kirs"><di:waypoint x="2140" y="1288" /><di:waypoint x="2180" y="1288" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1riwuq4_di" bpmnElement="Flow_1riwuq4"><di:waypoint x="1950" y="1425" /><di:waypoint x="1950" y="1328" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_03il3r7_di" bpmnElement="Flow_03il3r7"><di:waypoint x="1975" y="1450" /><di:waypoint x="2370" y="1450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1myysas_di" bpmnElement="Flow_1myysas"><di:waypoint x="1710" y="1270" /><di:waypoint x="1710" y="1750" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1spbx7l_di" bpmnElement="Flow_1spbx7l"><di:waypoint x="1193" y="1205" /><di:waypoint x="1193" y="870" /><di:waypoint x="1615" y="870" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10vwqlz_di" bpmnElement="Flow_10vwqlz"><di:waypoint x="1218" y="1230" /><di:waypoint x="1270" y="1230" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1dbp52p_di" bpmnElement="Flow_1dbp52p"><di:waypoint x="3770" y="311" /><di:waypoint x="3840" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1bcrsz6_di" bpmnElement="Flow_1bcrsz6"><di:waypoint x="3300" y="311" /><di:waypoint x="3355" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0r9ka8s_di" bpmnElement="Flow_0r9ka8s"><di:waypoint x="3550" y="351" /><di:waypoint x="3550" y="880" /><di:waypoint x="1715" y="880" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0s2f1do_di" bpmnElement="Flow_0s2f1do"><di:waypoint x="480" y="311" /><di:waypoint x="545" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_073sxwn_di" bpmnElement="Flow_073sxwn"><di:waypoint x="1380" y="311" /><di:waypoint x="1440" y="311" /><di:waypoint x="1440" y="241" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0gtasmf_di" bpmnElement="Flow_0gtasmf"><di:waypoint x="1665" y="729" /><di:waypoint x="1665" y="696" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_134ljsf_di" bpmnElement="Flow_134ljsf"><di:waypoint x="2190" y="311" /><di:waypoint x="2275" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0z3u3d4_di" bpmnElement="Flow_0z3u3d4"><di:waypoint x="1715" y="311" /><di:waypoint x="1786" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_07qgan3_di" bpmnElement="Flow_07qgan3"><di:waypoint x="1936" y="160" /><di:waypoint x="1886" y="160" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0q4fvt7_di" bpmnElement="Flow_0q4fvt7"><di:waypoint x="1986" y="286" /><di:waypoint x="1986" y="200" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1xi4u9t_di" bpmnElement="Flow_1xi4u9t"><di:waypoint x="2011" y="311" /><di:waypoint x="2090" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_19bv6lf_di" bpmnElement="Flow_19bv6lf"><di:waypoint x="1886" y="311" /><di:waypoint x="1961" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1qajtoe_di" bpmnElement="Flow_1qajtoe"><di:waypoint x="1836" y="200" /><di:waypoint x="1836" y="271" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0okmh0f_di" bpmnElement="SequenceFlow_0okmh0f"><di:waypoint x="1849" y="1425" /><di:waypoint x="1849" y="1148" /><di:waypoint x="1655" y="1148" /><di:waypoint x="1655" y="1118" /><bpmndi:BPMNLabel><dc:Bounds x="1774" y="1165" width="71" height="53" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_18mjkyk_di" bpmnElement="SequenceFlow_18mjkyk"><di:waypoint x="2710" y="1410" /><di:waypoint x="2710" y="1200" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rv719q_di" bpmnElement="SequenceFlow_0rv719q"><di:waypoint x="1640" y="1230" /><di:waypoint x="1660" y="1230" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0foe5n0_di" bpmnElement="SequenceFlow_0foe5n0"><di:waypoint x="1808" y="1870" /><di:waypoint x="1849" y="1870" /><di:waypoint x="1849" y="1475" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_092dmwy_di" bpmnElement="SequenceFlow_092dmwy"><di:waypoint x="1874" y="1450" /><di:waypoint x="1925" y="1450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1bfxmj3_di" bpmnElement="SequenceFlow_1bfxmj3"><di:waypoint x="2470" y="1450" /><di:waypoint x="2660" y="1450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0wydg0l_di" bpmnElement="SequenceFlow_0wydg0l"><di:waypoint x="1500" y="1230" /><di:waypoint x="1540" y="1230" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_08iyfxb_di" bpmnElement="SequenceFlow_08iyfxb"><di:waypoint x="1370" y="1230" /><di:waypoint x="1400" y="1230" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_04rbkd1_di" bpmnElement="SequenceFlow_04rbkd1"><di:waypoint x="570" y="336" /><di:waypoint x="570" y="392" /><bpmndi:BPMNLabel><dc:Bounds x="132" y="842.5" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ovcvwb_di" bpmnElement="SequenceFlow_1ovcvwb"><di:waypoint x="570" y="670" /><di:waypoint x="570" y="751" /><bpmndi:BPMNLabel><dc:Bounds x="465" y="1000" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0d2yr7c_di" bpmnElement="SequenceFlow_0d2yr7c"><di:waypoint x="570" y="428" /><di:waypoint x="570" y="470" /><bpmndi:BPMNLabel><dc:Bounds x="238" y="1000" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1si2etk_di" bpmnElement="SequenceFlow_1si2etk"><di:waypoint x="595" y="311" /><di:waypoint x="700" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="182.5" y="630" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1bp0an3_di" bpmnElement="SequenceFlow_1bp0an3"><di:waypoint x="1090" y="1032" /><di:waypoint x="1090" y="1230" /><di:waypoint x="1168" y="1230" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1ysguw5_di" bpmnElement="SequenceFlow_1ysguw5"><di:waypoint x="1079" y="920" /><di:waypoint x="1079" y="952" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1yf56eh_di" bpmnElement="SequenceFlow_1yf56eh"><di:waypoint x="1079" y="465" /><di:waypoint x="1079" y="496" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_13dwhdm_di" bpmnElement="SequenceFlow_13dwhdm"><di:waypoint x="1079" y="576" /><di:waypoint x="1079" y="610" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1f4fu6b_di" bpmnElement="SequenceFlow_1f4fu6b"><di:waypoint x="1079" y="690" /><di:waypoint x="1079" y="729" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_09j6zib_di" bpmnElement="SequenceFlow_09j6zib"><di:waypoint x="1079" y="809" /><di:waypoint x="1079" y="840" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0pauq2v_di" bpmnElement="SequenceFlow_0pauq2v"><di:waypoint x="1665" y="840" /><di:waypoint x="1665" y="809" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1c5y785_di" bpmnElement="Flow_1c5y785"><di:waypoint x="3138" y="311" /><di:waypoint x="3200" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1af3qa6_di" bpmnElement="SequenceFlow_1af3qa6"><di:waypoint x="1580" y="311" /><di:waypoint x="1615" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1nvezbx_di" bpmnElement="SequenceFlow_1nvezbx"><di:waypoint x="1079" y="336" /><di:waypoint x="1079" y="385" /><bpmndi:BPMNLabel><dc:Bounds x="1083" y="350" width="51" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0wklxaj_di" bpmnElement="SequenceFlow_0wklxaj"><di:waypoint x="1104" y="311" /><di:waypoint x="1144" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1r0hvhm_di" bpmnElement="SequenceFlow_1r0hvhm"><di:waypoint x="800" y="311" /><di:waypoint x="1054" y="311" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0bae9c7_di" bpmnElement="SequenceFlow_0bae9c7"><di:waypoint x="2630" y="440" /><di:waypoint x="2687" y="440" /><bpmndi:BPMNLabel><dc:Bounds x="571.5" y="444" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1tqwfvc_di" bpmnElement="SequenceFlow_1tqwfvc"><di:waypoint x="2630" y="311" /><di:waypoint x="2687" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="576.5" y="226" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_11asbv9_di" bpmnElement="SequenceFlow_11asbv9"><di:waypoint x="3600" y="311" /><di:waypoint x="3670" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="1370" y="99" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12beq1t_di" bpmnElement="SequenceFlow_12beq1t"><di:waypoint x="4500" y="311" /><di:waypoint x="4550" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="1650" y="99" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1i7u3ha_di" bpmnElement="SequenceFlow_1i7u3ha"><di:waypoint x="4150" y="311" /><di:waypoint x="4220" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="1510" y="99" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_12tmiuy_di" bpmnElement="SequenceFlow_12tmiuy"><di:waypoint x="5010" y="311" /><di:waypoint x="5070" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="1794.5" y="99" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16atttm_di" bpmnElement="SequenceFlow_16atttm"><di:waypoint x="5170" y="311" /><di:waypoint x="5222" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="2104.5" y="99" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_04yk3s2_di" bpmnElement="SequenceFlow_04yk3s2"><di:waypoint x="3016" y="311" /><di:waypoint x="3038" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="889" y="99" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0tqs6yo_di" bpmnElement="SequenceFlow_0tqs6yo"><di:waypoint x="2710" y="120" /><di:waypoint x="2991" y="120" /><di:waypoint x="2991" y="286" /><bpmndi:BPMNLabel><dc:Bounds x="762.5" y="-21" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0k4jcvg_di" bpmnElement="SequenceFlow_0k4jcvg"><di:waypoint x="2300" y="286" /><di:waypoint x="2300" y="120" /><di:waypoint x="2416" y="120" /><bpmndi:BPMNLabel><dc:Bounds x="266" y="6" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ychsqa_di" bpmnElement="SequenceFlow_0ychsqa"><di:waypoint x="2516" y="120" /><di:waypoint x="2610" y="120" /><bpmndi:BPMNLabel><dc:Bounds x="520" y="-92" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1djrala_di" bpmnElement="SequenceFlow_1djrala"><di:waypoint x="2940" y="311" /><di:waypoint x="2966" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="818.5" y="226" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1di4qan_di" bpmnElement="SequenceFlow_1di4qan"><di:waypoint x="2930" y="440" /><di:waypoint x="2991" y="440" /><di:waypoint x="2991" y="336" /><bpmndi:BPMNLabel><dc:Bounds x="822.5" y="444" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0z0f1zd_di" bpmnElement="SequenceFlow_0z0f1zd"><di:waypoint x="2787" y="440" /><di:waypoint x="2830" y="440" /><bpmndi:BPMNLabel><dc:Bounds x="670.5" y="444" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0ueqly4_di" bpmnElement="SequenceFlow_0ueqly4"><di:waypoint x="2480" y="440" /><di:waypoint x="2530" y="440" /><bpmndi:BPMNLabel><dc:Bounds x="391" y="444" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0y62ltn_di" bpmnElement="SequenceFlow_0y62ltn"><di:waypoint x="2787" y="311" /><di:waypoint x="2840" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="666.5" y="226" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_05hvrhd_di" bpmnElement="SequenceFlow_05hvrhd"><di:waypoint x="2480" y="311" /><di:waypoint x="2530" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="396" y="226" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1o8p9lo_di" bpmnElement="SequenceFlow_1o8p9lo"><di:waypoint x="2300" y="336" /><di:waypoint x="2300" y="440" /><di:waypoint x="2380" y="440" /><bpmndi:BPMNLabel><dc:Bounds x="266" y="299" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1we8zau_di" bpmnElement="SequenceFlow_1we8zau"><di:waypoint x="2325" y="311" /><di:waypoint x="2380" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="221" y="190" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0szw8x8_di" bpmnElement="SequenceFlow_0szw8x8"><di:waypoint x="1244" y="311" /><di:waypoint x="1280" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="-74.5" y="99" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0or7jn6_di" bpmnElement="SequenceFlow_0or7jn6"><di:waypoint x="188" y="311" /><di:waypoint x="230" y="311" /><bpmndi:BPMNLabel><dc:Bounds x="20" y="630" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds x="152" y="293" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="-417" y="138" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1xwuw6c_di" bpmnElement="ServiceTask_1xwuw6c"><dc:Bounds x="1144" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_07g9f7j_di" bpmnElement="ServiceTask_07g9f7j"><dc:Bounds x="1615" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1xznj9b_di" bpmnElement="ExclusiveGateway_1engspg"><dc:Bounds x="2275" y="286" width="50" height="50" /><bpmndi:BPMNLabel><dc:Bounds x="286" y="114" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0v0na1n_di" bpmnElement="ServiceTask_0v0na1n"><dc:Bounds x="2380" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1t4ujvm_di" bpmnElement="ServiceTask_1t4ujvm"><dc:Bounds x="2380" y="400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0vle74d_di" bpmnElement="ServiceTask_0vle74d"><dc:Bounds x="2687" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0hozdrr_di" bpmnElement="ServiceTask_0hozdrr"><dc:Bounds x="2840" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_015jegl_di" bpmnElement="ServiceTask_015jegl"><dc:Bounds x="2687" y="400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1x19tih_di" bpmnElement="ServiceTask_1x19tih"><dc:Bounds x="2830" y="400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_19ai29l_di" bpmnElement="ExclusiveGateway_1s3fpcd"><dc:Bounds x="2966" y="286" width="50" height="50" /><bpmndi:BPMNLabel><dc:Bounds x="853" y="73" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1sxrs1r_di" bpmnElement="ServiceTask_1sxrs1r"><dc:Bounds x="2416" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1xv971v_di" bpmnElement="ServiceTask_1xv971v"><dc:Bounds x="2610" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1jo3k6e_di" bpmnElement="ServiceTask_1jo3k6e"><dc:Bounds x="3200" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1m8kqbn_di" bpmnElement="ServiceTask_1m8kqbn"><dc:Bounds x="4400" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0f0351v_di" bpmnElement="ServiceTask_0f0351v"><dc:Bounds x="4050" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1g6d86b_di" bpmnElement="ServiceTask_1g6d86b"><dc:Bounds x="5070" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1wwttot_di" bpmnElement="UserTask_1wwttot" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="3500" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_109hz9r_di" bpmnElement="ServiceTask_109hz9r"><dc:Bounds x="4910" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0i95cxw_di" bpmnElement="Activity_0i95cxw"><dc:Bounds x="1480" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_08zhwch_di" bpmnElement="ServiceTask_08zhwch"><dc:Bounds x="2530" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0p2smi4_di" bpmnElement="ServiceTask_0p2smi4"><dc:Bounds x="2530" y="400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1vd2l3i_di" bpmnElement="ServiceTask_1vd2l3i"><dc:Bounds x="3038" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_07imo34_di" bpmnElement="ServiceTask_07imo34"><dc:Bounds x="700" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0ie0brg_di" bpmnElement="ExclusiveGateway_0ie0brg" isMarkerVisible="true"><dc:Bounds x="1054" y="286" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1a9pac6_di" bpmnElement="ServiceTask_1a9pac6"><dc:Bounds x="1615" y="840" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1u7etjq_di" bpmnElement="ServiceTask_1u7etjq"><dc:Bounds x="1029" y="610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1vutj6z_di" bpmnElement="ServiceTask_1vutj6z"><dc:Bounds x="1029" y="729" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0uhetjf_di" bpmnElement="ServiceTask_0uhetjf"><dc:Bounds x="1029" y="496" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ScriptTask_0mpu2md_di" bpmnElement="ScriptTask_0mpu2md"><dc:Bounds x="1029" y="385" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1637had_di" bpmnElement="ServiceTask_1637had"><dc:Bounds x="1029" y="840" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0mxjf6r_di" bpmnElement="ServiceTask_0mxjf6r"><dc:Bounds x="1029" y="952" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_08dq68c_di" bpmnElement="ExclusiveGateway_06qhd84"><dc:Bounds x="545" y="286" width="50" height="50" /><bpmndi:BPMNLabel><dc:Bounds x="116.519" y="604" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="IntermediateCatchEvent_1leph8w_di" bpmnElement="IntermediateCatchEvent_1leph8w"><dc:Bounds x="552" y="392" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="125" y="1039" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_05vkll0_di" bpmnElement="ServiceTask_05vkll0"><dc:Bounds x="520" y="590" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_093c5sg_di" bpmnElement="EndEvent_093c5sg"><dc:Bounds x="552" y="751" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="560" y="1043" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1llcv3n_di" bpmnElement="EndEvent_0kyr2ry"><dc:Bounds x="5222" y="293" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="CallActivity_10spnlc_di" bpmnElement="CallActivity_10spnlc" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="1270" y="1190" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0ce76i9_di" bpmnElement="ServiceTask_0ce76i9"><dc:Bounds x="1400" y="1190" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0pgg3j7_di" bpmnElement="ServiceTask_0pgg3j7"><dc:Bounds x="1540" y="1190" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1mqb5qo_di" bpmnElement="ServiceTask_1mqb5qo"><dc:Bounds x="2370" y="1410" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_05z7u0d_di" bpmnElement="ServiceTask_05z7u0d"><dc:Bounds x="2660" y="1410" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="SubProcess_1qx40lm_di" bpmnElement="SubProcess_1qx40lm" isExpanded="true"><dc:Bounds x="900" y="1750" width="908" height="418" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="Flow_1yrt5nn_di" bpmnElement="Flow_1yrt5nn"><di:waypoint x="1480" y="2058" /><di:waypoint x="1682" y="2058" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0vywvok_di" bpmnElement="Flow_0vywvok"><di:waypoint x="1330" y="2058" /><di:waypoint x="1380" y="2058" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_07whrxc_di" bpmnElement="Flow_07whrxc"><di:waypoint x="1190" y="2058" /><di:waypoint x="1230" y="2058" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0n164ia_di" bpmnElement="Flow_0n164ia"><di:waypoint x="1030" y="1953" /><di:waypoint x="1030" y="2058" /><di:waypoint x="1090" y="2058" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_127b35v_di" bpmnElement="Flow_127b35v"><di:waypoint x="1490" y="1928" /><di:waypoint x="1682" y="1928" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0rhussi_di" bpmnElement="Flow_0rhussi"><di:waypoint x="1490" y="1818" /><di:waypoint x="1682" y="1818" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0bjtvqk_di" bpmnElement="SequenceFlow_0bjtvqk"><di:waypoint x="968" y="1928" /><di:waypoint x="1005" y="1928" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1vq6mna_di" bpmnElement="SequenceFlow_1vq6mna"><di:waypoint x="1055" y="1928" /><di:waypoint x="1090" y="1928" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0rj2d39_di" bpmnElement="SequenceFlow_0rj2d39"><di:waypoint x="1030" y="1903" /><di:waypoint x="1030" y="1818" /><di:waypoint x="1090" y="1818" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_081e27u_di" bpmnElement="SequenceFlow_081e27u"><di:waypoint x="1190" y="1818" /><di:waypoint x="1230" y="1818" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0qjfz4m_di" bpmnElement="SequenceFlow_0qjfz4m"><di:waypoint x="1330" y="1818" /><di:waypoint x="1390" y="1818" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_03nqvmr_di" bpmnElement="SequenceFlow_03nqvmr"><di:waypoint x="1190" y="1928" /><di:waypoint x="1230" y="1928" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_03bvtyx_di" bpmnElement="SequenceFlow_03bvtyx"><di:waypoint x="1330" y="1928" /><di:waypoint x="1390" y="1928" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="StartEvent_0rtu4g3_di" bpmnElement="StartEvent_0rtu4g3"><dc:Bounds x="932" y="1910" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_17gdtsh_di" bpmnElement="ParallelGateway_17gdtsh"><dc:Bounds x="1005" y="1903" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ReceiveTask_1cog4kp_di" bpmnElement="ReceiveTask_1cog4kp"><dc:Bounds x="1090" y="1888" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1oto0k4_di" bpmnElement="UserTask_1oto0k4" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1090" y="1778" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_12twobj_di" bpmnElement="ServiceTask_12twobj"><dc:Bounds x="1230" y="1778" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_1606vt7_di" bpmnElement="EndEvent_1606vt7"><dc:Bounds x="1682" y="1800" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_0hhja55_di" bpmnElement="EndEvent_0hhja55"><dc:Bounds x="1682" y="1910" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1kf1rlh_di" bpmnElement="ServiceTask_1kf1rlh"><dc:Bounds x="1230" y="1888" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1sab8r2_di" bpmnElement="Activity_1sab8r2"><dc:Bounds x="1390" y="1778" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0hfq82l_di" bpmnElement="Activity_0hfq82l"><dc:Bounds x="1390" y="1888" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_187pmra_di" bpmnElement="Activity_187pmra"><dc:Bounds x="1090" y="2018" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0cd7goi_di" bpmnElement="Activity_0cd7goi"><dc:Bounds x="1230" y="2018" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1rwd3o2_di" bpmnElement="Activity_1rwd3o2"><dc:Bounds x="1380" y="2018" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0t4wlax_di" bpmnElement="Event_0t4wlax"><dc:Bounds x="1682" y="2040" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ExclusiveGateway_0lfl1ro_di" bpmnElement="ExclusiveGateway_0lfl1ro" isMarkerVisible="true"><dc:Bounds x="1824" y="1425" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_14zch4r_di" bpmnElement="ServiceTask_14zch4r"><dc:Bounds x="2040" y="1248" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1cfcgtb_di" bpmnElement="Activity_1cfcgtb"><dc:Bounds x="1786" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1mj5dpj_di" bpmnElement="Gateway_1mj5dpj" isMarkerVisible="true"><dc:Bounds x="1961" y="286" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_19lhj7f_di" bpmnElement="Activity_19lhj7f"><dc:Bounds x="2090" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0f98m5h_di" bpmnElement="Activity_0f98m5h"><dc:Bounds x="1936" y="120" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0rggdtn_di" bpmnElement="Activity_0rggdtn" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1786" y="120" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0xdq1g5_di" bpmnElement="Activity_0xdq1g5" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)"><dc:Bounds x="3670" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_04y5at8_di" bpmnElement="Activity_04y5at8"><dc:Bounds x="380" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1xx0ts6_di" bpmnElement="Activity_1xx0ts6" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1615" y="729" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0dpkj42_di" bpmnElement="Activity_0dpkj42" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1280" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_07nzxd9_di" bpmnElement="Gateway_1746eot" isMarkerVisible="true"><dc:Bounds x="1168" y="1205" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_12u5umg_di" bpmnElement="Activity_12u5umg"><dc:Bounds x="1660" y="1190" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0ky7p11_di" bpmnElement="Gateway_0ky7p11" isMarkerVisible="true"><dc:Bounds x="1925" y="1425" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1vd7mr4_di" bpmnElement="Event_1vd7mr4"><dc:Bounds x="2632" y="1270" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0bu8kwd_di" bpmnElement="Activity_0bu8kwd" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="2180" y="1248" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0gh8k7m_di" bpmnElement="Activity_0gh8k7m"><dc:Bounds x="2490" y="1248" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0eh9yyy_di" bpmnElement="Activity_0eh9yyy"><dc:Bounds x="2340" y="1248" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1rggm0t_di" bpmnElement="Activity_1rggm0t"><dc:Bounds x="1900" y="1248" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0f2htlw_di" bpmnElement="Activity_0f2htlw" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)"><dc:Bounds x="1410" y="1038" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1ixzi4p_di" bpmnElement="Activity_1ixzi4p"><dc:Bounds x="1605" y="1038" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ltilwx_di" bpmnElement="Activity_0ltilwx" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="3840" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0pxcefv_di" bpmnElement="Activity_0pxcefv" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="4550" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1ht5wa8_di" bpmnElement="Activity_1ht5wa8" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="4770" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1nh220k_di" bpmnElement="Activity_1nh220k"><dc:Bounds x="1390" y="161" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0g59rrd_di" bpmnElement="Gateway_0g59rrd" isMarkerVisible="true"><dc:Bounds x="1415" y="65" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1vut1u7_di" bpmnElement="Activity_1vut1u7"><dc:Bounds x="1280" y="50" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1skpkss_di" bpmnElement="Activity_1skpkss"><dc:Bounds x="1615" y="616" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0ka6t0d_di" bpmnElement="Gateway_0ka6t0d" isMarkerVisible="true"><dc:Bounds x="1640" y="525" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1lhtexu_di" bpmnElement="Activity_1lhtexu"><dc:Bounds x="1460" y="510" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0et0f2d_di" bpmnElement="Gateway_0et0f2d" isMarkerVisible="true"><dc:Bounds x="1725" y="415" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1ft6xo2_di" bpmnElement="Activity_1ft6xo2"><dc:Bounds x="1820" y="400" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_08cxjrz_di" bpmnElement="Activity_08cxjrz"><dc:Bounds x="2660" y="1120" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_06plkms_di" bpmnElement="Activity_06plkms"><dc:Bounds x="230" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1po9uba_di" bpmnElement="Gateway_0ijnnis" isMarkerVisible="true"><dc:Bounds x="3355" y="286" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0orqs77_di" bpmnElement="Activity_0orqs77" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="530" y="1550" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1slor9k_di" bpmnElement="Gateway_1slor9k" isMarkerVisible="true"><dc:Bounds x="655" y="1565" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1w94lgc_di" bpmnElement="Activity_1w94lgc"><dc:Bounds x="840" y="1550" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1jirea8_di" bpmnElement="Event_1jirea8"><dc:Bounds x="732" y="1572" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0kscr04_di" bpmnElement="Activity_1forctz"><dc:Bounds x="660" y="1250" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0kvz1vs_di" bpmnElement="Activity_15ioj1v"><dc:Bounds x="530" y="1350" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_13ob9t7_di" bpmnElement="Activity_1vxsokf"><dc:Bounds x="530" y="1250" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1dawvry_di" bpmnElement="Activity_1dawvry"><dc:Bounds x="927" y="1250" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0qvvooa_di" bpmnElement="Activity_0qvvooa"><dc:Bounds x="800" y="1250" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0dv73bj_di" bpmnElement="Activity_0dv73bj"><dc:Bounds x="1060" y="1250" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0l2dno4_di" bpmnElement="Activity_0l2dno4"><dc:Bounds x="1290" y="1650" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_06vtcvy_di" bpmnElement="Activity_0q1puze"><dc:Bounds x="530" y="1450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1j50lmr_di" bpmnElement="Activity_1j50lmr"><dc:Bounds x="750" y="1440" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0je2p1a_di" bpmnElement="Activity_0je2p1a"><dc:Bounds x="970" y="1440" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1a58vyv_di" bpmnElement="Activity_1a58vyv"><dc:Bounds x="1130" y="1360" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0578gcv_di" bpmnElement="Activity_0578gcv"><dc:Bounds x="1290" y="1440" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1ippi27_di" bpmnElement="Gateway_059hmwc" isMarkerVisible="true"><dc:Bounds x="1640" y="415" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0t1pznj_di" bpmnElement="Event_0t1pznj"><dc:Bounds x="3972" y="293" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0txorxf_di" bpmnElement="Event_0txorxf"><dc:Bounds x="4692" y="293" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1f0owut_di" bpmnElement="Activity_1f0owut"><dc:Bounds x="4220" y="271" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1fxixpv_di" bpmnElement="Activity_05r8uan"><dc:Bounds x="520" y="470" width="100" height="80" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.2.0"><bpmn:process id="TEMPLATE_INSTANCE_PROCESS_hlk_Contribution_109ea2f2-53ef-446b-8e71-429bff6d2afc" name="НТО - зачисление" isExecutable="true"><bpmn:documentation /><bpmn:startEvent id="StartEvent_1" camunda:asyncBefore="true"><bpmn:outgoing>SequenceFlow_0or7jn6</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id="SequenceFlow_0or7jn6" sourceRef="StartEvent_1" targetRef="Gateway_1ymrv9w" /><bpmn:userTask id="UserTask_0g8v393" name="Подтверждение исполнения пользователем" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;BO&#34;,&#34;label&#34;:&#34;Подтвердить исполнение&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1820vqk</bpmn:incoming><bpmn:outgoing>SequenceFlow_0gr84eo</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_13r0m9q" name="Статус Подтверждено"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Подтверждено</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0gr84eo</bpmn:incoming><bpmn:outgoing>SequenceFlow_0lld34p</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0gr84eo" sourceRef="UserTask_0g8v393" targetRef="ServiceTask_13r0m9q" /><bpmn:serviceTask id="ServiceTask_0kzxb6d" name="Поиск об-ва"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/obligations/one/by-attribute?name=AssetFlows___lkupFlowType___Value&amp;value=56</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="OutputCash">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0lld34p</bpmn:incoming><bpmn:outgoing>SequenceFlow_1r1dlc4</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0lld34p" sourceRef="ServiceTask_13r0m9q" targetRef="ServiceTask_0kzxb6d" /><bpmn:sequenceFlow id="SequenceFlow_1r1dlc4" sourceRef="ServiceTask_0kzxb6d" targetRef="Activity_0ifrp7g" /><bpmn:serviceTask id="ServiceTask_1ixzc53" name="Статус В обработке: формирование движений"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=В+обработке:+Формирование+движений</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1xdhvx1</bpmn:incoming><bpmn:outgoing>Flow_03a4bf0</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1j8wpdh" name="Достаем primaryId объекта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "enrichment",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0wgeziq</bpmn:incoming><bpmn:incoming>Flow_1nniq32</bpmn:incoming><bpmn:incoming>Flow_18ji3mc</bpmn:incoming><bpmn:incoming>Flow_1vmvrp2</bpmn:incoming><bpmn:incoming>Flow_1dhtqju</bpmn:incoming><bpmn:outgoing>SequenceFlow_0uq86zx</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0s52r8b" name="Записываем внешний ID"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttribute/hlk_EzDoc_ID?value=${primaryId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0uq86zx</bpmn:incoming><bpmn:outgoing>SequenceFlow_0jdqy9t</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0jdqy9t" sourceRef="ServiceTask_0s52r8b" targetRef="ServiceTask_00zvxbl" /><bpmn:sequenceFlow id="SequenceFlow_0uq86zx" sourceRef="ServiceTask_1j8wpdh" targetRef="ServiceTask_0s52r8b" /><bpmn:serviceTask id="ServiceTask_00zvxbl" name="создание обязательств" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/sendInstanceTo/ENRICHMENT_OBLIGATION/${instanceId}?closedSegment=false</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("AssetFlows___dtFlowDate___ValueDisplayed", DT1)
.prop("AssetFlow___Id___Value", primaryId + "_P")
.prop("AssetFlow___FlowDate___Value", DT1)
.prop("AssetFlows___radioFactPlan___ValueDisplayed", "План")
.prop("AssetFlows___lkupFlowType___Value", "56")
.prop("AssetFlows___txtStatus___ValueDisplayed", "Открыта")
.prop("AssetFlows___txtFlowNumber___ValueDisplayed", ID_EXT)
.prop("AssetFlows___luAsset___ValueDisplayed", Instr_NAME)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0jdqy9t</bpmn:incoming><bpmn:outgoing>Flow_1tp3h93</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0cc01v4" name="Статус &#34;Заполнение: дата операции&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Дата+операции</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_064ig4m</bpmn:incoming><bpmn:outgoing>SequenceFlow_166ey6j</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_166ey6j" sourceRef="ServiceTask_0cc01v4" targetRef="UserTask_1vn021g" /><bpmn:userTask id="UserTask_1vn021g" name="Заполнение: дата операции" camunda:formKey="FILL" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="AssetFlows___dtFlowDate___ValueDisplayed" label="Дата Обязательства" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>SequenceFlow_166ey6j</bpmn:incoming><bpmn:incoming>Flow_1tm7ahi</bpmn:incoming><bpmn:outgoing>Flow_1yyw31g</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_16ccapp" name="Статус &#34;Заполнение: Подтверждение операции&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Подтверждение+операции</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0cbkiaa</bpmn:incoming><bpmn:outgoing>SequenceFlow_1820vqk</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1820vqk" sourceRef="ServiceTask_16ccapp" targetRef="UserTask_0g8v393" /><bpmn:sequenceFlow id="Flow_03a4bf0" sourceRef="ServiceTask_1ixzc53" targetRef="Activity_0f5crco" /><bpmn:serviceTask id="Activity_0bstp38" name="завершить процесс" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1odb97a</bpmn:incoming><bpmn:outgoing>Flow_1cex86q</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1cex86q" sourceRef="Activity_0bstp38" targetRef="Event_1q01j7t" /><bpmn:sequenceFlow id="Flow_1tp3h93" sourceRef="ServiceTask_00zvxbl" targetRef="Activity_1w0fi64" /><bpmn:serviceTask id="ServiceTask_1os8yx2" name="Создание фактов" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment-obligation/fact/${OutputCash}?AssetFlows___radioFactPlan___ValueDisplayed=Факт&amp;AssetFlows___dtFlowDate___ValueDisplayed=${DT2}&amp;AssetFlow___FlowDate___Value=${DT2}&amp;AssetFlow___Id___Value=${PrimaryId2}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1sh5upv</bpmn:incoming><bpmn:outgoing>SequenceFlow_03bs9e9</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_03bs9e9" sourceRef="ServiceTask_1os8yx2" targetRef="Activity_0aq8gvw" /><bpmn:serviceTask id="Activity_0jitrxu" name="Установка атрибутов"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{"hlk_cancel_plan" : "false","hlk_create_plan" : "false"}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1vq1xiw</bpmn:incoming><bpmn:outgoing>Flow_064ig4m</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_064ig4m" sourceRef="Activity_0jitrxu" targetRef="ServiceTask_0cc01v4" /><bpmn:sequenceFlow id="Flow_1xdhvx1" sourceRef="Gateway_1ymrv9w" targetRef="ServiceTask_1ixzc53" /><bpmn:parallelGateway id="Gateway_1ymrv9w"><bpmn:incoming>SequenceFlow_0or7jn6</bpmn:incoming><bpmn:outgoing>Flow_1xdhvx1</bpmn:outgoing><bpmn:outgoing>Flow_1kjlfrl</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id="Flow_1kjlfrl" sourceRef="Gateway_1ymrv9w" targetRef="Event_12ntfon" /><bpmn:intermediateCatchEvent id="Event_12ntfon"><bpmn:incoming>Flow_1kjlfrl</bpmn:incoming><bpmn:outgoing>SequenceFlow_16vojp5</bpmn:outgoing><bpmn:signalEventDefinition signalRef="Signal_1188r5d" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="SequenceFlow_16vojp5" sourceRef="Event_12ntfon" targetRef="Activity_0lxfnc2" /><bpmn:serviceTask id="ServiceTask_0kdehef" name="завершить процесс" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0g0zt22</bpmn:incoming><bpmn:outgoing>SequenceFlow_0c4cm2j</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0c4cm2j" sourceRef="ServiceTask_0kdehef" targetRef="EndEvent_156slts" /><bpmn:endEvent id="EndEvent_156slts"><bpmn:incoming>SequenceFlow_0c4cm2j</bpmn:incoming><bpmn:terminateEventDefinition /></bpmn:endEvent><bpmn:endEvent id="Event_1q01j7t"><bpmn:incoming>Flow_1cex86q</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1mw4mhm" /></bpmn:endEvent><bpmn:serviceTask id="Activity_0f5crco" name="Получение даты, id, счета"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dtFlowDate___ValueDisplayed&amp;systemName=AssetFlows___external_id_link___Value&amp;systemName=F_Account&amp;systemName=hlk_Asset</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="payload" /><camunda:outputParameter name="assetid"><camunda:script scriptFormat="javascript">JSON.parse(response).hlk_Asset</camunda:script></camunda:outputParameter><camunda:outputParameter name="DT1"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dtFlowDate___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="ID_EXT"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___external_id_link___Value</camunda:script></camunda:outputParameter><camunda:outputParameter name="ACCOUNT"><camunda:script scriptFormat="javascript">JSON.parse(response).F_Account</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_03a4bf0</bpmn:incoming><bpmn:outgoing>Flow_1ehyayi</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0nzshbu" default="Flow_1oaif3g"><bpmn:incoming>Flow_1ehyayi</bpmn:incoming><bpmn:outgoing>Flow_1oaif3g</bpmn:outgoing><bpmn:outgoing>Flow_0wgeziq</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_1xbi4ik" name="Получаем инстанс-ид СЧЕТА"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getRefId/F_Account</camunda:inputParameter><camunda:outputParameter name="Acc_refid">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1oaif3g</bpmn:incoming><bpmn:outgoing>Flow_1dxff31</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1oaif3g" sourceRef="Gateway_0nzshbu" targetRef="Activity_1xbi4ik" /><bpmn:sequenceFlow id="Flow_0wgeziq" sourceRef="Gateway_0nzshbu" targetRef="ServiceTask_1j8wpdh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ACCOUNT == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="Activity_1iizvsz" name="Получаем РО счета"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/invoice/${Acc_refid}/getAttributes?systemName=hlk_clearing_system</camunda:inputParameter><camunda:outputParameter name="RO_ID"><camunda:script scriptFormat="javascript">JSON.parse(response).hlk_clearing_system</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1dxff31</bpmn:incoming><bpmn:outgoing>Flow_10bj8af</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1dxff31" sourceRef="Activity_1xbi4ik" targetRef="Activity_1iizvsz" /><bpmn:exclusiveGateway id="Gateway_1jj7nzi" default="Flow_1t9illc"><bpmn:incoming>Flow_10bj8af</bpmn:incoming><bpmn:outgoing>Flow_1t9illc</bpmn:outgoing><bpmn:outgoing>Flow_1nniq32</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_10bj8af" sourceRef="Activity_1iizvsz" targetRef="Gateway_1jj7nzi" /><bpmn:sequenceFlow id="Flow_1t9illc" sourceRef="Gateway_1jj7nzi" targetRef="Activity_06l23gc" /><bpmn:sequenceFlow id="Flow_1nniq32" sourceRef="Gateway_1jj7nzi" targetRef="ServiceTask_1j8wpdh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${RO_ID == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="Activity_0hchyeo" name="Получаем навзание РО"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/legalEntity/${RO_refid}/getAttributes?systemName=ShortName</camunda:inputParameter><camunda:outputParameter name="RO_NAME"><camunda:script scriptFormat="javascript">JSON.parse(response).ShortName</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0kre6a4</bpmn:incoming><bpmn:outgoing>Flow_0zqt8ut</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_18ji3mc" sourceRef="Activity_1iny1se" targetRef="ServiceTask_1j8wpdh" /><bpmn:serviceTask id="Activity_1igcy6h" name="Получаем праймари-ид РО"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "legalEntity",
	"filter": {
		"_id": ObjectId("${RO_refid}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="RO_primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0hh8o4i</bpmn:incoming><bpmn:outgoing>Flow_0kre6a4</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0kre6a4" sourceRef="Activity_1igcy6h" targetRef="Activity_0hchyeo" /><bpmn:serviceTask id="Activity_06l23gc" name="Получаем инстанс-ид РО"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/invoice/${Acc_refid}/getRefId/hlk_clearing_system</camunda:inputParameter><camunda:outputParameter name="RO_refid">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1t9illc</bpmn:incoming><bpmn:outgoing>Flow_1i4bdmc</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1i4bdmc" sourceRef="Activity_06l23gc" targetRef="Gateway_1v2ji0f" /><bpmn:serviceTask id="Activity_1eblzab" name="Установка атрибутов РО"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("F_Clearing_system", S("{}")
  .prop("value", RO_NAME)
  .prop("primaryId", RO_primaryId)
  .prop("source", "legalEntity"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_08lzf4u</bpmn:incoming><bpmn:outgoing>Flow_0xyh47c</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0zqt8ut" sourceRef="Activity_0hchyeo" targetRef="Gateway_1b9znml" /><bpmn:sequenceFlow id="Flow_0hh8o4i" sourceRef="Gateway_1v2ji0f" targetRef="Activity_1igcy6h" /><bpmn:sequenceFlow id="Flow_1vmvrp2" sourceRef="Gateway_1v2ji0f" targetRef="ServiceTask_1j8wpdh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${RO_refid == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="Gateway_1v2ji0f" default="Flow_0hh8o4i"><bpmn:incoming>Flow_1i4bdmc</bpmn:incoming><bpmn:outgoing>Flow_0hh8o4i</bpmn:outgoing><bpmn:outgoing>Flow_1vmvrp2</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_08lzf4u" sourceRef="Gateway_1b9znml" targetRef="Activity_1eblzab" /><bpmn:sequenceFlow id="Flow_1dhtqju" sourceRef="Gateway_1b9znml" targetRef="ServiceTask_1j8wpdh"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${RO_primaryId == null || RO_NAME == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:exclusiveGateway id="Gateway_1b9znml" default="Flow_08lzf4u"><bpmn:incoming>Flow_0zqt8ut</bpmn:incoming><bpmn:outgoing>Flow_08lzf4u</bpmn:outgoing><bpmn:outgoing>Flow_1dhtqju</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="Activity_1w0fi64" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>Flow_1tp3h93</bpmn:incoming><bpmn:outgoing>Flow_13sdip1</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": waiting for A signal")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_13sdip1" sourceRef="Activity_1w0fi64" targetRef="Event_17qtl6w" /><bpmn:scriptTask id="Activity_0aq8gvw" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_03bs9e9</bpmn:incoming><bpmn:outgoing>Flow_0hh8fgp</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": waiting for B signal")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0hh8fgp" sourceRef="Activity_0aq8gvw" targetRef="Event_0eu8wyn" /><bpmn:scriptTask id="Activity_1gr3hmk" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>Flow_0uql4bx</bpmn:incoming><bpmn:outgoing>Flow_1odb97a</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": ALL DONE!")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_1odb97a" sourceRef="Activity_1gr3hmk" targetRef="Activity_0bstp38" /><bpmn:serviceTask id="Activity_0ix4r2y" name="Получение даты"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dtFlowDate___ValueDisplayed</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="DT2"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dtFlowDate___ValueDisplayed</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1yyw31g</bpmn:incoming><bpmn:outgoing>Flow_02e2bjz</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_1mgeuyj" default="Flow_0cbkiaa"><bpmn:incoming>Flow_02e2bjz</bpmn:incoming><bpmn:outgoing>Flow_0d3ergt</bpmn:outgoing><bpmn:outgoing>Flow_0cbkiaa</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_1yyw31g" sourceRef="UserTask_1vn021g" targetRef="Activity_0ix4r2y" /><bpmn:sequenceFlow id="Flow_02e2bjz" sourceRef="Activity_0ix4r2y" targetRef="Gateway_1mgeuyj" /><bpmn:serviceTask id="Activity_1lxqaby" name="Статус &#34;Заполнение: дата операции не раньше даты регистрации&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Дата+операции+не+раньше+даты+регистрации</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0d3ergt</bpmn:incoming><bpmn:outgoing>Flow_1tm7ahi</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0d3ergt" name="DT2 &#60; DT1" sourceRef="Gateway_1mgeuyj" targetRef="Activity_1lxqaby"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DT2 &lt; DT1}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1tm7ahi" sourceRef="Activity_1lxqaby" targetRef="UserTask_1vn021g" /><bpmn:sequenceFlow id="Flow_0cbkiaa" sourceRef="Gateway_1mgeuyj" targetRef="ServiceTask_16ccapp" /><bpmn:intermediateCatchEvent id="Event_17qtl6w" camunda:asyncAfter="true"><bpmn:incoming>Flow_13sdip1</bpmn:incoming><bpmn:outgoing>Flow_1vq1xiw</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_02vsldn" messageRef="Message_1dldtxa" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_1vq1xiw" sourceRef="Event_17qtl6w" targetRef="Activity_0jitrxu" /><bpmn:intermediateCatchEvent id="Event_0eu8wyn" camunda:asyncAfter="true"><bpmn:incoming>Flow_0hh8fgp</bpmn:incoming><bpmn:outgoing>Flow_0uql4bx</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_00ag1oa" messageRef="Message_0qjfp1e" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_0uql4bx" sourceRef="Event_0eu8wyn" targetRef="Activity_1gr3hmk" /><bpmn:scriptTask id="Activity_0ifrp7g" name="Идентификатор факта" scriptFormat="javascript" camunda:resultVariable="PrimaryId2"><bpmn:incoming>SequenceFlow_1r1dlc4</bpmn:incoming><bpmn:outgoing>Flow_1sh5upv</bpmn:outgoing><bpmn:script>primaryId + "_F"</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_1sh5upv" sourceRef="Activity_0ifrp7g" targetRef="ServiceTask_1os8yx2" /><bpmn:sequenceFlow id="Flow_1ehyayi" sourceRef="Activity_0f5crco" targetRef="Gateway_0nzshbu" /><bpmn:serviceTask id="Activity_1e98w0y" name="Получаем инстанс-ид инструмента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getRefId/hlk_Asset</camunda:inputParameter><camunda:outputParameter name="Instr_refid">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0xyh47c</bpmn:incoming><bpmn:outgoing>Flow_19m29pk</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1iny1se" name="Получаем навзание инструмента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/instrument/${Instr_refid}/getAttributes?systemName=hlk_namesecurity</camunda:inputParameter><camunda:outputParameter name="Instr_NAME"><camunda:script scriptFormat="javascript">JSON.parse(response).hlk_namesecurity</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_19m29pk</bpmn:incoming><bpmn:outgoing>Flow_18ji3mc</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_19m29pk" sourceRef="Activity_1e98w0y" targetRef="Activity_1iny1se" /><bpmn:sequenceFlow id="Flow_0xyh47c" sourceRef="Activity_1eblzab" targetRef="Activity_1e98w0y" /><bpmn:sequenceFlow id="Flow_0g0zt22" sourceRef="Activity_0lxfnc2" targetRef="ServiceTask_0kdehef" /><bpmn:scriptTask id="Activity_0lxfnc2" name="Log" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_16vojp5</bpmn:incoming><bpmn:outgoing>Flow_0g0zt22</bpmn:outgoing><bpmn:script>print(new Date () + ": Cancel Signal Recieved " + instanceId)</bpmn:script></bpmn:scriptTask></bpmn:process><bpmn:signal id="Signal_07qru3g" name="NotifyAssetflowEnrichment${primaryId}" /><bpmn:signal id="Signal_1188r5d" name="Cancell${instanceId}" /><bpmn:message id="Message_1qqhnkg" name="MoneyDepositAssetflow" /><bpmn:message id="Message_1dldtxa" name="parentProcess" /><bpmn:message id="Message_0qjfp1e" name="parentProcess" /><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TEMPLATE_INSTANCE_PROCESS_hlk_Contribution_109ea2f2-53ef-446b-8e71-429bff6d2afc"><bpmndi:BPMNEdge id="Flow_0g0zt22_di" bpmnElement="Flow_0g0zt22"><di:waypoint x="750" y="480" /><di:waypoint x="908" y="480" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0xyh47c_di" bpmnElement="Flow_0xyh47c"><di:waypoint x="1880" y="120" /><di:waypoint x="1940" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_19m29pk_di" bpmnElement="Flow_19m29pk"><di:waypoint x="2040" y="120" /><di:waypoint x="2100" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ehyayi_di" bpmnElement="Flow_1ehyayi"><di:waypoint x="620" y="360" /><di:waypoint x="695" y="360" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1sh5upv_di" bpmnElement="Flow_1sh5upv"><di:waypoint x="2820" y="490" /><di:waypoint x="2900" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0uql4bx_di" bpmnElement="Flow_0uql4bx"><di:waypoint x="3308" y="490" /><di:waypoint x="3350" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1vq1xiw_di" bpmnElement="Flow_1vq1xiw"><di:waypoint x="1498" y="360" /><di:waypoint x="1540" y="360" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0cbkiaa_di" bpmnElement="Flow_0cbkiaa"><di:waypoint x="2120" y="387" /><di:waypoint x="2120" y="450" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1tm7ahi_di" bpmnElement="Flow_1tm7ahi"><di:waypoint x="2280" y="322" /><di:waypoint x="2280" y="270" /><di:waypoint x="1850" y="270" /><di:waypoint x="1850" y="322" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0d3ergt_di" bpmnElement="Flow_0d3ergt"><di:waypoint x="2145" y="362" /><di:waypoint x="2230" y="362" /><bpmndi:BPMNLabel><dc:Bounds x="2161" y="344" width="55" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_02e2bjz_di" bpmnElement="Flow_02e2bjz"><di:waypoint x="2050" y="362" /><di:waypoint x="2095" y="362" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1yyw31g_di" bpmnElement="Flow_1yyw31g"><di:waypoint x="1900" y="362" /><di:waypoint x="1950" y="362" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1odb97a_di" bpmnElement="Flow_1odb97a"><di:waypoint x="3450" y="490" /><di:waypoint x="3480" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hh8fgp_di" bpmnElement="Flow_0hh8fgp"><di:waypoint x="3220" y="490" /><di:waypoint x="3272" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_13sdip1_di" bpmnElement="Flow_13sdip1"><di:waypoint x="1420" y="360" /><di:waypoint x="1462" y="360" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1dhtqju_di" bpmnElement="Flow_1dhtqju"><di:waypoint x="1650" y="145" /><di:waypoint x="1650" y="230" /><di:waypoint x="920" y="230" /><di:waypoint x="920" y="320" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_08lzf4u_di" bpmnElement="Flow_08lzf4u"><di:waypoint x="1675" y="120" /><di:waypoint x="1780" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1vmvrp2_di" bpmnElement="Flow_1vmvrp2"><di:waypoint x="1270" y="145" /><di:waypoint x="1270" y="230" /><di:waypoint x="920" y="230" /><di:waypoint x="920" y="320" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hh8o4i_di" bpmnElement="Flow_0hh8o4i"><di:waypoint x="1295" y="120" /><di:waypoint x="1340" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0zqt8ut_di" bpmnElement="Flow_0zqt8ut"><di:waypoint x="1570" y="120" /><di:waypoint x="1625" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1i4bdmc_di" bpmnElement="Flow_1i4bdmc"><di:waypoint x="1220" y="120" /><di:waypoint x="1245" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0kre6a4_di" bpmnElement="Flow_0kre6a4"><di:waypoint x="1440" y="120" /><di:waypoint x="1470" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18ji3mc_di" bpmnElement="Flow_18ji3mc"><di:waypoint x="2150" y="160" /><di:waypoint x="2150" y="230" /><di:waypoint x="920" y="230" /><di:waypoint x="920" y="320" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1nniq32_di" bpmnElement="Flow_1nniq32"><di:waypoint x="1060" y="145" /><di:waypoint x="1060" y="230" /><di:waypoint x="920" y="230" /><di:waypoint x="920" y="320" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1t9illc_di" bpmnElement="Flow_1t9illc"><di:waypoint x="1085" y="120" /><di:waypoint x="1120" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10bj8af_di" bpmnElement="Flow_10bj8af"><di:waypoint x="990" y="120" /><di:waypoint x="1035" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1dxff31_di" bpmnElement="Flow_1dxff31"><di:waypoint x="770" y="120" /><di:waypoint x="890" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0wgeziq_di" bpmnElement="Flow_0wgeziq"><di:waypoint x="745" y="360" /><di:waypoint x="870" y="360" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1oaif3g_di" bpmnElement="Flow_1oaif3g"><di:waypoint x="720" y="335" /><di:waypoint x="720" y="160" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0c4cm2j_di" bpmnElement="SequenceFlow_0c4cm2j"><di:waypoint x="1008" y="480" /><di:waypoint x="1162" y="480" /><bpmndi:BPMNLabel><dc:Bounds x="-255" y="109" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_16vojp5_di" bpmnElement="SequenceFlow_16vojp5"><di:waypoint x="508" y="480" /><di:waypoint x="650" y="480" /><bpmndi:BPMNLabel><dc:Bounds x="-482" y="109" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1kjlfrl_di" bpmnElement="Flow_1kjlfrl"><di:waypoint x="290" y="385" /><di:waypoint x="290" y="480" /><di:waypoint x="472" y="480" /><bpmndi:BPMNLabel><dc:Bounds x="-710" y="72.5" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1xdhvx1_di" bpmnElement="Flow_1xdhvx1"><di:waypoint x="315" y="360" /><di:waypoint x="360" y="360" /><bpmndi:BPMNLabel><dc:Bounds x="-650.5" y="-15" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_064ig4m_di" bpmnElement="Flow_064ig4m"><di:waypoint x="1640" y="361" /><di:waypoint x="1670" y="361" /><bpmndi:BPMNLabel><dc:Bounds x="1253" y="94" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_03bs9e9_di" bpmnElement="SequenceFlow_03bs9e9"><di:waypoint x="3000" y="490" /><di:waypoint x="3120" y="490" /><bpmndi:BPMNLabel><dc:Bounds x="1626" y="-7" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1tp3h93_di" bpmnElement="Flow_1tp3h93"><di:waypoint x="1260" y="360" /><di:waypoint x="1320" y="360" /><bpmndi:BPMNLabel><dc:Bounds x="968.5" y="95" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1cex86q_di" bpmnElement="Flow_1cex86q"><di:waypoint x="3580" y="490" /><di:waypoint x="3622" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_03a4bf0_di" bpmnElement="Flow_03a4bf0"><di:waypoint x="460" y="360" /><di:waypoint x="520" y="360" /><bpmndi:BPMNLabel><dc:Bounds x="-482.5" y="-15" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1820vqk_di" bpmnElement="SequenceFlow_1820vqk"><di:waypoint x="2170" y="490" /><di:waypoint x="2240" y="490" /><bpmndi:BPMNLabel><dc:Bounds x="1054" y="233" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_166ey6j_di" bpmnElement="SequenceFlow_166ey6j"><di:waypoint x="1770" y="362" /><di:waypoint x="1800" y="362" /><bpmndi:BPMNLabel><dc:Bounds x="1054" y="472.5" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0uq86zx_di" bpmnElement="SequenceFlow_0uq86zx"><di:waypoint x="970" y="360" /><di:waypoint x="1010" y="360" /><bpmndi:BPMNLabel><dc:Bounds x="-342" y="-11" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0jdqy9t_di" bpmnElement="SequenceFlow_0jdqy9t"><di:waypoint x="1110" y="360" /><di:waypoint x="1160" y="360" /><bpmndi:BPMNLabel><dc:Bounds x="-197.5" y="-11" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1r1dlc4_di" bpmnElement="SequenceFlow_1r1dlc4"><di:waypoint x="2660" y="490" /><di:waypoint x="2720" y="490" /><bpmndi:BPMNLabel><dc:Bounds x="1406" y="-11" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0lld34p_di" bpmnElement="SequenceFlow_0lld34p"><di:waypoint x="2510" y="490" /><di:waypoint x="2560" y="490" /><bpmndi:BPMNLabel><dc:Bounds x="1255.5" y="-11" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0gr84eo_di" bpmnElement="SequenceFlow_0gr84eo"><di:waypoint x="2340" y="490" /><di:waypoint x="2410" y="490" /><bpmndi:BPMNLabel><dc:Bounds x="1111.5" y="-11" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0or7jn6_di" bpmnElement="SequenceFlow_0or7jn6"><di:waypoint x="195" y="360" /><di:waypoint x="265" y="360" /><bpmndi:BPMNLabel><dc:Bounds x="-72" y="99" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds x="159" y="342" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="-128" y="28" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_0g8v393_di" bpmnElement="UserTask_0g8v393" bioc:stroke="#1E88E5" bioc:fill="#BBDEFB"><dc:Bounds x="2240" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_13r0m9q_di" bpmnElement="ServiceTask_13r0m9q"><dc:Bounds x="2410" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0kzxb6d_di" bpmnElement="ServiceTask_0kzxb6d"><dc:Bounds x="2560" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ixzc53_di" bpmnElement="ServiceTask_1ixzc53"><dc:Bounds x="360" y="320" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1j8wpdh_di" bpmnElement="ServiceTask_1j8wpdh"><dc:Bounds x="870" y="320" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0s52r8b_di" bpmnElement="ServiceTask_0s52r8b"><dc:Bounds x="1010" y="320" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_00zvxbl_di" bpmnElement="ServiceTask_00zvxbl" bioc:stroke="#FB8C00" bioc:fill="#FFE0B2"><dc:Bounds x="1160" y="320" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0cc01v4_di" bpmnElement="ServiceTask_0cc01v4"><dc:Bounds x="1670" y="322" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_1vn021g_di" bpmnElement="UserTask_1vn021g" bioc:stroke="#1E88E5" bioc:fill="#BBDEFB"><dc:Bounds x="1800" y="322" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_16ccapp_di" bpmnElement="ServiceTask_16ccapp"><dc:Bounds x="2070" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0bstp38_di" bpmnElement="Activity_0bstp38"><dc:Bounds x="3480" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1os8yx2_di" bpmnElement="ServiceTask_1os8yx2"><dc:Bounds x="2900" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0jitrxu_di" bpmnElement="Activity_0jitrxu"><dc:Bounds x="1540" y="321" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1u9bs6t_di" bpmnElement="Gateway_1ymrv9w"><dc:Bounds x="265" y="335" width="50" height="50" /><bpmndi:BPMNLabel><dc:Bounds x="-725" y="-45" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="IntermediateCatchEvent_1kgsvmr_di" bpmnElement="Event_12ntfon"><dc:Bounds x="472" y="462" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="-595" y="148" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0kdehef_di" bpmnElement="ServiceTask_0kdehef"><dc:Bounds x="908" y="440" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_1o7pob4_di" bpmnElement="EndEvent_156slts"><dc:Bounds x="1162" y="462" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="-160" y="152" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_12d6l29_di" bpmnElement="Event_1q01j7t"><dc:Bounds x="3622" y="472" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0f5crco_di" bpmnElement="Activity_0f5crco"><dc:Bounds x="520" y="320" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0nzshbu_di" bpmnElement="Gateway_0nzshbu" isMarkerVisible="true"><dc:Bounds x="695" y="335" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1xbi4ik_di" bpmnElement="Activity_1xbi4ik"><dc:Bounds x="670" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1iizvsz_di" bpmnElement="Activity_1iizvsz"><dc:Bounds x="890" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1jj7nzi_di" bpmnElement="Gateway_1jj7nzi" isMarkerVisible="true"><dc:Bounds x="1035" y="95" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0hchyeo_di" bpmnElement="Activity_0hchyeo"><dc:Bounds x="1470" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1igcy6h_di" bpmnElement="Activity_1igcy6h"><dc:Bounds x="1340" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_06l23gc_di" bpmnElement="Activity_06l23gc"><dc:Bounds x="1120" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1eblzab_di" bpmnElement="Activity_1eblzab"><dc:Bounds x="1780" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0e7difo_di" bpmnElement="Gateway_1v2ji0f" isMarkerVisible="true"><dc:Bounds x="1245" y="95" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_116a0gn_di" bpmnElement="Gateway_1b9znml" isMarkerVisible="true"><dc:Bounds x="1625" y="95" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1w0fi64_di" bpmnElement="Activity_1w0fi64" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="1320" y="320" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0aq8gvw_di" bpmnElement="Activity_0aq8gvw" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="3120" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1gr3hmk_di" bpmnElement="Activity_1gr3hmk" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="3350" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ix4r2y_di" bpmnElement="Activity_0ix4r2y"><dc:Bounds x="1950" y="322" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1mgeuyj_di" bpmnElement="Gateway_1mgeuyj" isMarkerVisible="true"><dc:Bounds x="2095" y="337" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1lxqaby_di" bpmnElement="Activity_1lxqaby"><dc:Bounds x="2230" y="322" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_17qtl6w_di" bpmnElement="Event_17qtl6w"><dc:Bounds x="1462" y="342" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0eu8wyn_di" bpmnElement="Event_0eu8wyn"><dc:Bounds x="3272" y="472" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ifrp7g_di" bpmnElement="Activity_0ifrp7g"><dc:Bounds x="2720" y="450" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1e98w0y_di" bpmnElement="Activity_1e98w0y"><dc:Bounds x="1940" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1iny1se_di" bpmnElement="Activity_1iny1se"><dc:Bounds x="2100" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ikiyq0_di" bpmnElement="Activity_0lxfnc2"><dc:Bounds x="650" y="440" width="100" height="80" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
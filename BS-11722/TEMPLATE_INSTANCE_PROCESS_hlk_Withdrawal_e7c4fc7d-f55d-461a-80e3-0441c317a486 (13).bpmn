<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.2.0"><bpmn:process id="TEMPLATE_INSTANCE_PROCESS_hlk_Withdrawal_e7c4fc7d-f55d-461a-80e3-0441c317a486" name="НТО - Вывод" isExecutable="true"><bpmn:documentation /><bpmn:startEvent id="StartEvent_1" camunda:asyncBefore="true"><bpmn:outgoing>SequenceFlow_0or7jn6</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id="SequenceFlow_0or7jn6" sourceRef="StartEvent_1" targetRef="ExclusiveGateway_1w00eqg" /><bpmn:serviceTask id="ServiceTask_13r0m9q" name="Статус Подтверждено"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Подтверждено</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1dfr5i0</bpmn:incoming><bpmn:outgoing>SequenceFlow_0lld34p</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1b1f55c" name="Создание фактов"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment-obligation/fact/${OUTPUT_CASH}?AssetFlows___radioFactPlan___ValueDisplayed=Факт&amp;AssetFlows___dtFlowDate___ValueDisplayed=${DT2}&amp;AssetFlow___FlowDate___Value=${DT2}&amp;AssetFlow___Id___Value=${PrimaryId2}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0zs6ttn</bpmn:incoming><bpmn:outgoing>SequenceFlow_0r6ij66</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0qv2plw" name="создание обязательств"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/sendInstanceTo/ENRICHMENT_OBLIGATION/${instanceId}?closedSegment=false</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("AssetFlows___dtFlowDate___ValueDisplayed", DT1)
.prop("AssetFlow___Id___Value", primaryId + "_P")
.prop("AssetFlow___FlowDate___Value", DT1)
.prop("AssetFlows___radioFactPlan___ValueDisplayed", "План")
.prop("AssetFlows___lkupFlowType___Value", "44")
.prop("AssetFlows___txtStatus___ValueDisplayed", "Открыта")
.prop("AssetFlows___txtFlowNumber___ValueDisplayed", ID_EXT)
.prop("AssetFlows___luAsset___ValueDisplayed", Instr_NAME)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0h1tep8</bpmn:incoming><bpmn:outgoing>SequenceFlow_0zjm21b</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_0kzxb6d" name="Поиск об-ва"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/obligations/one/by-attribute?name=AssetFlows___lkupFlowType___Value&amp;value=44</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="OUTPUT_CASH">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0lld34p</bpmn:incoming><bpmn:outgoing>SequenceFlow_1r1dlc4</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_0lld34p" sourceRef="ServiceTask_13r0m9q" targetRef="ServiceTask_0kzxb6d" /><bpmn:sequenceFlow id="SequenceFlow_1r1dlc4" sourceRef="ServiceTask_0kzxb6d" targetRef="Activity_0dbr2e9" /><bpmn:sequenceFlow id="SequenceFlow_0r6ij66" sourceRef="ServiceTask_1b1f55c" targetRef="Activity_0r0ylc0" /><bpmn:userTask id="UserTask_16htt9c" name="Подтверждение исполнения пользователем" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;BO&#34;,&#34;label&#34;:&#34;Подтвердить исполнение&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_13kxkap</bpmn:incoming><bpmn:outgoing>SequenceFlow_1dfr5i0</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_15nm8md" name="Статус В обработке: формирование движений"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=В+обработке:+Формирование+движений</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_05ldvre</bpmn:incoming><bpmn:outgoing>SequenceFlow_1bjwudp</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1kh828o" name="Достаем primaryId объекта"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "enrichment",
	"filter": {
		"_id": ObjectId("${instanceId}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0eutfa7</bpmn:incoming><bpmn:incoming>Flow_0ksy0de</bpmn:incoming><bpmn:incoming>Flow_1ym39un</bpmn:incoming><bpmn:incoming>Flow_11yfmup</bpmn:incoming><bpmn:incoming>Flow_0ox1gy5</bpmn:incoming><bpmn:outgoing>SequenceFlow_085daed</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1av0gxy" name="Записываем внешний ID"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttribute/hlk_EzDoc_ID?value=${primaryId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_085daed</bpmn:incoming><bpmn:outgoing>SequenceFlow_0h1tep8</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="ServiceTask_1fdefeb" name="Статус &#34;Заполнение: дата операции&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Дата+операции</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0hcp8yx</bpmn:incoming><bpmn:outgoing>Flow_186ko3j</bpmn:outgoing></bpmn:serviceTask><bpmn:userTask id="UserTask_185hu0n" name="Заполнение: дата операции" camunda:formKey="FILL" camunda:candidateGroups="jira-users,cb_backoffice"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="fillverify" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="AssetFlows___dtFlowDate___ValueDisplayed" label="Дата Обязательства" type="string" /><camunda:formField id="ezdocObjectUrl" type="string" /><camunda:formField id="ezdocObjectEditorUrl" type="string" /></camunda:formData></bpmn:extensionElements><bpmn:incoming>Flow_186ko3j</bpmn:incoming><bpmn:incoming>Flow_1fgofom</bpmn:incoming><bpmn:outgoing>SequenceFlow_04j9e0e</bpmn:outgoing></bpmn:userTask><bpmn:serviceTask id="ServiceTask_0quhqfo" name="Статус &#34;Заполнение: Подтверждение операции&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Подтверждение+операции</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0aoimya</bpmn:incoming><bpmn:outgoing>SequenceFlow_1lnrl73</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="SequenceFlow_1lnrl73" sourceRef="ServiceTask_0quhqfo" targetRef="Activity_0uve6xv" /><bpmn:sequenceFlow id="SequenceFlow_0h1tep8" sourceRef="ServiceTask_1av0gxy" targetRef="ServiceTask_0qv2plw" /><bpmn:sequenceFlow id="SequenceFlow_085daed" sourceRef="ServiceTask_1kh828o" targetRef="ServiceTask_1av0gxy" /><bpmn:sequenceFlow id="SequenceFlow_04j9e0e" sourceRef="UserTask_185hu0n" targetRef="Activity_0hdbo8n" /><bpmn:sequenceFlow id="SequenceFlow_1dfr5i0" sourceRef="UserTask_16htt9c" targetRef="ServiceTask_13r0m9q" /><bpmn:sequenceFlow id="SequenceFlow_0zjm21b" sourceRef="ServiceTask_0qv2plw" targetRef="Activity_0pylmep" /><bpmn:sequenceFlow id="SequenceFlow_1bjwudp" sourceRef="ServiceTask_15nm8md" targetRef="Activity_0j52ymr" /><bpmn:serviceTask id="Activity_0xaa7sq" name="завершение процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1heier3</bpmn:incoming><bpmn:outgoing>Flow_0tdya22</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0tdya22" sourceRef="Activity_0xaa7sq" targetRef="EndEvent_0djl7a3" /><bpmn:serviceTask id="Activity_0uve6xv" name="Получение даты"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dtFlowDate___ValueDisplayed</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="payload" /><camunda:outputParameter name="DT1">${S(response).prop('AssetFlows___dtFlowDate___ValueDisplayed').stringValue()}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1lnrl73</bpmn:incoming><bpmn:outgoing>Flow_13kxkap</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_13kxkap" sourceRef="Activity_0uve6xv" targetRef="UserTask_16htt9c" /><bpmn:serviceTask id="Activity_12r7ae3" name="Установка атрибутов"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{
"hlk_cancel_plan" : "false",
"hlk_create_plan" : "false"
}</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_14e2e20</bpmn:incoming><bpmn:outgoing>Flow_0hcp8yx</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0hcp8yx" sourceRef="Activity_12r7ae3" targetRef="ServiceTask_1fdefeb" /><bpmn:sequenceFlow id="Flow_186ko3j" sourceRef="ServiceTask_1fdefeb" targetRef="UserTask_185hu0n" /><bpmn:sequenceFlow id="SequenceFlow_05ldvre" sourceRef="ExclusiveGateway_1w00eqg" targetRef="ServiceTask_15nm8md" /><bpmn:parallelGateway id="ExclusiveGateway_1w00eqg"><bpmn:incoming>SequenceFlow_0or7jn6</bpmn:incoming><bpmn:outgoing>SequenceFlow_05ldvre</bpmn:outgoing><bpmn:outgoing>SequenceFlow_0npbbrq</bpmn:outgoing></bpmn:parallelGateway><bpmn:intermediateCatchEvent id="IntermediateCatchEvent_1pzx72c" camunda:asyncAfter="true"><bpmn:incoming>SequenceFlow_0npbbrq</bpmn:incoming><bpmn:outgoing>SequenceFlow_19v5jur</bpmn:outgoing><bpmn:signalEventDefinition id="SignalEventDefinition_1eby1oa" signalRef="Signal_0ziuni4" /></bpmn:intermediateCatchEvent><bpmn:serviceTask id="ServiceTask_1ju38he" name="завершить процесс" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0nyzqbp</bpmn:incoming><bpmn:outgoing>SequenceFlow_0xtmyri</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="EndEvent_1yqz68b"><bpmn:incoming>SequenceFlow_0xtmyri</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_17xcsrq" /></bpmn:endEvent><bpmn:sequenceFlow id="SequenceFlow_19v5jur" sourceRef="IntermediateCatchEvent_1pzx72c" targetRef="Activity_0xgy4ob" /><bpmn:sequenceFlow id="SequenceFlow_0xtmyri" sourceRef="ServiceTask_1ju38he" targetRef="EndEvent_1yqz68b" /><bpmn:sequenceFlow id="SequenceFlow_0npbbrq" sourceRef="ExclusiveGateway_1w00eqg" targetRef="IntermediateCatchEvent_1pzx72c" /><bpmn:endEvent id="EndEvent_0djl7a3"><bpmn:incoming>Flow_0tdya22</bpmn:incoming><bpmn:terminateEventDefinition id="TerminateEventDefinition_1xd7eed" /></bpmn:endEvent><bpmn:exclusiveGateway id="Gateway_08pyvi5" default="Flow_0okxajd"><bpmn:incoming>Flow_0q3jgqo</bpmn:incoming><bpmn:outgoing>Flow_0okxajd</bpmn:outgoing><bpmn:outgoing>Flow_0eutfa7</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_18b31vp" name="Получаем инстанс-ид СЧЕТА"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getRefId/F_Account</camunda:inputParameter><camunda:outputParameter name="Acc_refid">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0okxajd</bpmn:incoming><bpmn:outgoing>Flow_1hfn03x</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1w75y9w" name="Получаем РО счета"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/invoice/${Acc_refid}/getAttributes?systemName=hlk_clearing_system</camunda:inputParameter><camunda:outputParameter name="RO_ID"><camunda:script scriptFormat="javascript">JSON.parse(response).hlk_clearing_system</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1hfn03x</bpmn:incoming><bpmn:outgoing>Flow_1lau7rs</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_1mjhxui" default="Flow_1nu2vxx"><bpmn:incoming>Flow_1lau7rs</bpmn:incoming><bpmn:outgoing>Flow_1nu2vxx</bpmn:outgoing><bpmn:outgoing>Flow_0ksy0de</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_1k2yn2n" name="Получаем навзание РО"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/legalEntity/${RO_refid}/getAttributes?systemName=ShortName</camunda:inputParameter><camunda:outputParameter name="RO_NAME"><camunda:script scriptFormat="javascript">JSON.parse(response).ShortName</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0us1bm4</bpmn:incoming><bpmn:outgoing>Flow_0ewzpdx</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_00bd0xi" name="Получаем праймари-ид РО"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="payload">{
	"find": "legalEntity",
	"filter": {
		"_id": ObjectId("${RO_refid}")
	},
	"projection": {
		"primaryId": 1
	}
}</camunda:inputParameter><camunda:outputParameter name="RO_primaryId"><camunda:script scriptFormat="javascript">JSON.parse(response).cursor.firstBatch[0].primaryId</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_11ms1c3</bpmn:incoming><bpmn:outgoing>Flow_0us1bm4</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0hj7vjy" name="Получаем инстанс-ид РО"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/invoice/${Acc_refid}/getRefId/hlk_clearing_system</camunda:inputParameter><camunda:outputParameter name="RO_refid">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1nu2vxx</bpmn:incoming><bpmn:outgoing>Flow_08kw6v6</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0874qov" name="Установка атрибутов РО"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/setAttributes</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("F_Clearing_system", S("{}")
  .prop("value", RO_NAME)
  .prop("primaryId", RO_primaryId)
  .prop("source", "legalEntity"))
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1llbft8</bpmn:incoming><bpmn:outgoing>Flow_1tlkgz2</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0okxajd" sourceRef="Gateway_08pyvi5" targetRef="Activity_18b31vp" /><bpmn:sequenceFlow id="Flow_1hfn03x" sourceRef="Activity_18b31vp" targetRef="Activity_1w75y9w" /><bpmn:sequenceFlow id="Flow_1lau7rs" sourceRef="Activity_1w75y9w" targetRef="Gateway_1mjhxui" /><bpmn:sequenceFlow id="Flow_1nu2vxx" sourceRef="Gateway_1mjhxui" targetRef="Activity_0hj7vjy" /><bpmn:sequenceFlow id="Flow_0us1bm4" sourceRef="Activity_00bd0xi" targetRef="Activity_1k2yn2n" /><bpmn:sequenceFlow id="Flow_0ewzpdx" sourceRef="Activity_1k2yn2n" targetRef="Gateway_0b1od56" /><bpmn:sequenceFlow id="Flow_08kw6v6" sourceRef="Activity_0hj7vjy" targetRef="Gateway_0dkmqp6" /><bpmn:serviceTask id="Activity_0j52ymr" name="Получение даты, id, счета"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dtFlowDate___ValueDisplayed&amp;systemName=AssetFlows___external_id_link___Value&amp;systemName=F_Account</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="payload" /><camunda:outputParameter name="DT1"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dtFlowDate___ValueDisplayed</camunda:script></camunda:outputParameter><camunda:outputParameter name="ID_EXT"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___external_id_link___Value</camunda:script></camunda:outputParameter><camunda:outputParameter name="ACCOUNT"><camunda:script scriptFormat="javascript">JSON.parse(response).F_Account</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_1bjwudp</bpmn:incoming><bpmn:outgoing>Flow_0q3jgqo</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0q3jgqo" sourceRef="Activity_0j52ymr" targetRef="Gateway_08pyvi5" /><bpmn:sequenceFlow id="Flow_0eutfa7" sourceRef="Gateway_08pyvi5" targetRef="ServiceTask_1kh828o"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ACCOUNT == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0ksy0de" sourceRef="Gateway_1mjhxui" targetRef="ServiceTask_1kh828o"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${RO_ID == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1ym39un" sourceRef="Activity_1wn9re2" targetRef="ServiceTask_1kh828o" /><bpmn:sequenceFlow id="Flow_11ms1c3" sourceRef="Gateway_0dkmqp6" targetRef="Activity_00bd0xi" /><bpmn:exclusiveGateway id="Gateway_0dkmqp6" default="Flow_11ms1c3"><bpmn:incoming>Flow_08kw6v6</bpmn:incoming><bpmn:outgoing>Flow_11ms1c3</bpmn:outgoing><bpmn:outgoing>Flow_11yfmup</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_11yfmup" sourceRef="Gateway_0dkmqp6" targetRef="ServiceTask_1kh828o"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${RO_refid == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1llbft8" sourceRef="Gateway_0b1od56" targetRef="Activity_0874qov" /><bpmn:exclusiveGateway id="Gateway_0b1od56" default="Flow_1llbft8"><bpmn:incoming>Flow_0ewzpdx</bpmn:incoming><bpmn:outgoing>Flow_1llbft8</bpmn:outgoing><bpmn:outgoing>Flow_0ox1gy5</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0ox1gy5" sourceRef="Gateway_0b1od56" targetRef="ServiceTask_1kh828o"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${RO_primaryId == null || RO_NAME == null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:scriptTask id="Activity_0pylmep" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_0zjm21b</bpmn:incoming><bpmn:outgoing>Flow_0ohavrj</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": waiting for A signal")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0ohavrj" sourceRef="Activity_0pylmep" targetRef="Event_02ly2vi" /><bpmn:scriptTask id="Activity_0r0ylc0" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_0r6ij66</bpmn:incoming><bpmn:outgoing>Flow_16h18x9</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": waiting for B signal")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_16h18x9" sourceRef="Activity_0r0ylc0" targetRef="Event_11fzuhm" /><bpmn:scriptTask id="Activity_1af3xsl" name="log" camunda:asyncBefore="true" scriptFormat="javascript"><bpmn:incoming>Flow_17o6657</bpmn:incoming><bpmn:outgoing>Flow_1heier3</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": ALL DONE!")</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_1heier3" sourceRef="Activity_1af3xsl" targetRef="Activity_0xaa7sq" /><bpmn:serviceTask id="Activity_0hdbo8n" name="Получение даты"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getAttributes?systemName=AssetFlows___dtFlowDate___ValueDisplayed</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="DT2"><camunda:script scriptFormat="javascript">JSON.parse(response).AssetFlows___dtFlowDate___ValueDisplayed</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_04j9e0e</bpmn:incoming><bpmn:outgoing>Flow_14pyqwd</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_0fkzwv8" default="Flow_0aoimya"><bpmn:incoming>Flow_14pyqwd</bpmn:incoming><bpmn:outgoing>Flow_0ay7ffb</bpmn:outgoing><bpmn:outgoing>Flow_0aoimya</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_1vlv2rg" name="Статус &#34;Заполнение: дата операции не раньше даты регистрации&#34;"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/saveLabel/${instanceId}?label=Заполнение:+Дата+операции+не+раньше+даты+регистрации</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0ay7ffb</bpmn:incoming><bpmn:outgoing>Flow_1fgofom</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_14pyqwd" sourceRef="Activity_0hdbo8n" targetRef="Gateway_0fkzwv8" /><bpmn:sequenceFlow id="Flow_0ay7ffb" name="DT2 &#60; DT1" sourceRef="Gateway_0fkzwv8" targetRef="Activity_1vlv2rg"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${DT2 &lt; DT1}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0aoimya" sourceRef="Gateway_0fkzwv8" targetRef="ServiceTask_0quhqfo" /><bpmn:sequenceFlow id="Flow_1fgofom" sourceRef="Activity_1vlv2rg" targetRef="UserTask_185hu0n" /><bpmn:intermediateCatchEvent id="Event_02ly2vi"><bpmn:incoming>Flow_0ohavrj</bpmn:incoming><bpmn:outgoing>Flow_14e2e20</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_0bjbpn0" messageRef="Message_1j27b6c" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_14e2e20" sourceRef="Event_02ly2vi" targetRef="Activity_12r7ae3" /><bpmn:intermediateCatchEvent id="Event_11fzuhm"><bpmn:incoming>Flow_16h18x9</bpmn:incoming><bpmn:outgoing>Flow_17o6657</bpmn:outgoing><bpmn:messageEventDefinition id="MessageEventDefinition_1ycw6hj" messageRef="Message_1u1d3s6" /></bpmn:intermediateCatchEvent><bpmn:sequenceFlow id="Flow_17o6657" sourceRef="Event_11fzuhm" targetRef="Activity_1af3xsl" /><bpmn:serviceTask id="Activity_1llfmiw" name="Получаем инстанс-ид инструмента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/enrichment/${instanceId}/getRefId/hlk_Asset</camunda:inputParameter><camunda:outputParameter name="Instr_refid">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1tlkgz2</bpmn:incoming><bpmn:outgoing>Flow_1ypb7ht</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_1wn9re2" name="Получаем навзание инструмента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/instrument/${Instr_refid}/getAttributes?systemName=hlk_namesecurity</camunda:inputParameter><camunda:outputParameter name="Instr_NAME"><camunda:script scriptFormat="javascript">JSON.parse(response).hlk_namesecurity</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1ypb7ht</bpmn:incoming><bpmn:outgoing>Flow_1ym39un</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1ypb7ht" sourceRef="Activity_1llfmiw" targetRef="Activity_1wn9re2" /><bpmn:sequenceFlow id="Flow_1tlkgz2" sourceRef="Activity_0874qov" targetRef="Activity_1llfmiw" /><bpmn:scriptTask id="Activity_0dbr2e9" name="Идентификатор факта" scriptFormat="javascript" camunda:resultVariable="PrimaryId2"><bpmn:incoming>SequenceFlow_1r1dlc4</bpmn:incoming><bpmn:outgoing>Flow_0zs6ttn</bpmn:outgoing><bpmn:script>primaryId + "_F"</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0zs6ttn" sourceRef="Activity_0dbr2e9" targetRef="ServiceTask_1b1f55c" /><bpmn:sequenceFlow id="Flow_0nyzqbp" sourceRef="Activity_0xgy4ob" targetRef="ServiceTask_1ju38he" /><bpmn:scriptTask id="Activity_0xgy4ob" name="Log" scriptFormat="javascript"><bpmn:incoming>SequenceFlow_19v5jur</bpmn:incoming><bpmn:outgoing>Flow_0nyzqbp</bpmn:outgoing><bpmn:script>print(new Date() + ": PARENT - " + instanceId + ": Cancel Signal Recieved! ")</bpmn:script></bpmn:scriptTask></bpmn:process><bpmn:signal id="Signal_10uvai0" name="1" /><bpmn:signal id="Signal_11gn73z" name="NotifyAssetflowToEnrichmentW_${primaryId}" /><bpmn:signal id="Signal_0ziuni4" name="Cancell${instanceId}" /><bpmn:message id="Message_1j27b6c" name="parentProcess" /><bpmn:message id="Message_1u1d3s6" name="parentProcess" /><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TEMPLATE_INSTANCE_PROCESS_hlk_Withdrawal_e7c4fc7d-f55d-461a-80e3-0441c317a486"><bpmndi:BPMNEdge id="Flow_0nyzqbp_di" bpmnElement="Flow_0nyzqbp"><di:waypoint x="860" y="478" /><di:waypoint x="1010" y="478" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0zs6ttn_di" bpmnElement="Flow_0zs6ttn"><di:waypoint x="3120" y="510" /><di:waypoint x="3200" y="510" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1tlkgz2_di" bpmnElement="Flow_1tlkgz2"><di:waypoint x="2190" y="120" /><di:waypoint x="2240" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ypb7ht_di" bpmnElement="Flow_1ypb7ht"><di:waypoint x="2340" y="120" /><di:waypoint x="2400" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_17o6657_di" bpmnElement="Flow_17o6657"><di:waypoint x="3538" y="510" /><di:waypoint x="3590" y="510" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14e2e20_di" bpmnElement="Flow_14e2e20"><di:waypoint x="1768" y="343" /><di:waypoint x="1830" y="343" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1fgofom_di" bpmnElement="Flow_1fgofom"><di:waypoint x="2640" y="303" /><di:waypoint x="2640" y="250" /><di:waypoint x="2160" y="250" /><di:waypoint x="2160" y="303" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0aoimya_di" bpmnElement="Flow_0aoimya"><di:waypoint x="2470" y="368" /><di:waypoint x="2470" y="430" /><di:waypoint x="2300" y="430" /><di:waypoint x="2300" y="470" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ay7ffb_di" bpmnElement="Flow_0ay7ffb"><di:waypoint x="2495" y="343" /><di:waypoint x="2590" y="343" /><bpmndi:BPMNLabel><dc:Bounds x="2512" y="323" width="55" height="14" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14pyqwd_di" bpmnElement="Flow_14pyqwd"><di:waypoint x="2370" y="343" /><di:waypoint x="2445" y="343" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1heier3_di" bpmnElement="Flow_1heier3"><di:waypoint x="3690" y="510" /><di:waypoint x="3740" y="510" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_16h18x9_di" bpmnElement="Flow_16h18x9"><di:waypoint x="3450" y="510" /><di:waypoint x="3502" y="510" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ohavrj_di" bpmnElement="Flow_0ohavrj"><di:waypoint x="1660" y="343" /><di:waypoint x="1732" y="343" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ox1gy5_di" bpmnElement="Flow_0ox1gy5"><di:waypoint x="2000" y="145" /><di:waypoint x="2000" y="230" /><di:waypoint x="1210" y="230" /><di:waypoint x="1210" y="303" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1llbft8_di" bpmnElement="Flow_1llbft8"><di:waypoint x="2025" y="120" /><di:waypoint x="2090" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_11yfmup_di" bpmnElement="Flow_11yfmup"><di:waypoint x="1590" y="145" /><di:waypoint x="1590" y="230" /><di:waypoint x="1210" y="230" /><di:waypoint x="1210" y="303" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_11ms1c3_di" bpmnElement="Flow_11ms1c3"><di:waypoint x="1615" y="120" /><di:waypoint x="1670" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1ym39un_di" bpmnElement="Flow_1ym39un"><di:waypoint x="2450" y="160" /><di:waypoint x="2450" y="230" /><di:waypoint x="1210" y="230" /><di:waypoint x="1210" y="303" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ksy0de_di" bpmnElement="Flow_0ksy0de"><di:waypoint x="1330" y="145" /><di:waypoint x="1330" y="230" /><di:waypoint x="1210" y="230" /><di:waypoint x="1210" y="303" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0eutfa7_di" bpmnElement="Flow_0eutfa7"><di:waypoint x="1085" y="230" /><di:waypoint x="1210" y="230" /><di:waypoint x="1210" y="303" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0q3jgqo_di" bpmnElement="Flow_0q3jgqo"><di:waypoint x="860" y="343" /><di:waypoint x="1060" y="343" /><di:waypoint x="1060" y="255" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_08kw6v6_di" bpmnElement="Flow_08kw6v6"><di:waypoint x="1520" y="120" /><di:waypoint x="1565" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ewzpdx_di" bpmnElement="Flow_0ewzpdx"><di:waypoint x="1920" y="120" /><di:waypoint x="1975" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0us1bm4_di" bpmnElement="Flow_0us1bm4"><di:waypoint x="1770" y="120" /><di:waypoint x="1820" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1nu2vxx_di" bpmnElement="Flow_1nu2vxx"><di:waypoint x="1355" y="120" /><di:waypoint x="1420" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1lau7rs_di" bpmnElement="Flow_1lau7rs"><di:waypoint x="1260" y="120" /><di:waypoint x="1305" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1hfn03x_di" bpmnElement="Flow_1hfn03x"><di:waypoint x="1110" y="120" /><di:waypoint x="1160" y="120" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0okxajd_di" bpmnElement="Flow_0okxajd"><di:waypoint x="1060" y="205" /><di:waypoint x="1060" y="160" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0npbbrq_di" bpmnElement="SequenceFlow_0npbbrq"><di:waypoint x="560" y="368" /><di:waypoint x="560" y="478" /><di:waypoint x="652" y="478" /><bpmndi:BPMNLabel><dc:Bounds x="-439" y="338" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0xtmyri_di" bpmnElement="SequenceFlow_0xtmyri"><di:waypoint x="1110" y="478" /><di:waypoint x="1192" y="478" /><bpmndi:BPMNLabel><dc:Bounds x="-217.5" y="387" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_19v5jur_di" bpmnElement="SequenceFlow_19v5jur"><di:waypoint x="688" y="478" /><di:waypoint x="760" y="478" /><bpmndi:BPMNLabel><dc:Bounds x="-396.5" y="387" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_05ldvre_di" bpmnElement="SequenceFlow_05ldvre"><di:waypoint x="585" y="343" /><di:waypoint x="620" y="343" /><bpmndi:BPMNLabel><dc:Bounds x="-384.5" y="252" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_186ko3j_di" bpmnElement="Flow_186ko3j"><di:waypoint x="2070" y="343" /><di:waypoint x="2110" y="343" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hcp8yx_di" bpmnElement="Flow_0hcp8yx"><di:waypoint x="1930" y="343" /><di:waypoint x="1970" y="343" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_13kxkap_di" bpmnElement="Flow_13kxkap"><di:waypoint x="2500" y="510" /><di:waypoint x="2540" y="510" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0tdya22_di" bpmnElement="Flow_0tdya22"><di:waypoint x="3840" y="510" /><di:waypoint x="3902" y="510" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1bjwudp_di" bpmnElement="SequenceFlow_1bjwudp"><di:waypoint x="720" y="343" /><di:waypoint x="760" y="343" /><bpmndi:BPMNLabel><dc:Bounds x="76.5" y="252" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0zjm21b_di" bpmnElement="SequenceFlow_0zjm21b"><di:waypoint x="1530" y="343" /><di:waypoint x="1560" y="343" /><bpmndi:BPMNLabel><dc:Bounds x="954.5" y="102" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1dfr5i0_di" bpmnElement="SequenceFlow_1dfr5i0"><di:waypoint x="2640" y="510" /><di:waypoint x="2666" y="510" /><bpmndi:BPMNLabel><dc:Bounds x="1075.5" y="252" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_04j9e0e_di" bpmnElement="SequenceFlow_04j9e0e"><di:waypoint x="2210" y="343" /><di:waypoint x="2270" y="343" /><bpmndi:BPMNLabel><dc:Bounds x="1020" y="437" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_085daed_di" bpmnElement="SequenceFlow_085daed"><di:waypoint x="1260" y="343" /><di:waypoint x="1290" y="343" /><bpmndi:BPMNLabel><dc:Bounds x="192.5" y="252" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0h1tep8_di" bpmnElement="SequenceFlow_0h1tep8"><di:waypoint x="1390" y="343" /><di:waypoint x="1430" y="343" /><bpmndi:BPMNLabel><dc:Bounds x="357.5" y="252" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1lnrl73_di" bpmnElement="SequenceFlow_1lnrl73"><di:waypoint x="2350" y="510" /><di:waypoint x="2400" y="510" /><bpmndi:BPMNLabel><dc:Bounds x="1020" y="326.5" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0r6ij66_di" bpmnElement="SequenceFlow_0r6ij66"><di:waypoint x="3300" y="510" /><di:waypoint x="3350" y="510" /><bpmndi:BPMNLabel><dc:Bounds x="1522" y="248" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_1r1dlc4_di" bpmnElement="SequenceFlow_1r1dlc4"><di:waypoint x="2930" y="510" /><di:waypoint x="3020" y="510" /><bpmndi:BPMNLabel><dc:Bounds x="1348" y="248" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0lld34p_di" bpmnElement="SequenceFlow_0lld34p"><di:waypoint x="2766" y="510" /><di:waypoint x="2830" y="510" /><bpmndi:BPMNLabel><dc:Bounds x="1181" y="248" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0or7jn6_di" bpmnElement="SequenceFlow_0or7jn6"><di:waypoint x="188" y="343" /><di:waypoint x="535" y="343" /><bpmndi:BPMNLabel><dc:Bounds x="-70.5" y="102" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds x="152" y="325" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="-512" y="291" width="90" height="20" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_13r0m9q_di" bpmnElement="ServiceTask_13r0m9q"><dc:Bounds x="2666" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1b1f55c_di" bpmnElement="ServiceTask_1b1f55c"><dc:Bounds x="3200" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0qv2plw_di" bpmnElement="ServiceTask_0qv2plw" bioc:stroke="#FB8C00" bioc:fill="#FFE0B2"><dc:Bounds x="1430" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0kzxb6d_di" bpmnElement="ServiceTask_0kzxb6d"><dc:Bounds x="2830" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_16htt9c_di" bpmnElement="UserTask_16htt9c" bioc:stroke="#1E88E5" bioc:fill="#BBDEFB"><dc:Bounds x="2540" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_15nm8md_di" bpmnElement="ServiceTask_15nm8md"><dc:Bounds x="620" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1kh828o_di" bpmnElement="ServiceTask_1kh828o"><dc:Bounds x="1160" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1av0gxy_di" bpmnElement="ServiceTask_1av0gxy"><dc:Bounds x="1290" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1fdefeb_di" bpmnElement="ServiceTask_1fdefeb"><dc:Bounds x="1970" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="UserTask_185hu0n_di" bpmnElement="UserTask_185hu0n" bioc:stroke="#1E88E5" bioc:fill="#BBDEFB"><dc:Bounds x="2110" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_0quhqfo_di" bpmnElement="ServiceTask_0quhqfo"><dc:Bounds x="2250" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0xaa7sq_di" bpmnElement="Activity_0xaa7sq"><dc:Bounds x="3740" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0uve6xv_di" bpmnElement="Activity_0uve6xv"><dc:Bounds x="2400" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_12r7ae3_di" bpmnElement="Activity_12r7ae3"><dc:Bounds x="1830" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="ParallelGateway_1wdmdyb_di" bpmnElement="ExclusiveGateway_1w00eqg"><dc:Bounds x="535" y="318" width="50" height="50" /><bpmndi:BPMNLabel><dc:Bounds x="-454" y="226" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="IntermediateCatchEvent_1pzx72c_di" bpmnElement="IntermediateCatchEvent_1pzx72c"><dc:Bounds x="652" y="460" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="-499" y="426" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="ServiceTask_1ju38he_di" bpmnElement="ServiceTask_1ju38he"><dc:Bounds x="1010" y="438" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="EndEvent_1yqz68b_di" bpmnElement="EndEvent_1yqz68b"><dc:Bounds x="1192" y="460" width="36" height="36" /><bpmndi:BPMNLabel><dc:Bounds x="-160" y="430" width="0" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1y46w5a_di" bpmnElement="EndEvent_0djl7a3"><dc:Bounds x="3902" y="492" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_08pyvi5_di" bpmnElement="Gateway_08pyvi5" isMarkerVisible="true"><dc:Bounds x="1035" y="205" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_18b31vp_di" bpmnElement="Activity_18b31vp"><dc:Bounds x="1010" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1w75y9w_di" bpmnElement="Activity_1w75y9w"><dc:Bounds x="1160" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1mjhxui_di" bpmnElement="Gateway_1mjhxui" isMarkerVisible="true"><dc:Bounds x="1305" y="95" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1k2yn2n_di" bpmnElement="Activity_1k2yn2n"><dc:Bounds x="1820" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_00bd0xi_di" bpmnElement="Activity_00bd0xi"><dc:Bounds x="1670" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0hj7vjy_di" bpmnElement="Activity_0hj7vjy"><dc:Bounds x="1420" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0874qov_di" bpmnElement="Activity_0874qov"><dc:Bounds x="2090" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0j52ymr_di" bpmnElement="Activity_0j52ymr"><dc:Bounds x="760" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1kjdu5t_di" bpmnElement="Gateway_0dkmqp6" isMarkerVisible="true"><dc:Bounds x="1565" y="95" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1r60raz_di" bpmnElement="Gateway_0b1od56" isMarkerVisible="true"><dc:Bounds x="1975" y="95" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0pylmep_di" bpmnElement="Activity_0pylmep" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="1560" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0r0ylc0_di" bpmnElement="Activity_0r0ylc0" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="3350" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1af3xsl_di" bpmnElement="Activity_1af3xsl" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)"><dc:Bounds x="3590" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0hdbo8n_di" bpmnElement="Activity_0hdbo8n"><dc:Bounds x="2270" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_0fkzwv8_di" bpmnElement="Gateway_0fkzwv8" isMarkerVisible="true"><dc:Bounds x="2445" y="318" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1vlv2rg_di" bpmnElement="Activity_1vlv2rg"><dc:Bounds x="2590" y="303" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_02ly2vi_di" bpmnElement="Event_02ly2vi"><dc:Bounds x="1732" y="325" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_11fzuhm_di" bpmnElement="Event_11fzuhm"><dc:Bounds x="3502" y="492" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1llfmiw_di" bpmnElement="Activity_1llfmiw"><dc:Bounds x="2240" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1wn9re2_di" bpmnElement="Activity_1wn9re2"><dc:Bounds x="2400" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0dbr2e9_di" bpmnElement="Activity_0dbr2e9"><dc:Bounds x="3020" y="470" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1tkn297_di" bpmnElement="Activity_0xgy4ob"><dc:Bounds x="760" y="438" width="100" height="80" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>
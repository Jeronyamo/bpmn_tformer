<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.2.0"><bpmn:process id="TEMPLATE_INSTANCE_PROCESS_enablingAgreement_5cef2871-1d77-4c57-a5a5-c0cbe83e0d1d" name="Подключение договора" isExecutable="true"><bpmn:documentation /><bpmn:startEvent id="StartEvent_1"><bpmn:outgoing>SequenceFlow_0or7jn6</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id="SequenceFlow_0or7jn6" sourceRef="StartEvent_1" targetRef="Activity_17nfl5h" /><bpmn:serviceTask id="Activity_17nfl5h" name="Получаем значение параметров"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/getAttributes?systemName=cifID&amp;systemName=IsGenerate</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="CIF"><camunda:script scriptFormat="javascript">JSON.parse(response).cifID</camunda:script></camunda:outputParameter><camunda:outputParameter name="IsGenerate"><camunda:script scriptFormat="javascript">JSON.parse(response).IsGenerate</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>SequenceFlow_0or7jn6</bpmn:incoming><bpmn:outgoing>Flow_14q3k3c</bpmn:outgoing></bpmn:serviceTask><bpmn:exclusiveGateway id="Gateway_15nl6pc" default="Flow_082vytw"><bpmn:incoming>Flow_14q3k3c</bpmn:incoming><bpmn:outgoing>Flow_082vytw</bpmn:outgoing><bpmn:outgoing>Flow_03cq534</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:serviceTask id="Activity_13cyiuq" name="Установка статуса &#34;Ошибка - не заполнен CIF&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка:+Не+заполнен+CIF</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_03cq534</bpmn:incoming><bpmn:outgoing>Flow_0nc2bmd</bpmn:outgoing></bpmn:serviceTask><bpmn:serviceTask id="Activity_0ykmoky" name="Сообщаем об окончании процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_17r2b1v</bpmn:incoming><bpmn:outgoing>Flow_0iz8d2k</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_01hcy03"><bpmn:incoming>Flow_0iz8d2k</bpmn:incoming></bpmn:endEvent><bpmn:serviceTask id="Activity_05yt1fn" name="Ищем клиента"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/common/executeRequest</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload">{ 	"find": "individualPerson", 	

"filter": 

{

"activityStatus": "ACTIVE", 

"attributes.cifID": "${CIF}"

},

"projection": { 		"_id": 1, "attributes.date_contract": 1, "attributes.num_contract":1 	}

}</camunda:inputParameter><camunda:outputParameter name="ClientId"><camunda:script scriptFormat="javascript">try {
JSON.parse(response).cursor.firstBatch[0]._id
}
catch (e)
{
"0"
}</camunda:script></camunda:outputParameter><camunda:outputParameter name="isEmpty"><camunda:script scriptFormat="javascript">S(response)
.prop("cursor")
.prop("firstBatch").elements().isEmpty()</camunda:script></camunda:outputParameter><camunda:outputParameter name="date_contract"><camunda:script scriptFormat="javascript">try {

JSON.parse(response).cursor.firstBatch[0].attributes.date_contract

}

catch (e)

{

""

}</camunda:script></camunda:outputParameter><camunda:outputParameter name="num_contract"><camunda:script scriptFormat="javascript">try {

JSON.parse(response).cursor.firstBatch[0].attributes.num_contract

}

catch (e)

{

""

}</camunda:script></camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_082vytw</bpmn:incoming><bpmn:outgoing>Flow_017bz8d</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_082vytw" sourceRef="Gateway_15nl6pc" targetRef="Activity_05yt1fn" /><bpmn:sequenceFlow id="Flow_03cq534" sourceRef="Gateway_15nl6pc" targetRef="Activity_13cyiuq"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${CIF== null}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_0nc2bmd" sourceRef="Activity_13cyiuq" targetRef="Activity_1i9fwa9" /><bpmn:sequenceFlow id="Flow_0iz8d2k" sourceRef="Activity_0ykmoky" targetRef="Event_01hcy03" /><bpmn:sequenceFlow id="Flow_14q3k3c" sourceRef="Activity_17nfl5h" targetRef="Gateway_15nl6pc" /><bpmn:exclusiveGateway id="Gateway_1nr0d3q" default="Flow_0zf5unz"><bpmn:incoming>Flow_017bz8d</bpmn:incoming><bpmn:outgoing>Flow_1yxu53z</bpmn:outgoing><bpmn:outgoing>Flow_0zf5unz</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_017bz8d" sourceRef="Activity_05yt1fn" targetRef="Gateway_1nr0d3q" /><bpmn:serviceTask id="Activity_1i9fwa9" name="Устанавливаем значение параметров (сообщение об ошибке)"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes?esWaitUntil=true</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("Message","Не заполнен cifId клиента")
.prop("IsActionCompleted", false)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0nc2bmd</bpmn:incoming><bpmn:outgoing>Flow_0pk6pze</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0pk6pze" sourceRef="Activity_1i9fwa9" targetRef="Activity_003cfqw" /><bpmn:serviceTask id="Activity_1abij7z" name="Установка статуса &#34;Ошибка - не найден клиент&#34;"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/saveLabel/${instanceId}?label=Ошибка:+Не+найден+клиент</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1yxu53z</bpmn:incoming><bpmn:outgoing>Flow_14y9pol</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1yxu53z" name="Не найден клиент" sourceRef="Gateway_1nr0d3q" targetRef="Activity_1abij7z"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isEmpty == true}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:serviceTask id="Activity_1tyh688" name="Устанавливаем значение параметров (сообщение об ошибке)"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes?esWaitUntil=true</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("Message","Не найден клиент")
.prop("IsActionCompleted", false)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_14y9pol</bpmn:incoming><bpmn:outgoing>Flow_1yod4sf</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_14y9pol" sourceRef="Activity_1abij7z" targetRef="Activity_1tyh688" /><bpmn:serviceTask id="Activity_0i6281w" name="Сообщаем об окончании процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0qv9c41</bpmn:incoming><bpmn:outgoing>Flow_0a4el21</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1yod4sf" sourceRef="Activity_1tyh688" targetRef="Activity_1b10mz1" /><bpmn:endEvent id="Event_0chfcc4"><bpmn:incoming>Flow_0a4el21</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="Flow_0a4el21" sourceRef="Activity_0i6281w" targetRef="Event_0chfcc4" /><bpmn:sequenceFlow id="Flow_0zf5unz" sourceRef="Gateway_1nr0d3q" targetRef="Gateway_13jfmtk" /><bpmn:intermediateThrowEvent id="Event_1af3cdq"><bpmn:incoming>Flow_0e899sv</bpmn:incoming><bpmn:outgoing>Flow_0iemck6</bpmn:outgoing><bpmn:signalEventDefinition id="SignalEventDefinition_0oegly7" signalRef="Signal_0z7u56q" /></bpmn:intermediateThrowEvent><bpmn:exclusiveGateway id="Gateway_13jfmtk" default="Flow_0e899sv"><bpmn:incoming>Flow_0zf5unz</bpmn:incoming><bpmn:outgoing>Flow_0e899sv</bpmn:outgoing><bpmn:outgoing>Flow_1elewcr</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0e899sv" sourceRef="Gateway_13jfmtk" targetRef="Event_1af3cdq" /><bpmn:serviceTask id="Activity_04hrfmc" name="Генерируем номер договора"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/sequence/next/Agreement?default=1</camunda:inputParameter><camunda:inputParameter name="method">GET</camunda:inputParameter><camunda:outputParameter name="agreementNum">${response}</camunda:outputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0l2ties</bpmn:incoming><bpmn:outgoing>Flow_10we9mm</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1elewcr" sourceRef="Gateway_13jfmtk" targetRef="Gateway_10lzap9"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${date_contract == null || date_contract == '' || num_contract == null || num_contract == ""}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:scriptTask id="Activity_1jplyz0" name="Получаем текущую дату" scriptFormat="JavaScript" camunda:resultVariable="date_contract"><bpmn:incoming>Flow_0jn1ik6</bpmn:incoming><bpmn:incoming>Flow_18e0ex2</bpmn:incoming><bpmn:incoming>Flow_1pg3zvd</bpmn:incoming><bpmn:incoming>Flow_0h6mqfu</bpmn:incoming><bpmn:incoming>Flow_1wimc09</bpmn:incoming><bpmn:incoming>Flow_01y8mjs</bpmn:incoming><bpmn:incoming>Flow_0ea92dx</bpmn:incoming><bpmn:incoming>Flow_1lkcg5c</bpmn:incoming><bpmn:incoming>Flow_105png6</bpmn:incoming><bpmn:outgoing>Flow_1f2qpqc</bpmn:outgoing><bpmn:script>JSON.stringify(new Date()).replace(/"/g, '').substring(0, 10)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_10we9mm" sourceRef="Activity_04hrfmc" targetRef="Activity_1r6g9j6" /><bpmn:serviceTask id="Activity_0vb0m85" name="Устанавливаем значение параметров (дата и время договора)"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes?esWaitUntil=true</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("date_contract", date_contract)
.prop("num_contract", num_contract)
.prop("IsActionCompleted", false)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0iemck6</bpmn:incoming><bpmn:outgoing>Flow_0871dn2</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0iemck6" sourceRef="Event_1af3cdq" targetRef="Activity_0vb0m85" /><bpmn:serviceTask id="Activity_0kgf0xb" name="Сообщаем об окончании процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_09ebys6</bpmn:incoming><bpmn:outgoing>Flow_136xuro</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0871dn2" sourceRef="Activity_0vb0m85" targetRef="Activity_1qq48kq" /><bpmn:endEvent id="Event_1x5x8k7"><bpmn:incoming>Flow_136xuro</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="Flow_136xuro" sourceRef="Activity_0kgf0xb" targetRef="Event_1x5x8k7" /><bpmn:scriptTask id="Activity_1r6g9j6" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="agreementNum_str"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_10we9mm</bpmn:incoming><bpmn:outgoing>Flow_0b5p9sf</bpmn:outgoing><bpmn:script>String(+agreementNum)</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0b5p9sf" sourceRef="Activity_1r6g9j6" targetRef="Activity_0lbj43v" /><bpmn:scriptTask id="Activity_0lbj43v" name="Длина строки" scriptFormat="javascript" camunda:resultVariable="length_agr"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_0b5p9sf</bpmn:incoming><bpmn:outgoing>Flow_1a29i1a</bpmn:outgoing><bpmn:script>agreementNum_str.length</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_1a29i1a" sourceRef="Activity_0lbj43v" targetRef="Gateway_1bmflaf" /><bpmn:userTask id="Activity_0bu44jw" name="кнопка" camunda:formKey=""><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Accept&#34;,&#34;label&#34;:&#34;Подтвердить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements></bpmn:userTask><bpmn:sequenceFlow id="Flow_0j7vmx8" sourceRef="Gateway_1bmflaf" targetRef="Activity_11ffzb7" /><bpmn:scriptTask id="Activity_1qqoent" name="Номер договора" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_1jqjmho</bpmn:incoming><bpmn:outgoing>Flow_18e0ex2</bpmn:outgoing><bpmn:script>"ИР00000000"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_1jqjmho" sourceRef="Gateway_1bmflaf" targetRef="Activity_1qqoent"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${length_agr == 1}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:scriptTask id="Activity_19oukzb" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_0ecyie2</bpmn:incoming><bpmn:outgoing>Flow_1pg3zvd</bpmn:outgoing><bpmn:script>"ИР0000000"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0ecyie2" sourceRef="Gateway_1bmflaf" targetRef="Activity_19oukzb"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${length_agr == 2}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:scriptTask id="Activity_19fyh95" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_1neltwu</bpmn:incoming><bpmn:outgoing>Flow_0h6mqfu</bpmn:outgoing><bpmn:script>"ИР000000"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="Activity_1rt9sb2" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_1f7ot4t</bpmn:incoming><bpmn:outgoing>Flow_1wimc09</bpmn:outgoing><bpmn:script>"ИР00000"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="Activity_13md0o0" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_15vyh6y</bpmn:incoming><bpmn:outgoing>Flow_01y8mjs</bpmn:outgoing><bpmn:script>"ИР0000"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:exclusiveGateway id="Gateway_1bmflaf" default="Flow_0j7vmx8"><bpmn:incoming>Flow_1a29i1a</bpmn:incoming><bpmn:outgoing>Flow_0j7vmx8</bpmn:outgoing><bpmn:outgoing>Flow_1jqjmho</bpmn:outgoing><bpmn:outgoing>Flow_0ecyie2</bpmn:outgoing><bpmn:outgoing>Flow_15vyh6y</bpmn:outgoing><bpmn:outgoing>Flow_1d72ny0</bpmn:outgoing><bpmn:outgoing>Flow_1uj8u0l</bpmn:outgoing><bpmn:outgoing>Flow_1dcuuno</bpmn:outgoing><bpmn:outgoing>Flow_1neltwu</bpmn:outgoing><bpmn:outgoing>Flow_1f7ot4t</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:scriptTask id="Activity_14vw04j" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_1d72ny0</bpmn:incoming><bpmn:outgoing>Flow_0ea92dx</bpmn:outgoing><bpmn:script>"ИР000"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="Activity_186xqn2" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_1dcuuno</bpmn:incoming><bpmn:outgoing>Flow_1lkcg5c</bpmn:outgoing><bpmn:script>"ИР00"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="Activity_0n5xpxk" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_1uj8u0l</bpmn:incoming><bpmn:outgoing>Flow_105png6</bpmn:outgoing><bpmn:script>"ИР0"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:scriptTask id="Activity_11ffzb7" name="Номер договора в виде строки" scriptFormat="javascript" camunda:resultVariable="num_contract"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="deleteFileServiceTask" /><camunda:property name="requestType" value="DELETE_FILE_SERVICE_TASK" /></camunda:properties></bpmn:extensionElements><bpmn:incoming>Flow_0j7vmx8</bpmn:incoming><bpmn:outgoing>Flow_0jn1ik6</bpmn:outgoing><bpmn:script>"ИР"+agreementNum_str</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0jn1ik6" sourceRef="Activity_11ffzb7" targetRef="Activity_1jplyz0" /><bpmn:sequenceFlow id="Flow_15vyh6y" sourceRef="Gateway_1bmflaf" targetRef="Activity_13md0o0"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${length_agr == 5}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1d72ny0" sourceRef="Gateway_1bmflaf" targetRef="Activity_14vw04j"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${length_agr == 6}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1uj8u0l" sourceRef="Gateway_1bmflaf" targetRef="Activity_0n5xpxk"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${length_agr == 8}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1dcuuno" sourceRef="Gateway_1bmflaf" targetRef="Activity_186xqn2"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${length_agr == 7}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1neltwu" sourceRef="Gateway_1bmflaf" targetRef="Activity_19fyh95"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${length_agr == 3}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_1f7ot4t" sourceRef="Gateway_1bmflaf" targetRef="Activity_1rt9sb2"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${length_agr == 4}</bpmn:conditionExpression></bpmn:sequenceFlow><bpmn:sequenceFlow id="Flow_18e0ex2" sourceRef="Activity_1qqoent" targetRef="Activity_1jplyz0" /><bpmn:sequenceFlow id="Flow_1pg3zvd" sourceRef="Activity_19oukzb" targetRef="Activity_1jplyz0" /><bpmn:sequenceFlow id="Flow_0h6mqfu" sourceRef="Activity_19fyh95" targetRef="Activity_1jplyz0" /><bpmn:sequenceFlow id="Flow_1wimc09" sourceRef="Activity_1rt9sb2" targetRef="Activity_1jplyz0" /><bpmn:sequenceFlow id="Flow_01y8mjs" sourceRef="Activity_13md0o0" targetRef="Activity_1jplyz0" /><bpmn:sequenceFlow id="Flow_0ea92dx" sourceRef="Activity_14vw04j" targetRef="Activity_1jplyz0" /><bpmn:sequenceFlow id="Flow_1lkcg5c" sourceRef="Activity_186xqn2" targetRef="Activity_1jplyz0" /><bpmn:sequenceFlow id="Flow_105png6" sourceRef="Activity_0n5xpxk" targetRef="Activity_1jplyz0" /><bpmn:serviceTask id="Activity_0fabpt3" name="Устанавливаем значение параметров (дата и время договора)"><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocServiceTask" value="true" /><camunda:property name="ezdocServiceTaskType" value="request" /><camunda:property name="requestType" value="GENERIC" /></camunda:properties><camunda:connector><camunda:inputOutput><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry><camunda:entry key="Content-Type">application/json</camunda:entry></camunda:map></camunda:inputParameter><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/${instanceId}/setAttributes?esWaitUntil=true</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="payload"><camunda:script scriptFormat="javascript">S("{}")
.prop("date_contract", date_contract)
.prop("num_contract", num_contract)
.prop("IsActionCompleted", true)
.toString()</camunda:script></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_1f2qpqc</bpmn:incoming><bpmn:outgoing>Flow_0lnsqtz</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_1f2qpqc" sourceRef="Activity_1jplyz0" targetRef="Activity_0fabpt3" /><bpmn:serviceTask id="Activity_1vxl5ao" name="Сообщаем об окончании процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0lg4m5w</bpmn:incoming><bpmn:outgoing>Flow_04wk3w8</bpmn:outgoing></bpmn:serviceTask><bpmn:sequenceFlow id="Flow_0lnsqtz" sourceRef="Activity_0fabpt3" targetRef="Activity_13touax" /><bpmn:endEvent id="Event_16prli7"><bpmn:incoming>Flow_04wk3w8</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id="Flow_04wk3w8" sourceRef="Activity_1vxl5ao" targetRef="Event_16prli7" /><bpmn:userTask id="Activity_1wesnak" name="кнопка" camunda:formKey=""><bpmn:extensionElements><camunda:properties><camunda:property name="isEzdocTask" value="true" /><camunda:property name="ezdocTaskType" value="buttons" /></camunda:properties><camunda:taskListener event="create"><camunda:script scriptFormat="javascript">try {
              var formData = task.execution.processEngineServices.formService.getTaskFormData(task.id);
              var data = {};
              data.taskId = task.id;
              data.templateId = templateId;
              data.formKey = formData.formKey;
              var formFields = [];
              formData.formFields.forEach(function (a) {formFields.push(a.id)});
              data.formFields = formFields;

              httpPost(ezdocUrl + "/api/camunda/common/taskNotify?type=" + type + "&amp;instanceId=" + instanceId, JSON.stringify(data));
              }
              catch(error) {}

              /*************
              UTILITY FUNCTIONS
              *************/
              function httpPost(e,t,n){n=n||"application/json;charset=UTF-8";var a=new java.net.URL(e).openConnection();return a.requestMethod="POST",a.setRequestProperty("Content-Type",n),a.setRequestProperty("Accept-Charset", "UTF-8"),a.doOutput=!0,write(a.outputStream,t),asResponse(a)}function asResponse(e){return{data:read(e.inputStream),statusCode:e.responseCode}}function write(e,t){var n=new java.io.DataOutputStream(e);n.writeChars(t),n.flush(),n.close()}function read(e){for(var t,n=new java.io.BufferedReader(new java.io.InputStreamReader(e)),a=new java.lang.StringBuffer;null!=(t=n.readLine());)a.append(t);return n.close(),a.toString()}</camunda:script></camunda:taskListener><camunda:formData><camunda:formField id="{&#34;id&#34;:&#34;Accept&#34;,&#34;label&#34;:&#34;Подтвердить&#34;,&#34;type&#34;:&#34;simple&#34;}" type="string" /></camunda:formData></bpmn:extensionElements></bpmn:userTask><bpmn:scriptTask id="Activity_003cfqw" name="Формирование ответа" camunda:asyncAfter="true" scriptFormat="javascript" camunda:resultVariable="Q_Result"><bpmn:incoming>Flow_0pk6pze</bpmn:incoming><bpmn:outgoing>Flow_17r2b1v</bpmn:outgoing><bpmn:script>var q = new Object();
q.message = "Не заполнен cifId клиента";
q.status = "ERROR";
q.cifID = CIF;
JSON.stringify(q);</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_17r2b1v" sourceRef="Activity_003cfqw" targetRef="Activity_0ykmoky" /><bpmn:scriptTask id="Activity_1b10mz1" name="Формирование ответа" camunda:asyncAfter="true" scriptFormat="javascript" camunda:resultVariable="Q_Result"><bpmn:incoming>Flow_1yod4sf</bpmn:incoming><bpmn:outgoing>Flow_0qv9c41</bpmn:outgoing><bpmn:script>var q = new Object();
q.message = "Не найден клиент " + CIF;
q.status = "ERROR";
q.cifID = CIF;
JSON.stringify(q);</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0qv9c41" sourceRef="Activity_1b10mz1" targetRef="Activity_0i6281w" /><bpmn:scriptTask id="Activity_1qq48kq" name="Формирование ответа" camunda:asyncAfter="true" scriptFormat="javascript" camunda:resultVariable="Q_Result"><bpmn:incoming>Flow_0871dn2</bpmn:incoming><bpmn:outgoing>Flow_09ebys6</bpmn:outgoing><bpmn:script>var q = new Object();
q.status = "SUCCESS";
q.cifID = CIF;
q.date_contract = date_contract.substring(0, 10);
q.num_contract = num_contract;
JSON.stringify(q);</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_09ebys6" sourceRef="Activity_1qq48kq" targetRef="Activity_0kgf0xb" /><bpmn:scriptTask id="Activity_13touax" name="Формирование ответа" camunda:asyncAfter="true" scriptFormat="javascript" camunda:resultVariable="Q_Result"><bpmn:incoming>Flow_0lnsqtz</bpmn:incoming><bpmn:outgoing>Flow_0lg4m5w</bpmn:outgoing><bpmn:script>var q = new Object();
q.status = "SUCCESS";
q.date_contract = date_contract;
q.num_contract = num_contract;
q.cifID = CIF;
JSON.stringify(q);</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0lg4m5w" sourceRef="Activity_13touax" targetRef="Activity_1vxl5ao" /><bpmn:exclusiveGateway id="Gateway_10lzap9" default="Flow_0l2ties"><bpmn:incoming>Flow_1elewcr</bpmn:incoming><bpmn:outgoing>Flow_0l2ties</bpmn:outgoing><bpmn:outgoing>Flow_11nukyu</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id="Flow_0l2ties" sourceRef="Gateway_10lzap9" targetRef="Activity_04hrfmc" /><bpmn:serviceTask id="Activity_0dh8js6" name="Сообщаем об окончании процесса" camunda:asyncAfter="true"><bpmn:extensionElements><camunda:connector><camunda:inputOutput><camunda:inputParameter name="url">${ezdocUrl}/api/camunda/instance/book/processCompleted/${instanceId}</camunda:inputParameter><camunda:inputParameter name="method">POST</camunda:inputParameter><camunda:inputParameter name="headers"><camunda:map><camunda:entry key="Accept">*/*</camunda:entry></camunda:map></camunda:inputParameter></camunda:inputOutput><camunda:connectorId>http-connector</camunda:connectorId></camunda:connector></bpmn:extensionElements><bpmn:incoming>Flow_0hqo8iq</bpmn:incoming><bpmn:outgoing>Flow_0hbs541</bpmn:outgoing></bpmn:serviceTask><bpmn:endEvent id="Event_052zbzw"><bpmn:incoming>Flow_0hbs541</bpmn:incoming></bpmn:endEvent><bpmn:scriptTask id="Activity_1mehe5o" name="Формирование ответа" camunda:asyncAfter="true" scriptFormat="javascript" camunda:resultVariable="Q_Result"><bpmn:incoming>Flow_11nukyu</bpmn:incoming><bpmn:outgoing>Flow_0hqo8iq</bpmn:outgoing><bpmn:script>var q = new Object();
q.status = "SUCCESS";
q.date_contract = "";
q.num_contract = "";
q.cifID = CIF;
JSON.stringify(q);</bpmn:script></bpmn:scriptTask><bpmn:sequenceFlow id="Flow_0hqo8iq" sourceRef="Activity_1mehe5o" targetRef="Activity_0dh8js6" /><bpmn:sequenceFlow id="Flow_0hbs541" sourceRef="Activity_0dh8js6" targetRef="Event_052zbzw" /><bpmn:sequenceFlow id="Flow_11nukyu" sourceRef="Gateway_10lzap9" targetRef="Activity_1mehe5o"><bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${IsGenerate == false}</bpmn:conditionExpression></bpmn:sequenceFlow></bpmn:process><bpmn:signal id="Signal_0z7u56q" name="agreementOpen${CIF}" /><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TEMPLATE_INSTANCE_PROCESS_enablingAgreement_5cef2871-1d77-4c57-a5a5-c0cbe83e0d1d"><bpmndi:BPMNEdge id="Flow_11nukyu_di" bpmnElement="Flow_11nukyu"><di:waypoint x="1110" y="555" /><di:waypoint x="1110" y="640" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hbs541_di" bpmnElement="Flow_0hbs541"><di:waypoint x="1110" y="880" /><di:waypoint x="1110" y="922" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0hqo8iq_di" bpmnElement="Flow_0hqo8iq"><di:waypoint x="1110" y="720" /><di:waypoint x="1110" y="800" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0l2ties_di" bpmnElement="Flow_0l2ties"><di:waypoint x="1135" y="530" /><di:waypoint x="1290" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0lg4m5w_di" bpmnElement="Flow_0lg4m5w"><di:waypoint x="2590" y="530" /><di:waypoint x="2640" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_09ebys6_di" bpmnElement="Flow_09ebys6"><di:waypoint x="920" y="940" /><di:waypoint x="920" y="1020" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0qv9c41_di" bpmnElement="Flow_0qv9c41"><di:waypoint x="730" y="940" /><di:waypoint x="730" y="1020" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_17r2b1v_di" bpmnElement="Flow_17r2b1v"><di:waypoint x="410" y="930" /><di:waypoint x="410" y="1020" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_04wk3w8_di" bpmnElement="Flow_04wk3w8"><di:waypoint x="2740" y="530" /><di:waypoint x="2782" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0lnsqtz_di" bpmnElement="Flow_0lnsqtz"><di:waypoint x="2420" y="530" /><di:waypoint x="2490" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1f2qpqc_di" bpmnElement="Flow_1f2qpqc"><di:waypoint x="2260" y="530" /><di:waypoint x="2320" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_105png6_di" bpmnElement="Flow_105png6"><di:waypoint x="1800" y="860" /><di:waypoint x="2210" y="860" /><di:waypoint x="2210" y="570" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1lkcg5c_di" bpmnElement="Flow_1lkcg5c"><di:waypoint x="1900" y="770" /><di:waypoint x="2210" y="770" /><di:waypoint x="2210" y="570" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ea92dx_di" bpmnElement="Flow_0ea92dx"><di:waypoint x="1900" y="680" /><di:waypoint x="2210" y="680" /><di:waypoint x="2210" y="570" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_01y8mjs_di" bpmnElement="Flow_01y8mjs"><di:waypoint x="1900" y="590" /><di:waypoint x="2210" y="590" /><di:waypoint x="2210" y="570" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1wimc09_di" bpmnElement="Flow_1wimc09"><di:waypoint x="1900" y="430" /><di:waypoint x="2210" y="430" /><di:waypoint x="2210" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0h6mqfu_di" bpmnElement="Flow_0h6mqfu"><di:waypoint x="1900" y="330" /><di:waypoint x="2210" y="330" /><di:waypoint x="2210" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1pg3zvd_di" bpmnElement="Flow_1pg3zvd"><di:waypoint x="1900" y="230" /><di:waypoint x="2210" y="230" /><di:waypoint x="2210" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_18e0ex2_di" bpmnElement="Flow_18e0ex2"><di:waypoint x="1800" y="120" /><di:waypoint x="2210" y="120" /><di:waypoint x="2210" y="490" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1f7ot4t_di" bpmnElement="Flow_1f7ot4t"><di:waypoint x="1750" y="505" /><di:waypoint x="1750" y="430" /><di:waypoint x="1800" y="430" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1neltwu_di" bpmnElement="Flow_1neltwu"><di:waypoint x="1750" y="505" /><di:waypoint x="1750" y="330" /><di:waypoint x="1800" y="330" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1dcuuno_di" bpmnElement="Flow_1dcuuno"><di:waypoint x="1750" y="555" /><di:waypoint x="1750" y="770" /><di:waypoint x="1800" y="770" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1uj8u0l_di" bpmnElement="Flow_1uj8u0l"><di:waypoint x="1750" y="555" /><di:waypoint x="1750" y="820" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1d72ny0_di" bpmnElement="Flow_1d72ny0"><di:waypoint x="1750" y="555" /><di:waypoint x="1750" y="680" /><di:waypoint x="1800" y="680" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_15vyh6y_di" bpmnElement="Flow_15vyh6y"><di:waypoint x="1750" y="555" /><di:waypoint x="1750" y="590" /><di:waypoint x="1800" y="590" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0jn1ik6_di" bpmnElement="Flow_0jn1ik6"><di:waypoint x="2030" y="530" /><di:waypoint x="2160" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0ecyie2_di" bpmnElement="Flow_0ecyie2"><di:waypoint x="1750" y="505" /><di:waypoint x="1750" y="250" /><di:waypoint x="1800" y="250" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1jqjmho_di" bpmnElement="Flow_1jqjmho"><di:waypoint x="1750" y="505" /><di:waypoint x="1750" y="160" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0j7vmx8_di" bpmnElement="Flow_0j7vmx8"><di:waypoint x="1775" y="530" /><di:waypoint x="1930" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1a29i1a_di" bpmnElement="Flow_1a29i1a"><di:waypoint x="1660" y="530" /><di:waypoint x="1725" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0b5p9sf_di" bpmnElement="Flow_0b5p9sf"><di:waypoint x="1530" y="530" /><di:waypoint x="1560" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_136xuro_di" bpmnElement="Flow_136xuro"><di:waypoint x="920" y="1100" /><di:waypoint x="920" y="1142" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0871dn2_di" bpmnElement="Flow_0871dn2"><di:waypoint x="920" y="800" /><di:waypoint x="920" y="860" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0iemck6_di" bpmnElement="Flow_0iemck6"><di:waypoint x="920" y="648" /><di:waypoint x="920" y="720" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_10we9mm_di" bpmnElement="Flow_10we9mm"><di:waypoint x="1390" y="530" /><di:waypoint x="1430" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1elewcr_di" bpmnElement="Flow_1elewcr"><di:waypoint x="945" y="530" /><di:waypoint x="1085" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0e899sv_di" bpmnElement="Flow_0e899sv"><di:waypoint x="920" y="555" /><di:waypoint x="920" y="612" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0zf5unz_di" bpmnElement="Flow_0zf5unz"><di:waypoint x="755" y="530" /><di:waypoint x="895" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0a4el21_di" bpmnElement="Flow_0a4el21"><di:waypoint x="730" y="1100" /><di:waypoint x="730" y="1142" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1yod4sf_di" bpmnElement="Flow_1yod4sf"><di:waypoint x="730" y="800" /><di:waypoint x="730" y="860" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14y9pol_di" bpmnElement="Flow_14y9pol"><di:waypoint x="730" y="690" /><di:waypoint x="730" y="720" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_1yxu53z_di" bpmnElement="Flow_1yxu53z"><di:waypoint x="730" y="555" /><di:waypoint x="730" y="610" /><bpmndi:BPMNLabel><dc:Bounds x="742" y="566" width="55" height="27" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0pk6pze_di" bpmnElement="Flow_0pk6pze"><di:waypoint x="410" y="810" /><di:waypoint x="410" y="850" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_017bz8d_di" bpmnElement="Flow_017bz8d"><di:waypoint x="620" y="530" /><di:waypoint x="705" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_14q3k3c_di" bpmnElement="Flow_14q3k3c"><di:waypoint x="330" y="530" /><di:waypoint x="385" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0iz8d2k_di" bpmnElement="Flow_0iz8d2k"><di:waypoint x="410" y="1100" /><di:waypoint x="410" y="1142" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_0nc2bmd_di" bpmnElement="Flow_0nc2bmd"><di:waypoint x="410" y="690" /><di:waypoint x="410" y="730" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_03cq534_di" bpmnElement="Flow_03cq534"><di:waypoint x="410" y="555" /><di:waypoint x="410" y="610" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="Flow_082vytw_di" bpmnElement="Flow_082vytw"><di:waypoint x="435" y="530" /><di:waypoint x="520" y="530" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="SequenceFlow_0or7jn6_di" bpmnElement="SequenceFlow_0or7jn6"><di:waypoint x="188" y="530" /><di:waypoint x="230" y="530" /><bpmndi:BPMNLabel><dc:Bounds x="228" y="114" width="90" height="12" /></bpmndi:BPMNLabel></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds x="152" y="512" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_17nfl5h_di" bpmnElement="Activity_17nfl5h"><dc:Bounds x="230" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_15nl6pc_di" bpmnElement="Gateway_15nl6pc" isMarkerVisible="true"><dc:Bounds x="385" y="505" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_13cyiuq_di" bpmnElement="Activity_13cyiuq"><dc:Bounds x="360" y="610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0ykmoky_di" bpmnElement="Activity_0ykmoky"><dc:Bounds x="360" y="1020" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_01hcy03_di" bpmnElement="Event_01hcy03"><dc:Bounds x="392" y="1142" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_05yt1fn_di" bpmnElement="Activity_05yt1fn"><dc:Bounds x="520" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_1nr0d3q_di" bpmnElement="Gateway_1nr0d3q" isMarkerVisible="true"><dc:Bounds x="705" y="505" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1i9fwa9_di" bpmnElement="Activity_1i9fwa9"><dc:Bounds x="360" y="730" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1abij7z_di" bpmnElement="Activity_1abij7z"><dc:Bounds x="680" y="610" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1tyh688_di" bpmnElement="Activity_1tyh688"><dc:Bounds x="680" y="720" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0i6281w_di" bpmnElement="Activity_0i6281w"><dc:Bounds x="680" y="1020" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0chfcc4_di" bpmnElement="Event_0chfcc4"><dc:Bounds x="712" y="1142" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_0py7mxf_di" bpmnElement="Event_1af3cdq"><dc:Bounds x="902" y="612" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_13jfmtk_di" bpmnElement="Gateway_13jfmtk" isMarkerVisible="true"><dc:Bounds x="895" y="505" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_04hrfmc_di" bpmnElement="Activity_04hrfmc"><dc:Bounds x="1290" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1jplyz0_di" bpmnElement="Activity_1jplyz0"><dc:Bounds x="2160" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0vb0m85_di" bpmnElement="Activity_0vb0m85"><dc:Bounds x="870" y="720" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0kgf0xb_di" bpmnElement="Activity_0kgf0xb"><dc:Bounds x="870" y="1020" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_1x5x8k7_di" bpmnElement="Event_1x5x8k7"><dc:Bounds x="902" y="1142" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1r6g9j6_di" bpmnElement="Activity_1r6g9j6"><dc:Bounds x="1430" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0lbj43v_di" bpmnElement="Activity_0lbj43v"><dc:Bounds x="1560" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0bu44jw_di" bpmnElement="Activity_0bu44jw" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="1420" y="380" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1qqoent_di" bpmnElement="Activity_1qqoent"><dc:Bounds x="1700" y="80" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_19oukzb_di" bpmnElement="Activity_19oukzb"><dc:Bounds x="1800" y="190" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_19fyh95_di" bpmnElement="Activity_19fyh95"><dc:Bounds x="1800" y="290" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1rt9sb2_di" bpmnElement="Activity_1rt9sb2"><dc:Bounds x="1800" y="390" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_13md0o0_di" bpmnElement="Activity_13md0o0"><dc:Bounds x="1800" y="550" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_17er1wh_di" bpmnElement="Gateway_1bmflaf" isMarkerVisible="true"><dc:Bounds x="1725" y="505" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_14vw04j_di" bpmnElement="Activity_14vw04j"><dc:Bounds x="1800" y="640" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_186xqn2_di" bpmnElement="Activity_186xqn2"><dc:Bounds x="1800" y="730" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0n5xpxk_di" bpmnElement="Activity_0n5xpxk"><dc:Bounds x="1700" y="820" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_11ffzb7_di" bpmnElement="Activity_11ffzb7"><dc:Bounds x="1930" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0fabpt3_di" bpmnElement="Activity_0fabpt3"><dc:Bounds x="2320" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1vxl5ao_di" bpmnElement="Activity_1vxl5ao"><dc:Bounds x="2640" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_16prli7_di" bpmnElement="Event_16prli7"><dc:Bounds x="2782" y="512" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1wesnak_di" bpmnElement="Activity_1wesnak" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)"><dc:Bounds x="2470" y="370" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_003cfqw_di" bpmnElement="Activity_003cfqw"><dc:Bounds x="360" y="850" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1b10mz1_di" bpmnElement="Activity_1b10mz1"><dc:Bounds x="680" y="860" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1qq48kq_di" bpmnElement="Activity_1qq48kq"><dc:Bounds x="870" y="860" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_13touax_di" bpmnElement="Activity_13touax"><dc:Bounds x="2490" y="490" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Gateway_10lzap9_di" bpmnElement="Gateway_10lzap9" isMarkerVisible="true"><dc:Bounds x="1085" y="505" width="50" height="50" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_0dh8js6_di" bpmnElement="Activity_0dh8js6"><dc:Bounds x="1060" y="800" width="100" height="80" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Event_052zbzw_di" bpmnElement="Event_052zbzw"><dc:Bounds x="1092" y="922" width="36" height="36" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="Activity_1mehe5o_di" bpmnElement="Activity_1mehe5o"><dc:Bounds x="1060" y="640" width="100" height="80" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>